var _e=Object.defineProperty,ye=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var J=(p,n,c)=>n in p?_e(p,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):p[n]=c,A=(p,n)=>{for(var c in n||(n={}))ge.call(n,c)&&J(p,c,n[c]);if(G)for(var c of G(n))ke.call(n,c)&&J(p,c,n[c]);return p},O=(p,n)=>ye(p,he(n));import{_ as Ce,b as h,j as we,d as Ve,o,c as a,e,a as g,F as D,B as E,f as Fe,k,g as v,i as f,l as P,h as x,m as Q,p as K,q as xe,n as L,t as C,w as T,v as X,s as Se,u as M,x as Ue}from"./index-DwKvo_yS.js";function Y(p){const n=[];let c=null,S=0;return p.forEach(w=>{w.rows.forEach(U=>{U.columns.forEach($=>{$.fields.forEach(j=>{const B=q(j.label);n.push(O(A({},j),{fieldname:B,insert_after_column:c,idx:S++})),c=B}),n.push({fieldtype:"Column Break",fieldname:q($.label),label:$.label,insert_after_column:c,idx:S++}),c=$.fieldname}),n.push({fieldtype:"Row Break",fieldname:U.fieldname,insert_after_column:c,idx:S++}),c=U.fieldname}),n.push({fieldtype:"Section Break",label:w.label,fieldname:q(w.label),insert_after_column:c,idx:S++}),c=w.fieldname}),n}function q(p){return p.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}const De={class:"d-flex justify-content-between align-items-center formsticky"},Te={class:"d-flex gap-3 align-items-center"},$e={class:"d-flex mt-2"},je={class:"d-flex align-items-center mb-1"},Be={key:0,class:"mt-2"},Ne={key:1,class:""},Ae={class:""},Me={class:"d-flex justify-content-between align-items-center"},Re={class:"form-container mt-1"},Oe={class:"row"},Ee={class:"col-2"},Le={class:"steps"},qe=["onClick"],He={key:0,class:"ri-checkbox-circle-fill completedStepIcon"},ze={class:"step-text"},We={class:"font-10"},Ge={class:"col-10"},Je={class:""},Pe={class:"form-content stepsDiv"},Qe={key:0},Ke={class:""},Xe={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},Ye={class:"row"},Ze={class:"col-4"},Ie={class:"mt-4"},et={class:""},tt={class:"mt-4"},lt={class:""},st={class:"mt-4"},ot={class:""},nt={class:"mt-4"},at={class:""},it={class:"mt-4"},dt={class:""},rt={key:1},ct={class:""},ut={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},mt={class:""},pt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},bt={class:"modal-dialog modal-xl"},vt={class:"modal-content"},ft={class:"modal-body"},_t={key:0},yt={class:"card p-1"},ht={class:"mb-2"},gt={key:0},kt=["for"],Ct=["multiple","onUpdate:modelValue"],wt=["value"],Vt={key:1,class:"row"},Ft={class:"d-flex gap-2 align-items-center"},xt=["type","name","id"],St=["for"],Ut={class:"mt-4"},Dt={class:"d-flex justify-content-between"},Tt=["onUpdate:modelValue"],$t=["onClick"],jt={class:"container-fluid"},Bt={class:"d-flex justify-content-between align-items-center"},Nt=["onClick"],At=["onClick"],Mt={class:"col"},Rt={class:"row"},Ot={class:"column_name d-flex align-items-center justify-content-between"},Et=["onUpdate:modelValue"],Lt=["onClick"],qt={class:"px-3 py-1 field-border"},Ht={class:"d-flex justify-content-between"},zt=["onUpdate:modelValue"],Wt={class:"btn btn-light btn-sm"},Gt=["onClick"],Jt=["onClick"],Pt=["onUpdate:modelValue","onChange"],Qt=["value"],Kt={key:0},Xt=["onUpdate:modelValue"],Yt={class:"d-flex gap-2 align-items-center"},Zt=["onUpdate:modelValue"],It={class:"d-flex justify-content-center align-items-center my-2"},el=["onClick"],tl={class:"d-flex justify-content-center align-items-center my-2"},ll=["onClick"],sl={__name:"CreatedComp",setup(p){const n=h({form_name:"",form_short_name:"",accessible_departments:[],business_unit:"",form_category:"",owner_of_the_form:""}),c=h([{th:"Form name",td_key:"name"},{th:"Form category",td_key:"form_category"},{th:"Owner of form",td_key:"owner"},{th:"Accessible departments",td_key:"acess"},{th:"Status",td_key:"status"}]),S=h([]);console.log(S.value,"tableeee");const w=h(!0),U=h(!1);function $(){w.value=!1,U.value=!0}function j(){w.value=!0,U.value=!1}const B=s=>{switch(s){case"About Form":z();break;case"Questions in Form":H();break}},_=h(1),Z=h({name:"",owner:"",category:"",accessibility:[],questions:[]});h({text:"",answerType:"short"});const I=["HR","Finance","IT","Sales"],ee=[{id:1,label:"About Form",stepno:"Step 1",icon:"bi bi-info-circle"},{id:2,label:"Questions in Form",stepno:"Step 2",icon:"bi bi-question-circle"}],te=[{label:"Text",type:"dataText"},{label:"Checkbox",type:"checkbox"},{label:"Radio",type:"radio"},{label:"Attach",type:"file"},{label:"Number",type:"number"},{label:"TextArea",type:"textarea"},{label:"Date",type:"date"},{label:"Select",type:"select"},{label:"MultiSelect",type:"multiselect"}],H=()=>{_.value<3&&(_.value+=1),console.log(n.value,"fffffffffffff")};function le(){const s=Y(u),t=O(A({},n.value),{fields:s});console.log(" Complete Data === ",t),Q.post(K.savedata,t).then(l=>{console.log(l,rrrrrrrrrrrrrrr)})}const z=()=>{_.value>1&&(_.value-=1)},u=we([]),W=h(!1),se=()=>{u.push({label:"",rows:[{columns:[{label:"",fields:[]}]}]})},oe=s=>{u.splice(s,1)},ne=s=>{u[s].rows.push({columns:[{fields:[]}]})},ae=(s,t)=>{u[s].rows.splice(t,1)},ie=(s,t)=>{u[s].rows[t].columns.push({label:"",fields:[]})},de=(s,t,l)=>{u[s].rows[t].columns.splice(l,1)},re=(s,t,l)=>{u[s].rows[t].columns[l].fields.push({label:"",fieldtype:"",options:null,mandatory:!1})},ce=(s,t,l,r)=>{u[s].rows[t].columns[l].fields.splice(r,1)},ue=(s,t,l,r)=>{const b=u[s].rows[t].columns[l].fields[r],m=A({},b);m.name=`${b.name} Name the field`,u[s].rows[t].columns[l].fields.splice(r+1,0,m)},me=(s,t,l,r)=>{const b=u[s].rows[t].columns[l].fields[r];console.log("field === ",b),console.log(" sections === ",u);const m=Y(u);console.log(" extracted Format === ",m)},pe=s=>{switch(s){case"dataText":return"input";case"number":return"input";case"textarea":return"textarea";case"checkbox":return"input";case"select":return"select";case"date":return"input";case"radio":return"input";default:return"input"}},be=s=>s===0?"1st row":s===1?"2nd row":s===2?"3rd row":`${s+1}th row`,ve=()=>{W.value=!0},N=h([]);function fe(){Q.get(K.resource+xe.departments).then(s=>{var t;(t=s==null?void 0:s.data)!=null&&t.length&&(N.value=s.data.value.map(l=>l.name),console.log(N.value,"deptttttt"))})}return Ve(()=>{fe()}),(s,t)=>(o(),a("div",null,[e("div",De,[t[10]||(t[10]=e("div",null,[e("h1",{class:"m-0 font-13"},"Forms Master"),e("p",{class:"m-0 font-11 pt-1"},"374 forms available")],-1)),e("div",Te,[e("div",$e,[e("div",null,[g(D,{labeltext:"",class:"mb-3",tag:"input",type:"search",placeholder:"Search File Name",name:"Value",id:"Value",modelValue:n.value.search,"onUpdate:modelValue":t[0]||(t[0]=l=>n.value.search=l)},null,8,["modelValue"])]),e("div",null,[g(D,{tag:"select",placeholder:"Filter By",class:"mb-3",name:"roles",modelValue:n.value.selectoption,"onUpdate:modelValue":t[1]||(t[1]=l=>n.value.selectoption=l),id:"roles",Required:!1,options:["JW Marriott Golfshire Banglore","JW Marriott Golfshire Banglore"]},null,8,["modelValue"])])]),e("div",je,[g(E,{class:"buttoncomp",onClick:t[2]||(t[2]=l=>$()),name:"Create form"})])])]),w.value?(o(),a("div",Be,[g(Fe,{tHeaders:c.value,tData:S.value,isAction:"true",actionType:"dropdown",isCheckbox:"true"},null,8,["tHeaders","tData"])])):k("",!0),U.value?(o(),a("div",Ne,[e("div",Ae,[e("div",Me,[e("div",{class:"ps-1 m-0 d-flex align-items-center",onClick:t[3]||(t[3]=l=>j())},t[11]||(t[11]=[e("h1",{class:"font-13"},[e("i",{class:"bi bi-arrow-left"}),e("span",{class:"ms-2"},"Cancel Form")],-1)])),e("div",null,[g(E,{class:"font-10 rounded-2",name:"Save as Draft"})])]),e("div",Re,[e("div",Oe,[e("div",Ee,[e("ul",Le,[(o(),a(v,null,f(ee,l=>e("li",{key:l.id,class:L({active:_.value===l.id,completed:_.value>l.id})},[e("div",{class:"d-flex gap-3 align-items-center",onClick:r=>B(l.label)},[_.value>l.id?(o(),a("i",He)):(o(),a("i",{key:1,class:L(l.icon)},null,2)),e("div",ze,[e("span",We,C(l.stepno),1),t[12]||(t[12]=e("br",null,null,-1)),e("span",null,C(l.label),1)])],8,qe)],2)),64))])]),e("div",Ge,[e("div",Je,[e("div",Pe,[_.value===1?(o(),a("div",Qe,[e("div",Ke,[e("div",Xe,[t[13]||(t[13]=e("h1",{class:"font-11 m-0"},[e("i",{class:"bi bi-chevron-left"}),e("span",{class:"ms-2"},"Cancel Form")],-1)),t[14]||(t[14]=e("h1",{class:"font-11 m-0"},"About Form",-1)),_.value<3?(o(),P(E,{key:0,class:"buttoncomp",name:"Next",onClick:H})):k("",!0)])]),e("div",Ye,[t[15]||(t[15]=e("div",{class:"col-4"},null,-1)),e("div",Ze,[e("div",Ie,[e("div",et,[g(D,{labeltext:"Form Name",class:"mb-3",type:"text",tag:"input",name:"Value",id:"Value",placeholder:"Untitle Form",orm:"",modelValue:n.value.form_name,"onUpdate:modelValue":t[4]||(t[4]=l=>n.value.form_name=l)},null,8,["modelValue"])])]),e("div",tt,[e("div",lt,[g(D,{labeltext:"Form Short Code",class:"mb-3",type:"text",tag:"input",name:"Value",id:"Value",placeholder:"Untitle Form",modelValue:n.value.form_short_name,"onUpdate:modelValue":t[5]||(t[5]=l=>n.value.form_short_name=l)},null,8,["modelValue"])])]),e("div",st,[e("div",ot,[g(D,{labeltext:"Owner Of The Form",class:"mb-3 w-100",tag:"select",name:"dept",id:"dept",placeholder:"Select Department",options:N.value,modelValue:n.value.owner_of_the_form,"onUpdate:modelValue":t[6]||(t[6]=l=>n.value.owner_of_the_form=l)},null,8,["options","modelValue"])])]),e("div",nt,[e("div",at,[g(D,{labeltext:"Form Cateogry",class:"mb-3",tag:"select",name:"desgination",id:"desgination",placeholder:"Select Cateogry",options:I,modelValue:n.value.form_category,"onUpdate:modelValue":t[7]||(t[7]=l=>n.value.form_category=l)},null,8,["modelValue"])])]),e("div",it,[e("div",dt,[g(D,{labeltext:"Accessbility Departments",class:"mb-3",tag:"select",name:"desgination",id:"Departments",placeholder:"Select Desigination",options:N.value,modelValue:n.value.accessible_departments,"onUpdate:modelValue":t[8]||(t[8]=l=>n.value.accessible_departments=l)},null,8,["options","modelValue"])])])]),t[16]||(t[16]=e("div",{class:"col-4"},null,-1))])])):k("",!0),_.value===2?(o(),a("div",rt,[e("div",ct,[e("div",ut,[e("h1",{class:"font-11 m-0"},[e("i",{onClick:z,class:"bi bi-chevron-left"}),t[17]||(t[17]=e("span",{class:"ms-2"},"Back To About Form",-1))]),e("button",{class:"btn btn-light font-10",type:"button",onClick:t[9]||(t[9]=l=>le())},t[18]||(t[18]=[e("i",{class:"bi bi-eye me-1"},null,-1),x("SaveData ")])),e("button",{class:"btn btn-light font-10",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:ve},t[19]||(t[19]=[e("i",{class:"bi bi-eye me-1"},null,-1),x("Preview ")]))]),e("div",mt,[e("div",pt,[e("div",bt,[e("div",vt,[t[20]||(t[20]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title m-0 font-13",id:"exampleModalLabel"}," Preview Form "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",ft,[W.value?(o(),a("div",_t,[e("div",yt,[(o(!0),a(v,null,f(u,(l,r)=>(o(),a("div",{key:"preview-"+r,class:"preview-section mb-2"},[e("h5",null,C(l.label),1),(o(!0),a(v,null,f(l.rows,(b,m)=>(o(),a("div",{class:"row",key:m},[(o(!0),a(v,null,f(b.columns,(V,y)=>(o(),a("div",{key:"column-preview-"+y,class:"col"},[e("h6",null,C(V.label),1),e("div",ht,[(o(!0),a(v,null,f(V.fields,(i,F)=>(o(),a("div",{key:"field-preview-"+F},[i.label?(o(),a("div",gt,[e("label",{for:"field-"+r+"-"+y+"-"+F},C(i.label),9,kt),i.fieldtype=="select"||i.fieldtype=="multiselect"?T((o(),a("select",{key:0,multiple:i.fieldtype=="multiselect","onUpdate:modelValue":d=>i.value=d,class:"form-select mb-2 font-13"},[(o(!0),a(v,null,f(i.options.split(`
`),(d,R)=>(o(),a("option",{key:R,value:d},C(d),9,wt))),128))],8,Ct)),[[X,i.value]]):i.fieldtype=="checkbox"||i.fieldtype=="radio"?(o(),a("div",Vt,[(o(!0),a(v,null,f(i.options.split(`
`),(d,R)=>(o(),a("div",{class:"form-check col-4 mb-4",key:R},[e("div",Ft,[e("div",null,[e("input",{class:"",type:i.fieldtype,name:d,id:d},null,8,xt)]),e("div",null,[e("label",{class:"form-check-label m-0",for:d},C(d),9,St)])])]))),128))])):(o(),P(Se(pe(i.fieldtype)),{key:2,modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,type:i.fieldtype,name:"field-"+r+"-"+y+"-"+F,class:L([Z.value-s.control,"form-control previewInputHeight"])},null,8,["modelValue","onUpdate:modelValue","type","name","class"]))])):k("",!0)]))),128))])]))),128))]))),128))]))),128))])])):k("",!0)])])])]),e("div",Ut,[(o(!0),a(v,null,f(u,(l,r)=>(o(),a("div",{key:r,class:"dynamicSection"},[e("section",Dt,[T(e("input",{"onUpdate:modelValue":b=>l.label=b,type:"text",class:"border-less-input font-14",placeholder:"Section Name"},null,8,Tt),[[M,l.label]]),e("button",{class:"btn btn-light bg-transparent border-0 font-13",onClick:b=>oe(r)},t[21]||(t[21]=[e("i",{class:"bi bi-trash me-2"},null,-1),x(" Delete Section ")]),8,$t)]),e("div",jt,[(o(!0),a(v,null,f(l.rows,(b,m)=>(o(),a("section",{class:"row",key:m},[e("div",Bt,[e("label",null,C(be(m)),1),e("div",null,[e("button",{class:"btn btn-light bg-transparent border-0 font-13",onClick:V=>ae(r,m)},t[22]||(t[22]=[e("i",{class:"ri-subtract-line"},null,-1),x(" Remove Row ")]),8,Nt),b.columns.length<3?(o(),a("button",{key:0,class:"btn btn-light bg-transparent border-0 font-13",onClick:V=>ie(r,m)},t[23]||(t[23]=[e("i",{class:"bi bi-plus"},null,-1),x(" Add Column ")]),8,At)):k("",!0)])]),e("div",Mt,[e("div",Rt,[(o(!0),a(v,null,f(b.columns,(V,y)=>(o(),a("div",{key:y,class:"col p-0 dynamicColumn"},[e("div",Ot,[T(e("input",{"onUpdate:modelValue":i=>V.label=i,type:"text",class:"border-less-input columnFieldInput font-14",placeholder:"Column Name"},null,8,Et),[[M,V.label]]),e("button",{class:"btn btn-light btn-sm",onClick:i=>de(r,m,y)},t[24]||(t[24]=[e("i",{class:"bi bi-trash"},null,-1)]),8,Lt)]),(o(!0),a(v,null,f(V.fields,(i,F)=>(o(),a("div",{key:F,class:"mt-2"},[e("div",qt,[e("div",Ht,[T(e("input",{"onUpdate:modelValue":d=>i.label=d,placeholder:"Name the field",class:"border-less-input mb-1 columnFieldInput font-14 p-0"},null,8,zt),[[M,i.label]]),e("div",null,[e("button",Wt,[e("i",{class:"ri-file-copy-line copyIcon",onClick:d=>ue(r,m,y,F)},null,8,Gt)]),e("button",{class:"btn btn-light btn-sm",onClick:d=>ce(r,m,y,F)},t[25]||(t[25]=[e("i",{class:"bi bi-trash"},null,-1)]),8,Jt)])]),T(e("select",{"onUpdate:modelValue":d=>i.fieldtype=d,class:"form-select mb-2 font-13 searchSelect",onChange:d=>me(r,m,y,F)},[t[26]||(t[26]=e("option",{value:""},"Select Type ",-1)),(o(),a(v,null,f(te,d=>e("option",{key:d,value:d.type},C(d.label),9,Qt)),64))],40,Pt),[[X,i.fieldtype]]),i.fieldtype=="checkbox"||i.fieldtype=="radio"||i.fieldtype=="select"||i.fieldtype=="multiselect"?(o(),a("div",Kt,[t[27]||(t[27]=e("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),T(e("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":d=>i.options=d,class:"form-control shadow-none mb-1 font-12"},"                                        ",8,Xt),[[M,i.options]])])):k("",!0),e("div",Yt,[e("div",null,[T(e("input",{class:"font-12","onUpdate:modelValue":d=>i.mandatory=d,placeholder:"Field Name",type:"checkbox"},null,8,Zt),[[Ue,i.mandatory]])]),t[28]||(t[28]=e("div",null,[e("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Mandatory")],-1))])])]))),128)),e("div",It,[e("button",{class:"btn btn-light btn-sm addField m-2",onClick:i=>re(r,m,y)},t[29]||(t[29]=[e("i",{class:"bi bi-plus"},null,-1),x(" Add Field ")]),8,el)])]))),128))])])]))),128))]),e("div",tl,[e("button",{class:"btn btn-light btn-sm addRow m-2",onClick:b=>ne(r,s.rowIndex)},t[30]||(t[30]=[e("i",{class:"bi bi-plus"},null,-1),x(" Add Row ")]),8,ll)])]))),128)),e("div",{class:"d-flex justify-content-center align-items-center my-4"},[e("button",{class:"btn btn-light border font-12",onClick:se},t[31]||(t[31]=[e("i",{class:"bi bi-plus-circle me-1 fs-6"},null,-1),x(" Add Section ")]))])])])])])):k("",!0)])])])]),t[32]||(t[32]=e("div",null,null,-1))])])])):k("",!0)]))}},al=Ce(sl,[["__scopeId","data-v-9b75b8dc"]]);export{al as default};
