var M=Object.defineProperty;var U=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var q=(p,u,r)=>u in p?M(p,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):p[u]=r,S=(p,u)=>{for(var r in u||(u={}))N.call(u,r)&&q(p,r,u[r]);if(U)for(var r of U(u))O.call(u,r)&&q(p,r,u[r]);return p};import{d as P,q as j,w as z,o as t,c as s,s as y,u as d,b as a,t as k,h as B,v as L,x as G,y as J,z as K}from"./index-B-ZWE6ER.js";const Q={key:0,class:"card"},R={class:"section-label"},W={class:"m-0 font-13"},X={class:"container-fluid"},Y={key:0,class:"p-3 border-bottom"},Z={class:"m-0 font-12"},x={class:"mx-3 my-2"},I={key:0},ee=["for"],te={class:"font-12"},se={class:"ms-1 text-danger"},ae=["multiple","value","onInput"],le=["value"],re={key:2,class:"container-fluid"},oe={class:"row"},ce=["checked","value","name","id","onBlur"],ue=["name","id","value","checked","onBlur"],ne=["for"],ie={key:3,class:"container"},pe={class:"row"},ve={class:"card-body p-2"},he={class:"d-flex gap-1 align-items-center justify-content-between"},_e={class:"font-12 fw-bold ps-1"},me=["onClick"],ye=["onUpdate:modelValue","placeholder","value","name"],be={__name:"ApproverPreview",props:{blockArr:{type:[Array,null],required:!0}},setup(p,{emit:u}){const r=p,C=u,D=P([]),F=()=>{var _;const h=[];return(_=r.blockArr)==null||_.forEach(f=>{var n;(n=f.sections)==null||n.forEach(b=>{var l;(l=b.rows)==null||l.forEach($=>{var v;(v=$.columns)==null||v.forEach(w=>{var c;(c=w.fields)==null||c.forEach(e=>{h.push(S({},e)),e.fieldtype==="Attach"&&e.value&&(D.value=e.value.split(",").map(i=>i.trim()))})})})})}),h},T=h=>{const _=`${h}`;window.open(_,"_blank")};j(()=>{C("updateField",F())}),z(()=>r.blockArr,()=>{C("updateField",F())},{deep:!0});const H=h=>{switch(h){case"Data":return"input";case"number":return"input";case"Text":return"textarea";case"Time":return"input";case"Color":return"input";case"Check":return"input";case"Select":return"select";case"Date":return"input";case"Datetime":return"input";case"Attach":return"file";case"radio":return"input";default:return"input"}},g=(h,_,f,n,b,l)=>{const $=r.blockArr[_].sections[f].rows[n].columns[b].fields[l];$.value=h.target.value,C("updateField",F()),console.log("Field Value Updated:",$)};return(h,_)=>(t(),s("section",null,[p.blockArr?(t(),s("div",Q,[(t(!0),s(y,null,d(p.blockArr,(f,n)=>(t(),s("div",{key:n,class:"block-container"},[(t(!0),s(y,null,d(f.sections,(b,l)=>(t(),s("div",{key:"preview-"+l,class:"preview-section m-2"},[a("div",R,[a("h5",W,k(b.label),1)]),a("div",X,[(t(!0),s(y,null,d(b.rows,($,v)=>(t(),s("div",{class:"row",key:v},[(t(!0),s(y,null,d($.columns,(w,c)=>(t(),s("div",{key:"column-preview-"+c,class:"col dynamicColumn"},[w.label?(t(),s("div",Y,[a("h6",Z,k(w.label),1)])):B("",!0),a("div",x,[(t(!0),s(y,null,d(w.fields,(e,i)=>{var E,V;return t(),s("div",{key:"field-preview-"+i},[e.label?(t(),s("div",I,[a("label",{for:"field-"+l+"-"+c+"-"+i},[a("span",te,k(e.label),1),a("span",se,k(e.reqd===1?"*":""),1)],8,ee)])):B("",!0),e.fieldtype==="Select"||e.fieldtype==="multiselect"?(t(),s("select",{key:1,multiple:e.fieldtype==="multiselect",value:e.value,readOnly:"",onInput:o=>g(n,l,v,c,i),class:"form-select mb-2 font-13"},[(t(!0),s(y,null,d((E=e.options)==null?void 0:E.split(`
`),(o,m)=>(t(),s("option",{key:m,value:o},k(o),9,le))),128))],40,ae)):e.fieldtype==="Check"||e.fieldtype==="radio"?(t(),s("div",re,[a("div",oe,[(t(!0),s(y,null,d((V=e==null?void 0:e.options)==null?void 0:V.split(`
`),(o,m)=>(t(),s("div",{class:"form-check col-4 mb-4",key:m},[a("div",null,[e.fieldtype==="Check"?(t(),s("input",{key:0,class:"form-check-input",type:"checkbox",checked:e.value===1,value:e.value,disabled:"",name:`${e.fieldtype}-${n}-${l}-${v}-${c}-${i}`,id:`${o}-${m}`,onBlur:A=>g(A,n,l,v,c,i)},null,40,ce)):e.fieldtype==="radio"?(t(),s("input",{key:1,disabled:"",class:"form-check-input",type:"radio",name:`${e.fieldtype}-${n}-${l}-${v}-${c}-${i}`,id:`${o}-${m}`,value:e.value,checked:e.value===1,onBlur:A=>g(A,n,l,v,c,i)},null,40,ue)):B("",!0)]),a("div",null,[a("label",{class:"form-check-label m-0",for:`${o}-${m}`},k(o),9,ne)])]))),128))])])):e.fieldtype=="Attach"?(t(),s("div",ie,[a("div",pe,[(t(!0),s(y,null,d(D.value,(o,m)=>(t(),s("div",{class:"col-3 card file-cards m-1",key:m},[a("div",ve,[a("div",he,[a("div",null,[_[0]||(_[0]=a("i",{class:"bi bi-file-earmark-text"},null,-1)),a("span",_e,k(`File ${m+1}`),1)]),a("i",{title:"view file",class:"bi bi-eye",onClick:A=>T(o)},null,8,me)])])]))),128))])])):e.fieldtype=="Datetime"?L((t(),s("input",{key:4,type:"datetime-local","onUpdate:modelValue":o=>e.value=o,placeholder:"Enter "+e.label,value:e.value,name:"field-"+l+"-"+c+"-"+i,class:"form-control previewInputHeight"},null,8,ye)),[[G,e.value]]):(t(),J(K(H(e.fieldtype)),{key:5,value:e.value,readOnly:"",type:e.fieldtype,name:"field-"+l+"-"+c+"-"+i,onBlur:o=>g(o,n,l,v,c,i),class:"form-control previewInputHeight"},null,40,["value","type","name","onBlur"]))])}),128))])]))),128))]))),128))])]))),128))]))),128))])):B("",!0)]))}};export{be as _};
