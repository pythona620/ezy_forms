import{_ as v,d as c,f as y,o as h,c as b,b as e,s as D,t as o,i as n,k as u,l as p,n as f,j as I}from"./index-LfV3iEDw.js";const x="/assets/ezy_forms/ezyformsfrontend/assets/UploadProfile-BzsawPEI.jpg",E={class:"main-div"},$={class:"py-2"},z={class:"card card-div border-0"},P={for:"fileInput",class:"cursor-pointer w-25"},w=["src"],B={class:"d-flex justify-content-between align-items-end mt-2 ms-1"},C={class:"mb-3 font-15"},S={class:"text-secondary"},U={class:"text-secondary"},j={__name:"ProfileComp",setup(k){const d=c({}),i=c(""),a=c([]);function m(l){u.get(`${p.resource}${f.EzyEmployeeList}/${l}`).then(s=>{a.value=s.data}).catch(s=>{console.error("Error fetching user data:",s)})}function _(l){const s=l.target.files[0];if(!s)return;const t=new FormData;t.append("file",s),u.post(p.uploadfile,t).then(r=>{const g=r.message.file_url;return u.put(`${p.resource}${f.EzyEmployeeList}/${a.value.name}`,{profile_image:g})}).then(()=>{m(a.value.name),I.success("Profile Updated Successfully",{autoClose:300})}).catch(r=>{console.error("Error uploading image:",r)})}return y(()=>{d.value=JSON.parse(localStorage.getItem("employeeData"))||{},i.value=d.value.emp_mail_id||"",i.value&&m(i.value)}),(l,s)=>{var t;return h(),b("div",E,[e("div",$,[e("div",z,[e("label",P,[e("img",{title:"Upload Image",src:(t=a.value)!=null&&t.profile_image?a.value.profile_image:D(x),class:"img-fluid profile-img"},null,8,w)]),e("input",{type:"file",id:"fileInput",onChange:_,accept:"image/*",hidden:""},null,32),e("div",B,[e("div",null,[e("h6",C,o(a.value.emp_name),1),e("span",null,[s[0]||(s[0]=e("i",{class:"bi bi-person-fill me-2"},null,-1)),n(o(a.value.emp_code),1)])]),e("span",null,[s[1]||(s[1]=e("i",{class:"bi bi-envelope-open-fill me-2"},null,-1)),n(o(a.value.emp_mail_id),1)]),e("span",S,[s[2]||(s[2]=n("Designation: ")),e("strong",null,o(a.value.designation),1)]),e("span",U,[s[3]||(s[3]=n("Department: ")),e("strong",null,o(a.value.department),1)])])])])])}}},L=v(j,[["__scopeId","data-v-96fb13fc"]]);export{L as default};
