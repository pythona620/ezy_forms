var At=Object.defineProperty,Rt=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var Ke=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var Qe=(S,h,g)=>h in S?At(S,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):S[h]=g,re=(S,h)=>{for(var g in h||(h={}))$t.call(h,g)&&Qe(S,g,h[g]);if(Ke)for(var g of Ke(h))zt.call(h,g)&&Qe(S,g,h[g]);return S},de=(S,h)=>Rt(S,Tt(h));var De=(S,h,g)=>new Promise((ae,B)=>{var j=L=>{try{P(g.next(L))}catch(se){B(se)}},me=L=>{try{P(g.throw(L))}catch(se){B(se)}},P=L=>L.done?ae(L.value):Promise.resolve(L.value).then(j,me);P((g=g.apply(S,h)).next())});import{_ as Bt,M as Ft,u as jt,x as X,E as Ot,r as i,f as Xt,w as Ie,o as r,c as d,d as t,m as v,i as _,N as H,b,O as K,t as c,l as u,Q as q,v as Q,L as ee,R as te,j as ue,n as z,F as ge,h as _e,S as Se,G as Ht,P as qt,T as Jt,y as k,z as E,U as f,K as I,I as et,H as le,V as Zt}from"./index-D2VGMQ-w.js";const Gt={class:"d-flex justify-content-between align-items-center py-2"},Wt={class:"modal fade",id:"createDepartments","data-bs-backdrop":"static",tabindex:"-1","data-bs-keyboard":"false","aria-labelledby":"createDepartmentsLabel","aria-hidden":"true"},Yt={class:"modal-dialog modal-lg"},Kt={class:"modal-content"},Qt={class:"modal-body"},el={class:"container-fluid"},tl={class:"row"},ll={class:"col"},al={class:"d-flex justify-content-between"},sl={class:"me-2"},ol={class:"mb-3"},nl={class:"input-container"},il=["value"],rl={key:0,class:"text-danger font-11 ps-1"},dl={class:"mb-3"},ul={key:0,class:"text-danger font-11 ps-1"},ml={class:"d-flex justify-content-between"},pl={class:"me-2"},cl={class:"col"},vl={class:"position-relative mb-3"},fl={key:0,class:"text-danger font-11 ps-1"},gl={key:1,class:"list-group position-absolute w-100 zindex-dropdown"},_l=["onClick"],bl={class:"modal-dialog"},yl={class:"modal-content"},hl={class:"modal-body"},kl={key:0,class:"text-danger font-12 mt-2"},El={class:"modal-footer"},wl=["disabled"],xl={class:"d-flex justify-content-between"},Cl={class:"font-13 ps-1",for:"reporting_to"},Dl={key:0,class:"text-danger ps-1"},Il={class:"me-2"},Sl={class:"mb-3 font-11"},Vl={key:0,style:{"max-width":"100px","max-height":"100px"},class:"d-flex justify-center position-relative mt-2"},Pl=["src"],Ml={class:"modal-footer"},Nl={key:0,class:"font-16 me-1"},Ll={key:1},Ul={key:2,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Al={key:0,class:"mt-2"},Rl={key:1},Tl={class:"bulkemployee"},$l={class:"insideBulkEmp"},zl={class:"d-flex justify-content-center align-content-center mb-5 gap-2"},Bl={key:0,class:"loader"},Fl={class:"table-container"},jl={key:0,class:"d-flex justify-content-end align-content-center p-2"},Ol={key:1,class:"warning-box"},Xl={key:2,class:"styled-table"},Hl={key:0,class:"small font-10 text-danger"},ql={class:"modal fade",id:"exampleModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Jl={class:"modal-dialog modal-lg"},Zl={class:"modal-content"},Gl={class:"modal-header"},Wl={class:"form-check d-flex justify-content-center w-25 form-switch"},Yl=["checked"],Kl={class:"font-13 ms-2 mt-1 fw-bold",for:"is_high_level"},Ql={class:"modal-body"},ea={class:"container-fluid"},ta={class:"row"},la={class:"col"},aa={class:"d-flex justify-content-between"},sa={class:"me-2"},oa={class:"mb-3"},na={class:"input-container"},ia=["readonly","value"],ra={key:0,class:"text-danger font-11 ps-1"},da={class:"mb-3"},ua={class:"input-container"},ma={key:0,class:"text-danger font-11 ps-1"},pa={class:"d-flex justify-content-between"},ca={class:"me-2"},va={class:"col"},fa={class:"position-relative mb-3"},ga={key:0,class:"text-danger font-11 ps-2"},_a={key:1,class:"list-group position-absolute w-100 zindex-dropdown"},ba=["onClick"],ya={class:"modal-dialog"},ha={class:"modal-content"},ka={class:"modal-header"},Ea={class:"modal-body"},wa={class:"modal-footer"},xa={class:"d-flex justify-content-between"},Ca={class:"font-13 ps-1",for:"reporting_to"},Da={key:0,class:"text-danger ps-1"},Ia={class:"me-2"},Sa={class:"mb-3"},Va=["value"],Pa={class:"mb-3 font-11"},Ma={key:0,class:"d-flex justify-center position-relative mt-2"},Na=["src"],La={class:"modal-footer"},Ua={class:"modal fade",id:"EmployeeToggleModal","data-bs-backdrop":"static",tabindex:"-1","aria-hidden":"true"},Aa={class:"modal-dialog modal-dialog-centered"},Ra={class:"modal-content"},Ta={class:"modal-header"},$a={class:"modal-body"},za={class:"mt-4"},Ba={class:"modal-footer"},Fa=["disabled"],ja={class:"modal fade",id:"ForgotPasswordModal",tabindex:"-1","aria-hidden":"true"},Oa={class:"modal-dialog modal-dialog-centered"},Xa={class:"modal-content"},Ha={class:"modal-body"},qa={class:"text-center"},Ja={class:"modal-footer"},Za=["disabled"],Ga={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Wa={key:1},Ya={__name:"EmployeeComp",setup(S){const h=Ft();jt();const g=X(()=>Ot.value),ae=i(!0),B=i([]),j=i(""),me=i(0),P=i([]),L=i([]),se=i([]),pe=i([]),J=i(""),be=i(!1),M=i(""),Ve=i(null),Z=i(!1),s=i({emp_code:"",emp_name:"",emp_phone:"",emp_mail_id:"",department:"",designation:"",reporting_to:"",reporting_designation:"",company_field:"",signature:""});Xt(()=>{window.location.href.includes("ncomr")&&(s.value.emp_code="NICO-")});const w=i(null),ye=i(""),m=i(""),U=i(!1),A=i([]),C=i([]),Pe=i([{th:"Employee ID",td_key:"emp_code"},{th:"Employee Name",td_key:"emp_name"},{th:"Designation",td_key:"designation"},{th:"Department",td_key:"department"},{th:"Reporting Designation",td_key:"reporting_designation"},{th:"Signature",td_key:"signature"},{th:"Hod",td_key:"is_hod"},{th:"Admin",td_key:"is_admin"},{th:"Status",td_key:"enable"}]);function tt(a){return a?a.split(".")[0]:""}const ce=i(null),he=i(0),ke=i(!1),Ee=i(""),F=i("");function lt(){N.value.trim()===""?F.value="Designation is required":/^[a-zA-Z0-9 ]*$/.test(N.value)?F.value="":F.value="Special characters are not allowed"}function Me(){U.value=!1,N.value="",F.value=""}const at=()=>{ce.value.click()},st=a=>{const e=a.target.files[0];e&&(nt(e),ce.value&&(ce.value.value=""))};function Ne(){s.value.emp_name=s.value.emp_name.trim().toUpperCase()}const ot=()=>Math.floor(Math.random()*1e6),nt=a=>{let l=`${ot()}-@${a.name}`;const o=new FormData;o.append("file",a,l),o.append("is_private","0"),o.append("folder","Home"),ke.value=!0,he.value=0,k.post(E.uploadfile,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{he.value=Math.round(n.loaded/n.total*100)}}).then(n=>{n.message&&n.message.file_url?(Ee.value=n.message.file_url,n.message.file_url&&Ee.value&&it()):f("File upload failed: file_url not found in response.")}).catch(n=>{console.error("Upload error:",n),f("File upload failed. Please try again.")}).finally(()=>{setTimeout(()=>{ke.value=!1,he.value=0},2e3)})},it=()=>{const a={file:Ee.value,doctype:I.EzyEmployeeList};k.post(E.uploadbulkEmployeefile,a).then(e=>{var l;if(!(e!=null&&e.data)){f("Import response not found.");return}if(C.value=e.data,e.data.success===!1){let o=e._error_message||e.data.message||"Import failed.";if(o=o.replace(/\s*\(.*?\)\s*/g,"").trim(),f(o),e.data._server_messages)try{const n=JSON.parse(e.data._server_messages);Array.isArray(n)&&n.forEach(p=>{let D=JSON.parse(p).message||"Permission error.";D=D.replace(/\s*\(.*?\)\s*/g,"").trim(),f(D)})}catch(n){console.error("Error parsing _server_messages:",n)}return}(l=C.value.template_warnings)!=null&&l.length&&C.value.template_warnings.forEach(o=>{et(`Warning: ${o}`)}),C.value.records&&(C.value.records=C.value.records.map(o=>de(re({},o),{message:o.message}))),C.value.template_status==="success"?le("Bulk data imported successfully!"):C.value.template_status==="failed"?f(`Import Failed: ${C.value.message}`):C.value.status==="Partial Success"&&et("Partial Success: Some records failed.")}).catch(e=>{console.error("Upload error:",e),f("Upload failed. Please try again.")})},ve=X(()=>{var e;return(((e=C.value)==null?void 0:e.records)||[]).map((l,o)=>{let n="N/A",p="N/A",y="";try{if(l.status.toLowerCase()==="success")n=Le(l.message),p="Successfully imported";else if(l.status.toLowerCase()==="failed"){const D=JSON.parse(l.message);if(Array.isArray(D)&&D.length>0){p=D[0].title||"Unknown Issue",y=D[0].message||"";const fe=rt(D);fe?(n=fe,p="Invalid Email Address"):n=Le(D)}}}catch(D){p="Parsing Error",y=l.message}return{sNo:o+1,email:n,status:l.status,displayMessage:p,errorMessage:y}})}),Le=a=>{var e,l,o;return typeof a=="string"&&(a=a.toLowerCase(),a.includes("successfully imported "))?a.split("successfully imported ")[1]||"N/A":Array.isArray(a)&&((o=(l=(e=a[0])==null?void 0:e.message)==null?void 0:l.match(/<strong>(.*?)<\/strong>/))==null?void 0:o[1])||"N/A"},rt=a=>{if(Array.isArray(a)){for(const e of a)if(e.message.includes("is not a valid Email Address"))return e.message.split(" is not a valid Email Address")[0]}return null},Ue=X(()=>{var a;return((a=C.value)==null?void 0:a.template_warnings)||[]}),dt=()=>{const a=window.XLSX;if(!a){console.error("XLSX library is not loaded.");return}const e=a.utils.json_to_sheet(ve.value),l=a.utils.book_new();a.utils.book_append_sheet(l,e,"Records");const o=a.write(l,{bookType:"xlsx",type:"array"}),n=new Blob([o],{type:"application/octet-stream"}),p=document.createElement("a");p.href=URL.createObjectURL(n),p.download="Records.xlsx",document.body.appendChild(p),p.click(),document.body.removeChild(p)},ut=()=>De(this,null,function*(){const a=g.value,l=yield(yield fetch("/assets/ezy_forms/ezyformsfrontend/Employee_import.xlsx")).arrayBuffer(),o=XLSX.read(l,{type:"array"}),n=o.SheetNames[0],p=o.Sheets[n];p.A2={t:"s",v:a};const y=XLSX.utils.decode_range(p["!ref"]);y.e.r<1&&(y.e.r=1),p["!ref"]=XLSX.utils.encode_range(y);const D=XLSX.write(o,{bookType:"xlsx",type:"array"}),fe=new Blob([D],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),ie=document.createElement("a");ie.href=URL.createObjectURL(fe),ie.setAttribute("download","Employee_import.xlsx"),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}),Ae=i(""),oe=i(""),G=i("");function mt(){const a=(W.value||"").trim().toLowerCase();if(!a){oe.value="Email is required";return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)){oe.value="Invalid email address";return}const l=$.value.some(o=>{var n;return((n=o.emp_mail_id)==null?void 0:n.toLowerCase())===a});oe.value=l?"Email already exists":""}function pt(){const a=(s.value.emp_mail_id||"").trim().toLowerCase();if(!a){G.value="Email is required";return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)){G.value="Invalid email address";return}const l=$.value.some(o=>{var n;return((n=o.emp_mail_id)==null?void 0:n.toLowerCase())===a});G.value=l?"Email already exists":""}function ct(){ae.value=!1}function vt(){ae.value=!0}function Re(a){ft(a.name)}function ft(a){const e=[["company_field","=",`${j.value}`],["enable","=","1"],["department","like",`%${a}%`],["is_hod","=",1]],l={fields:JSON.stringify(["*"]),filters:JSON.stringify(e),limit_page_length:"none",order_by:"`tabEzy Employee`.`enable` DESC,`tabEzy Employee`.`creation` DESC"};k.get(E.resource+I.EzyEmployeeList,{params:l}).then(o=>{s.value.reporting_to=o.data[0].name,s.reporting_designation=o.data[0].designation}).catch(o=>{s.value.reporting_to="",s.reporting_designation="",console.error("Error fetching department data:",o)})}const R=i(!0),Te=X(()=>R.value?"bi bi-eye-slash-fill":"bi bi-eye-fill");function $e(a){return!a||a.length<13?a:"+91 ******"+a.slice(-4)}function ze(a){s.value.emp_phone=a.target.value}function we(){let a=s.value.emp_phone.replace(/\D/g,"");a.startsWith("91")&&a.length>10&&(a=a.slice(2)),a.length===10?(s.value.emp_phone="+91"+a,M.value=""):(s.value.emp_phone=a,a.length>0?M.value="Phone number must be 10 digits.":M.value="")}function gt(){R.value&&!window.confirm("Are you sure you want to see the phone number?")||(R.value=!R.value,Te.value=R.value?"bi-eye":"bi-eye-slash")}const O=i(!0),W=i(""),_t=X(()=>O.value?"bi bi-eye-slash-fill":"bi bi-eye-fill"),Be=()=>{if(!O.value||!s.value.emp_mail_id.includes("@"))return;W.value=s.value.emp_mail_id;const[a,e]=W.value.split("@");a.length>3&&(s.value.emp_mail_id=a.slice(0,3)+"***@"+e)},bt=()=>{W.value&&(O.value&&!window.confirm("Are you sure you want to see the email address?")||(O.value=!O.value,s.value.emp_mail_id=O.value?yt(W.value):W.value))},yt=a=>{const[e,l]=a.split("@");return e.length>3?e.slice(0,3)+"***@"+l:a},x=i({limitPageLength:20,limit_start:0}),N=i("");Ie(U,a=>{a&&(N.value=m.value)});const V=i(""),T=i(""),Fe=()=>{/[^a-zA-Z0-9 ]/.test(m.value)?V.value="Special characters are not allowed in the role name.":V.value=""},xe=()=>{const a=m.value.toLowerCase().trim();A.value=P.value.filter(e=>e.toLowerCase().includes(a)),A.value.length===0&&a?T.value="No Designation found":T.value=""},je=a=>{s.value.designation=a,m.value=a,A.value=[]},Oe=X(()=>{const a=m.value.trim();return a&&!P.value.includes(a)&&a.length>1}),Xe=()=>{const a=m.value.trim();a&&k.post(E.resource+I.roles,{role_name:a}).then(e=>{var l;(l=e.data)!=null&&l.role_name&&k.post(E.resource+I.designations,{role:e.data.role_name}).then(o=>{var n;(n=o.data)!=null&&n.role&&(P.value.push(o.data.role),s.value.designation=o.data.role,m.value=o.data.role,A.value=[],U.value=!1)})}).catch(e=>{console.error("Error creating role:",e)})},He=()=>{s.value.signature=null;const a=document.getElementById("signatureInput");a&&(a.value="")},ht=i([{name:"Edit Employee",icon:"fa-solid fa-edit"},{name:"View Forms",icon:"fa-solid fa-eye"},{name:"Reset Password",icon:"fa fa-lock"}]),qe=X(()=>[s.value.emp_code,s.value.emp_name,s.value.emp_mail_id,s.value.department,s.value.designation].every(a=>a&&a.toString().trim()!==""));function kt(){Ze(),Ye(),We()}const Ce=i("");function Et(a,e){(e==null?void 0:e.name)==="Edit Employee"&&(m.value="",A.value=[],a?(Ye(),We(),M.value="",Ae.value="",s.value=de(re({},a),{department:""}),m.value=a.designation||"",Ze(()=>{const o=pe.value.find(n=>n.name===a.department);s.value.department=o||""}),R.value=!0,O.value=!0,Be(),new bootstrap.Modal(document.getElementById("exampleModal"),{}).show()):(console.warn("No form fields provided."),formCreation(a))),(e==null?void 0:e.name)==="Reset Password"&&(Ce.value=a,new bootstrap.Modal(document.getElementById("ForgotPasswordModal"),{}).show()),(e==null?void 0:e.name)==="View Forms"&&h.push({name:"employeeforms",query:{name:a.name,EmpName:a.emp_name,business_unit:a.company_field,Dept:a.department}})}function wt(){const a={user_email:Ce.value.name};k.post(E.resetPassword,a).then(e=>{e&&e&&(le(e.message.message),bootstrap.Modal.getInstance(document.getElementById("ForgotPasswordModal")).hide())}).catch(e=>{console.error("Upload error:",e)})}Ie(()=>s.value.reporting_to,a=>{if(a){const e=$.value.find(l=>l.emp_mail_id===a);e&&(s.value.reporting_designation=e.designation)}else s.value.reporting_designation=""},{immediate:!0});function xt(a){w.value=a;const e=a.enable==="1"||a.enable===1;ye.value=e?"Disable":"Enable",document.getElementById("empActionText").innerText=ye.value,document.getElementById("empRowName").innerText=a.emp_name,w.value.reporting_to!==""&&w.value.reporting_to!==null||w.value.is_high_level===1?new bootstrap.Modal(document.getElementById("EmployeeToggleModal")).show():Zt("Please Add the Reports To before Disable employee.")}function Ct(){const a=w.value.enable==="1"||w.value.enable===1;if(w.value.enable=a?0:1,w.value.remarks=J.value,w.value.enable==0){const e=new Date,l=n=>n.toString().padStart(2,"0"),o=`${e.getFullYear()}-${l(e.getMonth()+1)}-${l(e.getDate())} ${l(e.getHours())}:${l(e.getMinutes())}:${l(e.getSeconds())}`;w.value.enable_on=o}k.put(`${E.resource}${I.EzyEmployeeList}/${w.value.name}`,w.value).then(()=>{const e={enabled:w.value.enable};return k.put(`${E.resource}${I.users}/${w.value.name}`,e)}).then(()=>{le(`Employee ${ye.value}d successfully`),window.location.reload()}).catch(e=>{console.error("Toggle employee error:",e)})}const Dt=i({emp_code:{type:"input"},emp_name:{type:"input"},designation:{type:"input"},department:{type:"input"},reporting_designation:{type:"input"}});function ne(){s.value={emp_code:"",emp_name:"",emp_phone:"",emp_mail_id:"",department:"",searchText:"",designation:"",reporting_to:"",reporting_designation:"",signature:null,company_field:g.value},m.value="",T.value="",xe.value=[],G.value="";const a=document.getElementById("signatureInput");a&&(a.value=""),window.location.href.includes("ncomr")&&(s.value.emp_code="NICO-")}function Je(a){const e=a.target.files[0];e&&Vt(e,"signature")}const It=()=>De(this,null,function*(){const a=[["company_field","=",`${j.value}`],["is_web_form","=","0"],["enable","=","1"]],e={fields:JSON.stringify(["*"]),limit_start:0,limit_page_length:"none",filters:JSON.stringify(a)};try{const l=yield k.get(E.resource+I.EzyEmployeeList,{params:e});if(l.data){const o=l.data;if(o.length){bootstrap.Modal.getInstance(document.getElementById("ExportEmployeeModal")).hide(),le("Successfully Completed");const p=XLSX.utils.json_to_sheet(o),y=XLSX.utils.book_new();XLSX.utils.book_append_sheet(y,p,"Employees"),XLSX.writeFile(y,"EmployeeDetails.xlsx")}else f("No Employee Details")}}catch(l){console.error("Error exporting employee data:",l)}}),St=i([]),Vt=(a,e)=>{let l=`${a.name}`;const o=new FormData;o.append("file",a,l),o.append("is_private","0"),o.append("folder","Home"),k.post(E.uploadfile,o).then(n=>{n.message&&n.message.file_url?(s.value.signature=n.message.file_url,w.value[e]=n.message.file_url,St.value.push(e)):console.error("file_url not found in the response.")}).catch(n=>{console.error("Upload error:",n)})};function Ze(a){const e={fields:JSON.stringify(["name","department_code","department_name"]),limit_page_length:"none",doctype:I.departments};k.get(E.GetDoctypeData,{params:e}).then(l=>{l.message.data&&(pe.value=l.message.data,a&&a())}).catch(l=>{console.error("Error fetching department data:",l)})}const Pt=a=>{x.value.limitPageLength=a,x.value.limit_start=0,Y()},Mt=([a,e])=>{x.value.limitPageLength=a,x.value.limit_start=e,Y()},Ge=i(null);function Nt(a){clearTimeout(Ge.value),Ge.value=setTimeout(()=>{x.value.filters=[],Pe.value.forEach(e=>{const l=e.td_key;a[l]&&x.value.filters.push([l,"like",`%${a[l]}%`])}),x.value.limit_start=0,x.value.limitPageLength=20,Y(x.value.filters)},500)}function Y(a){const e=[["company_field","=",`${j.value}`],["enable","=","1"]];a&&e.push(...a);const l=new Set,o=e.filter(p=>{const y=p.join("|");return l.has(y)?!1:(l.add(y),!0)}),n={fields:JSON.stringify(["acknowledge_on","acknowledgement","company_field","creation","department","designation","emp_code","emp_mail_id","emp_name","emp_phone","enable","enable_on","is_admin","is_high_level","is_hod","is_web_form","last_ip","last_login","name","profile_image","remarks","reporting_designation","reporting_to","signature"]),filters:JSON.stringify(o),limit_page_length:x.value.limitPageLength,limit_start:x.value.limit_start,doctype:I.EzyEmployeeList,order_by:"`tabEzy Employee`.`enable` DESC, `tabEzy Employee`.`modified` DESC"};k.get(E.GetDoctypeData,{params:n}).then(p=>{if(p.message.data){me.value=p.message.total_count;const y=p.message.data||[];x.value.limit_start===0?B.value=y:B.value=[...B.value,...y]}}).catch(p=>{console.error("Error fetching department data:",p)})}const $=i([]);function We(){const a={fields:JSON.stringify(["acknowledge_on","acknowledgement","company_field","creation","department","designation","emp_code","emp_mail_id","emp_name","emp_phone","enable","enable_on","is_admin","is_high_level","is_hod","is_web_form","last_ip","last_login","name","profile_image","remarks","reporting_designation","reporting_to","signature"]),limit_page_length:"none",filters:JSON.stringify([["company_field","=",`${j.value}`]]),doctype:I.EzyEmployeeList,order_by:"`tabEzy Employee`.`modified` desc"};k.get(E.GetDoctypeData,{params:a}).then(e=>{if(e.message.data){const l=e.message.data;x.value.limit_start===0?($.value=l,L.value=[...new Set(e.message.data.map(o=>o.reporting_to))],se.value=[...new Set(e.data.map(o=>o.reporting_designation))],s.value.company_field=g.value):$.value=$.value.concat(l)}}).catch(e=>{console.error("Error fetching department data:",e)})}function Ye(){const a={fields:JSON.stringify(["role"]),limit_page_length:"none",doctype:I.designations,limit_start:x.value.limit_start};k.get(E.GetDoctypeData,{params:a}).then(e=>{e.message.data&&(P.value=[...new Set(e.message.data.map(l=>l.role))])}).catch(e=>{console.error("Error fetching designations data:",e)})}Ie(g,a=>{a&&a.length&&(s.value.company_field=a,j.value=a,Y())},{immediate:!0});function Lt(){var e;if(!qe.value||m.value.trim()===""){f("Please fill all required fields");return}if(!m.value){f("Please select or enter a designation");return}if(V.value){f(V.value);return}if(Ae.value){f("Employee Email Id already exists");return}if(M.value){f("Please enter a valid phone number.");return}if(s.value.designation!==m.value.trim()){f("Please Add the designation before creating an employee.");return}if(s.value.is_high_level===0&&!s.value.reporting_to){f("Please Add the Reports To before updating employee.",{autoClose:1e3,transition:"zoom"});return}s.value.company_field=g.value;const a=de(re({},s.value),{department:((e=s.value.department)==null?void 0:e.name)||"",doctype:I.EzyEmployeeList});Z.value=!0,k.post(E.DataUpdate,a).then(l=>{if(l.message.success==!0){le("Employee Created"),N.value="",m.value="",bootstrap.Modal.getInstance(document.getElementById("createDepartments")).hide(),ne(),s.value={},N.value="",m.value="";const n=document.getElementById("signatureInput");n&&(n.value=""),Y(),Z.value=!1}else f(l.message.message)}).catch(l=>{console.error("Error creating employee:",l)}).finally(()=>{Z.value=!1})}i(!1);function Ut(){var e;if(!qe.value||m.value.trim()===""){f("Please fill all required fields");return}if(M.value){f("Invalid phone number");return}if(!m.value){f("Please select or enter a designation");return}if(s.value.designation!==m.value){f("Please Add the designation before updating employee.");return}if(s.value.is_high_level===0&&!s.value.reporting_to){f("Please Add the Reports To before updating employee.",{autoClose:1e3,transition:"zoom"});return}if(!s.value.designation&&m.value&&(s.value.designation=m.value),s.value.reporting_to){const l=$.value.find(o=>o.emp_mail_id===s.value.reporting_to);l&&(s.value.reporting_designation=l.designation)}else s.value.reporting_designation="";const a=de(re({},s.value),{department:((e=s.value.department)==null?void 0:e.name)||"",doctype:I.EzyEmployeeList});k.put(`${E.DataUpdate}/${s.value.name}`,a).then(l=>{l.message.success==!0?(le("Changes Saved"),Y(),bootstrap.Modal.getInstance(document.getElementById("exampleModal")).hide(),s.value={},m.value=""):f(l.message.message)}).catch(l=>{console.error("Error saving employee:",l)})}return(a,e)=>(r(),d("div",null,[t("div",null,[t("div",Gt,[e[49]||(e[49]=t("div",null,[t("h1",{class:"m-0 font-13"}," Active Employees ")],-1)),t("div",{class:"d-flex align-items-center gap-2"},[e[32]||(e[32]=t("button",{type:"button",class:"btn export-btn CreateDepartments font-12","data-bs-toggle":"modal","data-bs-target":"#ExportEmployeeModal"}," Export Employees ",-1)),t("button",{type:"button",class:"btn export-btn CreateDepartments font-12",onClick:ct}," Import Employees "),t("button",{type:"button",class:"btn btn-dark CreateDepartments","data-bs-toggle":"modal","data-bs-target":"#createDepartments",onClick:kt}," Create Employee ")]),t("div",Wt,[t("div",Yt,[t("div",Kt,[t("div",{class:"modal-header"},[e[33]||(e[33]=t("h5",{class:"modal-title",id:"createDepartmentsLabel"}," Employee Creation ",-1)),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:ne,"aria-label":"Close"})]),t("div",Qt,[t("div",el,[t("div",tl,[t("div",ll,[t("div",al,[e[35]||(e[35]=t("label",{class:"font-13 ps-1",for:"emp_name"},[v("Emp Name"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",sl,[_(t("input",{type:"checkbox",id:"is_admin","true-value":1,"false-value":0,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.is_admin=l),class:"form-check-input mt-1 input-border"},null,512),[[H,s.value.is_admin]]),e[34]||(e[34]=t("label",{class:"font-13 ms-2",for:"is_admin"},"Is Admin",-1))])]),b(K,{class:"mb-3",tag:"input",type:"text",name:"create_emp_name",id:"create_emp_name",placeholder:"Enter Emp Name",modelValue:s.value.emp_name,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.emp_name=l),modelModifiers:{trim:!0},onInput:Ne},null,8,["modelValue"]),e[40]||(e[40]=t("label",{class:"font-13 ps-1",for:"create_emp_code"},[v("Emp ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),b(K,{class:"mb-3",tag:"input",type:"text",name:"create_emp_code",id:"create_emp_code",placeholder:"Enter Emp ID",modelValue:s.value.emp_code,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.emp_code=l)},null,8,["modelValue"]),t("div",ol,[e[36]||(e[36]=t("label",{class:"font-13 ps-1",for:"create_emp_phone"},"Emp Phone",-1)),t("div",nl,[t("input",{type:"text",name:"create_emp_phone",id:"create_emp_phone",maxlength:"13",class:"w-100 font-12 form-control",value:R.value?$e(s.value.emp_phone):s.value.emp_phone,onInput:ze,onBlur:e[3]||(e[3]=(...l)=>we&&we(...l)),placeholder:"Enter Phone Number"},null,40,il)]),M.value?(r(),d("p",rl,c(M.value),1)):u("",!0)]),t("div",dl,[e[37]||(e[37]=t("label",{class:"font-13 ps-1",for:"create_emp_mail_id"},[v("Emp Mail ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),b(K,{class:"mb-1",tag:"input",type:"email",name:"create_emp_mail_id",modelValue:s.value.emp_mail_id,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.emp_mail_id=l),onInput:pt,required:!0,id:"create_emp_mail_id",placeholder:"Enter Email Id"},null,8,["modelValue"]),G.value?(r(),d("p",ul,c(G.value),1)):u("",!0)]),t("div",ml,[e[39]||(e[39]=t("label",{class:"font-13 ps-1 fw-medium",for:"dept"},[v("Departments"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",pl,[_(t("input",{type:"checkbox",id:"isHOD","true-value":1,"false-value":0,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.is_hod=l),class:"form-check-input mt-1 input-border border-1"},null,512),[[H,s.value.is_hod]]),e[38]||(e[38]=t("label",{class:"font-13 ms-2",for:"isHOD"},"Is HOD",-1))])]),b(ee(te),{modelValue:s.value.department,"onUpdate:modelValue":[e[6]||(e[6]=l=>s.value.department=l),Re],options:pe.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select department",label:"department_name","track-by":"name",class:"font-11 mb-3"},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.map(n=>n.department_name).join(", ")),513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"])]),t("div",cl,[t("div",vl,[e[43]||(e[43]=t("label",{class:"font-13 ps-1",for:"Designation"},[v(" Designation"),t("span",{class:"text-danger ps-1"},"*")],-1)),_(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>m.value=l),onInput:e[8]||(e[8]=()=>{xe(),Fe()}),class:z([["form-control font-12",V.value||T.value?"border-danger":""],"form-control shadow-none font-12"]),placeholder:"Search or type new role"},null,34),[[ue,m.value]]),V.value||T.value?(r(),d("p",fl,c(V.value||T.value),1)):u("",!0),m.value&&(A.value.length||Oe.value)&&!V.value?(r(),d("ul",gl,[(r(!0),d(ge,null,_e(A.value,(l,o)=>(r(),d("li",{key:o,class:"list-group-item list-group-item-action font-12",onClick:n=>je(l),style:{cursor:"pointer"}},c(l),9,_l))),128))])):u("",!0),U.value?(r(),d("div",{key:2,class:z(["modal fade",{show:U.value}]),style:{display:"block"}},[t("div",bl,[t("div",yl,[t("div",{class:"modal-header"},[e[41]||(e[41]=t("h5",{class:"modal-title"},"Create New Role",-1)),t("button",{type:"button",class:"btn-close",onClick:Me})]),t("div",hl,[e[42]||(e[42]=t("label",{for:"",class:"font-13 fw-bold"},[v("Designation"),t("span",{class:"text-danger ps-1"},"*")],-1)),_(t("input",{type:"text",class:z(["form-control font-12 shadow-none",{"is-invalid":F.value}]),"onUpdate:modelValue":e[9]||(e[9]=l=>N.value=l),onInput:lt,placeholder:"Enter role name"},null,34),[[ue,N.value]]),F.value?(r(),d("span",kl,c(F.value),1)):u("",!0)]),t("div",El,[t("button",{class:"btn btn-secondary",onClick:Me},"Cancel"),t("button",{class:"btn btn-dark",disabled:!!F.value,onClick:Xe},"Save Role",8,wl)])])])],2)):u("",!0)]),t("div",xl,[t("label",Cl,[e[44]||(e[44]=v("Reports To")),s.value.is_high_level==0?(r(),d("span",Dl,"*")):u("",!0)]),t("div",Il,[_(t("input",{type:"checkbox",id:"is_high_level","true-value":1,"false-value":0,"onUpdate:modelValue":e[10]||(e[10]=l=>s.value.is_high_level=l),class:"form-check-input mt-1 input-border"},null,512),[[H,s.value.is_high_level]]),e[45]||(e[45]=t("label",{class:"font-13 ms-2",for:"is_high_level"},"Is High-level",-1))])]),b(ee(te),{modelValue:s.value.reporting_to,"onUpdate:modelValue":e[11]||(e[11]=l=>s.value.reporting_to=l),options:$.value.map(l=>l.emp_mail_id),multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select Reports To",class:"font-11 mb-3"},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.join(", ")),513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"]),e[47]||(e[47]=t("label",{class:"font-13 ps-1",for:"reporting_designation"},"Reporting Designation",-1)),b(ee(te),{modelValue:s.value.reporting_designation,"onUpdate:modelValue":e[12]||(e[12]=l=>s.value.reporting_designation=l),options:P.value,"allow-empty":!0,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select Reporting Designation",class:"font-11 mb-3",disabled:!0},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.join(", "))+" selected ",513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"]),t("div",Sl,[e[46]||(e[46]=t("label",{for:"signatureInput",class:"form-label mb-0 font-13 ps-1"}," Add Signature ",-1)),t("input",{type:"file",ref_key:"signatureInputRef",ref:Ve,class:"form-control font-12 mb-2",id:"signatureInput",onChange:Je,"aria-describedby":"fileHelpId"},null,544),s.value.signature?(r(),d("div",Vl,[t("i",{class:"bi bi-x-lg position-absolute text-danger cursor-pointer",style:{top:"-7px",right:"-5px","font-size":"13px",background:"white","border-radius":"50%",padding:"3px"},onClick:He}),t("img",{src:s.value.signature,style:{"max-width":"100px","max-height":"100px"},alt:"Signature",class:"img-fluid signature-img border-1"},null,8,Pl)])):u("",!0)])])])])]),t("div",Ml,[b(Se,{type:"button",class:"cancelfilter border-1 text-nowrap font-10",name:"Cancel",onClick:ne,"data-bs-dismiss":"modal"}),t("button",{type:"button",class:"applyfilter btn btn-dark text-nowrap font-10 d-flex justify-content-center align-items-center",onClick:Lt},[Z.value?u("",!0):(r(),d("span",Nl,e[48]||(e[48]=[t("i",{class:"bi bi-check2"},null,-1)]))),Z.value?u("",!0):(r(),d("span",Ll,"Create Employee")),Z.value?(r(),d("span",Ul)):u("",!0)])])])])])]),ae.value?(r(),d("div",Al,[b(Ht,{tHeaders:Pe.value,tData:B.value,isAction:"true",actions:ht.value,enableDisable:"true",onActionClicked:Et,onToggleClick:xt,actionType:"dropdown",isCheckbox:"true",isFiltersoption:"true","field-mapping":Dt.value,onUpdateFilters:Nt},null,8,["tHeaders","tData","actions","field-mapping"]),b(qt,{currentRecords:B.value.length,totalRecords:me.value,"items-per-page":x.value.limitPageLength,onUpdateValue:Pt,onLimitStart:Mt},null,8,["currentRecords","totalRecords","items-per-page"])])):(r(),d("div",Rl,[t("div",Tl,[t("div",{class:"d-flex justify-content-between align-content-center"},[t("button",{type:"button",class:"font-12 btn btn-light",onClick:vt},e[50]||(e[50]=[t("i",{class:"bi bi-chevron-left"},null,-1),v(" Back to Employee List ")]))]),t("div",$l,[t("div",zl,[t("div",{class:z(C.value.length?"":"mb-5 mt-5")},[t("button",{type:"button",class:"font-12 my-1 btn btn-light",onClick:ut},e[51]||(e[51]=[t("i",{class:"bi bi-download"},null,-1),v(" Use template ")])),t("input",{type:"file",ref_key:"fileInput",ref:ce,onChange:st,hidden:""},null,544),t("button",{type:"button",class:"font-12 my-1 btn btn-dark",onClick:at},e[52]||(e[52]=[t("i",{class:"bi bi-upload"},null,-1),v(" Upload Data ")]))],2)]),b(Jt,{name:"fade"},{default:q(()=>[ke.value?(r(),d("div",Bl)):u("",!0)]),_:1}),t("div",null,[t("div",Fl,[ve.value.length>0?(r(),d("div",jl,[t("button",{type:"button",class:"btn btn-light font-12",onClick:dt},e[53]||(e[53]=[t("i",{class:"bi bi-download mx-2"},null,-1),v("Download Excel")]))])):u("",!0),Ue.value.length?(r(),d("div",Ol,[e[54]||(e[54]=t("h3",{class:"font-13"},"Template Warnings:",-1)),t("ul",null,[(r(!0),d(ge,null,_e(Ue.value,(l,o)=>(r(),d("li",{key:o},c(l),1))),128))])])):u("",!0),ve.value.length>0?(r(),d("table",Xl,[e[55]||(e[55]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Email"),t("th",null,"Status"),t("th",null,"Message")])],-1)),t("tbody",null,[(r(!0),d(ge,null,_e(ve.value,(l,o)=>(r(),d("tr",{key:o},[t("td",null,c(o+1),1),t("td",null,c(l.email),1),t("td",{class:z(l.status==="success"?"status-success":"status-failed")},c(l.status),3),t("td",null,[t("div",null,c(l.displayMessage),1),l.errorMessage?(r(),d("div",Hl,c(l.errorMessage),1)):u("",!0)])]))),128))])])):u("",!0)])])])])]))]),t("div",ql,[t("div",Jl,[t("div",Zl,[t("div",Gl,[e[56]||(e[56]=t("h5",{class:"modal-title",id:"viewEmployeeLabel"},"Employee Data",-1)),t("div",Wl,[_(t("input",{class:"form-check-input shadow-none","onUpdate:modelValue":e[13]||(e[13]=l=>s.value.enable=l),checked:s.value.enable==1,"true-value":"1","false-value":"0",type:"checkbox",role:"switch"},null,8,Yl),[[H,s.value.enable]]),t("label",Kl,c(s.value.enable=="1"?"Enabled":"Disabled"),1)]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:ne,"aria-label":"Close"})]),t("div",Ql,[t("div",ea,[t("div",ta,[t("div",la,[t("div",aa,[e[58]||(e[58]=t("label",{class:"font-13 ps-1",for:"emp_name"},[v("Emp Name"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",sa,[_(t("input",{type:"checkbox",id:"is_admin","true-value":1,"false-value":0,"onUpdate:modelValue":e[14]||(e[14]=l=>s.value.is_admin=l),class:"form-check-input mt-1 input-border"},null,512),[[H,s.value.is_admin]]),e[57]||(e[57]=t("label",{class:"font-13 ms-2",for:"is_admin"},"Is Admin",-1))])]),b(K,{class:"mb-3",tag:"input",type:"text",name:"emp_name",id:"emp_name",placeholder:"Enter Emp Name",modelValue:s.value.emp_name,"onUpdate:modelValue":e[15]||(e[15]=l=>s.value.emp_name=l),modelModifiers:{trim:!0},onInput:Ne},null,8,["modelValue"]),e[63]||(e[63]=t("label",{class:"font-13 ps-1",for:"emp_code"},[v("Emp ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),b(K,{class:"mb-3",tag:"input",type:"text",name:"emp_code",id:"emp_code",placeholder:"Enter Emp Id",modelValue:s.value.emp_code,"onUpdate:modelValue":e[16]||(e[16]=l=>s.value.emp_code=l)},null,8,["modelValue"]),t("div",oa,[e[59]||(e[59]=t("label",{class:"font-13 ps-1",for:"emp_phone"},"Emp Phone",-1)),t("div",na,[t("input",{type:"text",name:"emp_phone",id:"emp_phone",maxlength:"13",class:"w-100 font-12 form-control",readonly:R.value,value:R.value?$e(s.value.emp_phone):s.value.emp_phone,onInput:ze,onBlur:we,placeholder:"Enter Phone Number"},null,40,ia),t("i",{class:z([Te.value,"eye-icon"]),onClick:gt},null,2)]),M.value?(r(),d("p",ra,c(M.value),1)):u("",!0)]),t("div",da,[e[60]||(e[60]=t("label",{class:"font-13 ps-1",for:"emp_mail_id"},[v("Emp Mail ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",ua,[b(K,{class:"mb-1 w-100",tag:"input",type:"email",name:"emp_mail_id",id:"emp_mail_id",placeholder:"Enter Email",modelValue:s.value.emp_mail_id,"onUpdate:modelValue":e[17]||(e[17]=l=>s.value.emp_mail_id=l),onInput:Be,disabled:!0,onChange:mt,required:!0},null,8,["modelValue"]),t("i",{class:z([_t.value,"eye-icon"]),onClick:bt},null,2)]),oe.value?(r(),d("p",ma,c(oe.value),1)):u("",!0)]),t("div",pa,[e[62]||(e[62]=t("label",{class:"font-13 ps-1 fw-medium",for:"dept"},[v("Departments"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",ca,[_(t("input",{type:"checkbox",id:"isHOD","true-value":1,"false-value":0,"onUpdate:modelValue":e[18]||(e[18]=l=>s.value.is_hod=l),class:"form-check-input mt-1 input-border border-1"},null,512),[[H,s.value.is_hod]]),e[61]||(e[61]=t("label",{class:"font-13 ms-2",for:"isHOD"},"Is HOD",-1))])]),b(ee(te),{modelValue:s.value.department,"onUpdate:modelValue":[e[19]||(e[19]=l=>s.value.department=l),Re],options:pe.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select department",label:"department_name","track-by":"name",class:"font-11 mb-3"},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.map(n=>n.department_name).join(", ")),513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"])]),t("div",va,[t("div",fa,[e[66]||(e[66]=t("label",{class:"font-13 ps-1",for:"Designation"},[v(" Designation"),t("span",{class:"text-danger ps-1"},"*")],-1)),_(t("input",{type:"text","onUpdate:modelValue":e[20]||(e[20]=l=>m.value=l),onInput:e[21]||(e[21]=()=>{xe(),Fe()}),class:z(["form-control font-12 shadow-none",["form-control font-12",V.value||T.value?"border-danger":""]]),placeholder:"Search or type new role"},null,34),[[ue,m.value]]),V.value||T.value?(r(),d("p",ga,c(V.value||T.value),1)):u("",!0),m.value&&(A.value.length||Oe.value)&&!V.value?(r(),d("ul",_a,[(r(!0),d(ge,null,_e(A.value,(l,o)=>(r(),d("li",{key:o,class:"list-group-item list-group-item-action font-12",onClick:n=>je(l),style:{cursor:"pointer"}},c(l),9,ba))),128))])):u("",!0),U.value?(r(),d("div",{key:2,class:z(["modal fade",{show:U.value}]),style:{display:"block"}},[t("div",ya,[t("div",ha,[t("div",ka,[e[64]||(e[64]=t("h5",{class:"modal-title"},"Create New Role",-1)),t("button",{type:"button",class:"btn-close",onClick:e[22]||(e[22]=l=>U.value=!1)})]),t("div",Ea,[e[65]||(e[65]=t("label",{for:"",class:"font-12 fw-bold"},"Designation",-1)),_(t("input",{type:"text",class:"form-control font-12","onUpdate:modelValue":e[23]||(e[23]=l=>N.value=l),placeholder:"Enter role name"},null,512),[[ue,N.value]])]),t("div",wa,[t("button",{class:"btn btn-secondary",onClick:e[24]||(e[24]=l=>U.value=!1)},"Cancel"),t("button",{class:"btn btn-dark",onClick:Xe},"Save Role")])])])],2)):u("",!0)]),t("div",xa,[t("label",Ca,[e[67]||(e[67]=v("Reports To")),s.value.is_high_level==0?(r(),d("span",Da,"*")):u("",!0)]),t("div",Ia,[_(t("input",{type:"checkbox",id:"is_high_level","true-value":1,"false-value":0,"onUpdate:modelValue":e[25]||(e[25]=l=>s.value.is_high_level=l),class:"form-check-input mt-1 input-border"},null,512),[[H,s.value.is_high_level]]),e[68]||(e[68]=t("label",{class:"font-13 ms-2",for:"is_high_level"},"Is High-level",-1))])]),b(ee(te),{modelValue:s.value.reporting_to,"onUpdate:modelValue":e[26]||(e[26]=l=>s.value.reporting_to=l),options:$.value.map(l=>l.emp_mail_id),multiple:!1,"close-on-select":!0,"allow-empty":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select Reports To",class:"font-11 mb-3"},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.join(", ")),513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"]),e[72]||(e[72]=t("label",{class:"font-13 ps-1",for:"reporting_designation"},"Reporting Designation",-1)),b(ee(te),{modelValue:s.value.reporting_designation,"onUpdate:modelValue":e[27]||(e[27]=l=>s.value.reporting_designation=l),options:P.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,placeholder:"Select Reporting Designation",class:"font-11 mb-3",disabled:!0},{selection:q(({values:l,isOpen:o})=>[l.length?_((r(),d("span",{key:0,class:"multiselect__single font-10"},c(l.join(", "))+" selected ",513)),[[Q,!o]]):u("",!0)]),_:1},8,["modelValue","options"]),t("div",Sa,[e[69]||(e[69]=t("label",{class:"font-13 ps-1",for:"reporting_to"},"Acknowledge On",-1)),e[70]||(e[70]=t("br",null,null,-1)),t("input",{class:"mb-3 date-time form-control font-12",tag:"input",type:"datetime-local",name:"acknowledge_on",id:"acknowledge_on",placeholder:"Enter department code",value:tt(s.value.acknowledge_on),readonly:""},null,8,Va)]),t("div",Pa,[e[71]||(e[71]=t("label",{for:"signatureInput",class:"form-label mb-0 font-13 ps-1"}," Add Signature ",-1)),t("input",{type:"file",ref_key:"signatureInputRef",ref:Ve,class:"form-control font-12 mb-2",id:"signatureInput",onChange:Je,"aria-describedby":"fileHelpId"},null,544),s.value.signature?(r(),d("div",Ma,[t("i",{class:"bi bi-x-lg position-absolute text-danger cursor-pointer",style:{top:"-7px",right:"-5px","font-size":"13px",background:"white","border-radius":"50%",padding:"3px"},onClick:He}),t("img",{src:s.value.signature,alt:"Signature",class:"img-fluid signature-img"},null,8,Na)])):u("",!0)])])])])]),t("div",La,[b(Se,{type:"button",class:"cancelfilter border-1 text-nowrap font-10",name:"Cancel",onClick:ne,"data-bs-dismiss":"modal"}),b(Se,{type:"button",class:"btn btn-dark font-11",name:"Save Employee",onClick:Ut})])])])]),t("div",Ua,[t("div",Aa,[t("div",Ra,[t("div",Ta,[e[73]||(e[73]=t("h5",{class:"modal-title"},"Confirm Employee Status",-1)),t("button",{type:"button",class:"btn-close",onClick:e[28]||(e[28]=l=>J.value=""),"data-bs-dismiss":"modal","aria-label":"Close"})]),t("div",$a,[e[75]||(e[75]=t("div",{class:"text-center fw-bolder"},[v(" Are you sure you want to "),t("span",{id:"empActionText"}),v(' "'),t("span",{id:"empRowName"}),v('"?'),t("br")],-1)),t("div",za,[e[74]||(e[74]=t("label",{class:"font-13 mb-1",for:"emp_name"},[v("Remarks"),t("span",{class:"text-danger ps-1"},"*")],-1)),_(t("textarea",{"onUpdate:modelValue":e[29]||(e[29]=l=>J.value=l),class:"w-100 form-control shadow-none font-13 remarks"},null,512),[[ue,J.value,void 0,{trim:!0}]])])]),t("div",Ba,[t("button",{type:"button",onClick:e[30]||(e[30]=l=>J.value=""),class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel"),t("button",{type:"button",class:"btn btn-dark",disabled:!J.value,onClick:Ct},"Yes, Proceed",8,Fa)])])])]),t("div",{class:"modal fade",id:"ExportEmployeeModal",tabindex:"-1","aria-hidden":"true"},[t("div",{class:"modal-dialog modal-dialog-centered"},[t("div",{class:"modal-content"},[e[77]||(e[77]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Export Employee"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[78]||(e[78]=t("div",{class:"modal-body"}," Are you sure you want to export the employee details? ",-1)),t("div",{class:"modal-footer"},[e[76]||(e[76]=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),t("button",{type:"button",class:"btn btn-dark",onClick:It},"Yes, Proceed")])])])]),t("div",ja,[t("div",Oa,[t("div",Xa,[e[82]||(e[82]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Confirm Reset Password"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",Ha,[t("div",qa,[v(' Are you sure you want to reset "'+c(Ce.value.emp_name)+'" password?',1),e[79]||(e[79]=t("br",null,null,-1))])]),t("div",Ja,[e[81]||(e[81]=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),t("button",{type:"button",class:"btn btn-dark",disabled:be.value,onClick:e[31]||(e[31]=l=>wt())},[be.value?(r(),d("span",Ga)):u("",!0),be.value?u("",!0):(r(),d("span",Wa,e[80]||(e[80]=[t("span",{class:"font-12 fw-bold"},"Yes, Proceed",-1)])))],8,Za)])])])])]))}},es=Bt(Ya,[["__scopeId","data-v-7e4612ce"]]);export{es as default};
