var yl=Object.defineProperty,wl=Object.defineProperties;var kl=Object.getOwnPropertyDescriptors;var ot=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var Rt=(O,C,A)=>C in O?yl(O,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):O[C]=A,ee=(O,C)=>{for(var A in C||(C={}))Nt.call(C,A)&&Rt(O,A,C[A]);if(ot)for(var A of ot(C))Pt.call(C,A)&&Rt(O,A,C[A]);return O},ye=(O,C)=>wl(O,kl(C));var ht=(O,C)=>{var A={};for(var F in O)Nt.call(O,F)&&C.indexOf(F)<0&&(A[F]=O[F]);if(O!=null&&ot)for(var F of ot(O))C.indexOf(F)<0&&Pt.call(O,F)&&(A[F]=O[F]);return A};var at=(O,C,A)=>new Promise((F,ie)=>{var le=Y=>{try{v(A.next(Y))}catch(ae){ie(ae)}},Ce=Y=>{try{v(A.throw(Y))}catch(ae){ie(ae)}},v=Y=>Y.done?F(Y.value):Promise.resolve(Y.value).then(le,Ce);v((A=A.apply(O,C)).next())});import{_ as Gt,r as b,x as se,o as r,c as u,d as s,i as D,j as M,F as E,h as L,t as h,u as Cl,M as Dl,e as oe,E as Fl,w as we,f as $l,a6 as Ht,K as de,y as J,z as Z,L as $,l as _,a7 as Sl,m as U,n as R,Z as jt,S as Jt,b as te,O as je,B as Al,R as Je,Q as Zt,X as ne,v as nt,N as qe,k as Ee,a8 as Vl,a9 as ql,U as ce,H as pe,aa as bt,a2 as El,ab as Yt,ac as Ll,D as Tl}from"./index-qwBzNCai.js";const Ul="/assets/ezy_forms/ezyformsfrontend/assets/oui_app-users-roles-C_V_SNI2.svg",Ol={class:"simple-field-library"},Ml={class:"field-search"},zl={class:"field-types-grid"},Bl=["onDragstart","onClick"],Rl={__name:"SimpleFieldLibrary",props:{fields:{type:Array,required:!0}},emits:["field-add","field-dragstart","field-dragend"],setup(O,{emit:C}){const A=O,F=C,ie=b(""),le=b(!1),Ce=se(()=>{if(!ie.value)return A.fields;const q=ie.value.toLowerCase();return A.fields.filter(x=>x.label.toLowerCase().includes(q))}),v=(q,x)=>{le.value=!0,q.dataTransfer.effectAllowed="copy",q.dataTransfer.setData("text/plain",x.type),F("field-dragstart",x.type)},Y=()=>{le.value=!1,F("field-dragend")},ae=q=>{F("field-add",q.type)};return(q,x)=>(r(),u("div",Ol,[s("div",Ml,[x[1]||(x[1]=s("i",{class:"bi bi-search"},null,-1)),D(s("input",{"onUpdate:modelValue":x[0]||(x[0]=G=>ie.value=G),type:"text",placeholder:"Search fields",class:"search-input"},null,512),[[M,ie.value]])]),s("div",zl,[(r(!0),u(E,null,L(Ce.value,G=>(r(),u("button",{key:G.type,class:"field-type-btn",draggable:!0,onDragstart:W=>v(W,G),onDragend:Y,onClick:W=>ae(G)},h(G.label),41,Bl))),128))])]))}},Nl=Gt(Rl,[["__scopeId","data-v-cb64d6f9"]]),Pl={class:""},Hl={class:""},jl={class:"d-flex justify-content-between align-items-center CancelNdSave"},Jl={class:"d-flex align-items-center"},Zl={key:0,class:"font-16"},Yl=["disabled"],Gl={class:"form-container p-0 container-fluid mt-1"},Wl={class:"row"},Kl={class:"col-lg-2 col-md-2 col-sm-12"},Ql={class:"steps-sticky-div"},Xl={class:"steps d-sm-inline-flex d-md-block m-0 p-0"},xl=["onClick"],Il={key:0,class:"ri-checkbox-circle-fill completedStepIcon"},eo={class:"step-text"},to={class:"font-11"},so={class:"font-14"},lo={class:"col-lg-10 col-md-10 col-sm-12 formbackground-color"},oo={class:""},ao={class:"form-content stepsDiv"},no={key:0},io={class:""},ro={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},uo={class:"container-fluid aboutFields p-0"},co={class:"row"},po={class:"col-sm-12 col-md-12 mt-lg-3 p-lg-4"},mo={class:"container-fluid"},fo={class:"row g-3"},vo={class:"col-md-6"},_o={class:"position-relative"},ho={key:0,class:"font-12 position-absolute PredefinedLabel"},bo={key:1,class:"text-danger ErrorMsg ms-2"},go={class:"col-md-6"},yo={key:0,class:"text-danger ErrorMsg ms-2"},wo={class:"col-md-6"},ko={class:"col-md-6"},Co={key:0,class:"text-danger"},Do={class:"col-md-6"},Fo={key:0,class:"text-danger"},$o={class:"col-md-6"},So={key:0,class:"text-danger"},Ao={class:"custom-option"},Vo=["checked","onChange"],qo={class:"col-md-6"},Eo={class:"col-md-6"},Lo={key:0,class:"col-md-6"},To={key:1,class:"col-md-6"},Uo={key:2,class:"col-md-6"},Oo={class:"form-check d-flex align-items-center p-0 pe-3"},Mo=["disabled"],zo={key:3,class:"col-md-6"},Bo=["disabled"],Ro={key:0,class:"list-group position-absolute w-100 z-3 formslist"},No=["onMousedown"],Po={key:1,class:"zoho-form-builder"},Ho={class:"zoho-toolbar"},jo={class:"toolbar-left"},Jo={class:"zoho-tabs"},Zo=["onClick"],Yo=["onClick"],Go={class:"toolbar-right"},Wo={class:"zoho-builder-container"},Ko={class:"d-flex align-items-center justify-content-between w-100"},Qo={class:"mb-0 font-14 fw-bold"},Xo={class:"btn btn-sm btn-link p-0 text-dark"},xo={key:0,class:"library-content"},Io={class:"zoho-form-canvas"},ea={class:"requestandAppHeader"},ta={class:"d-flex justify-content-between align-items-center"},sa={class:""},la={class:"ps-2 mb-0 fw-bolder font-14 blockTitle"},oa={class:"text-center ms-2 mt-1"},aa={key:0,class:"font-12 d-flex align-items-center"},na={class:"font-12 approver_type_div"},ia={class:"font-12 fw-bold"},ra={class:"font-12 text-danger ms-1"},ua={class:"d-flex align-items-center"},da={key:0,class:"role-container"},ca={key:0,class:"role-text d-flex align-items-center"},pa={class:"role-label fw-bold"},ma={class:"role-names"},fa=["onClick"],va=["onClick"],_a=["onClick"],ha=["onClick"],ba={class:"pt-0 section_block"},ga={class:"d-flex justify-content-between align-items-center"},ya={class:"d-flex flex-column"},wa=["onUpdate:modelValue","onChange","onInput"],ka={key:0,class:"text-danger ps-3 font-10"},Ca={class:"d-flex align-items-center"},Da=["onClick"],Fa={class:"container-fluid"},$a={class:"d-flex justify-content-between align-items-center"},Sa={class:"rownames m-0"},Aa=["onClick"],Va={class:"col"},qa={class:"row"},Ea=["onMouseenter"],La={class:"column_name d-flex align-items-center justify-content-between"},Ta={class:"d-flex flex-column ps-2"},Ua=["onUpdate:modelValue","onChange","onInput"],Oa={key:0,class:"text-danger ps-2 font-10"},Ma={class:"position-absolute top-0 end-0"},za=["onClick"],Ba=["onDrop"],Ra=["onMouseenter","onDragstart","onDrop"],Na=["onDrop"],Pa=["onDragstart","onDrop"],Ha={class:"d-flex justify-content-between"},ja={class:"flex-column d-flex"},Ja=["onUpdate:modelValue","onChange","onInput"],Za={key:0,class:"text-danger font-10"},Ya={class:"FieldcopyRemove"},Ga=["onClick"],Wa=["onClick"],Ka=["onUpdate:modelValue","onChange"],Qa=["value"],Xa={key:0},xa=["onUpdate:modelValue"],Ia={key:0,class:"text-danger font-10"},en={key:1},tn=["for"],sn=["id","onUpdate:modelValue","onInput","onFocus"],ln={key:0,class:"list-group mt-1",style:{"max-height":"200px","overflow-y":"auto"}},on=["onClick"],an={class:"d-flex align-items-center justify-content-between"},nn={class:"d-flex align-items-center gap-2"},rn={class:"d-flex align-items-center"},un=["onUpdate:modelValue","id"],dn=["for"],cn=["onClick"],pn=["onUpdate:modelValue"],mn={key:3,class:"text-danger font-10"},fn=["onDrop"],vn={class:"childtableShow"},_n={class:"mt-2"},hn={key:0,class:"childTableContainer"},bn={key:0,class:"font-13"},gn={key:1,class:"d-flex align-items-center gap-2"},yn={class:"d-flex align-items-center"},wn=["onUpdate:modelValue"],kn=["onClick"],Cn={key:2,class:"table table-bordered rounded-table"},Dn=["onDrop"],Fn=["draggable","onDragstart"],$n={key:0},Sn=["onUpdate:modelValue","onInput"],An={key:0,class:"text-danger font-11"},Vn={key:1},qn={key:2},En={class:"d-flex gap-1"},Ln=["onUpdate:modelValue","onChange"],Tn=["value"],Un={class:"d-flex"},On={class:"d-flex align-items-center gap-2"},Mn={class:"d-flex align-items-center"},zn=["onUpdate:modelValue"],Bn=["onClick"],Rn={key:0},Nn=["onUpdate:modelValue","onInput"],Pn={key:0,class:"text-danger font-10"},Hn={key:1,class:"font-11 text-danger"},jn={key:3},Jn={key:3,class:"mb-2 mt-3"},Zn=["onClick"],Yn=["onClick"],Gn=["onDrop"],Wn=["onDrop"],Kn={class:"d-flex justify-content-center align-items-center my-2"},Qn=["onClick"],Xn={class:"font-13"},xn={key:0,class:"d-flex align-items-center gap-2"},In={class:"d-flex align-items-center"},ei=["onUpdate:modelValue"],ti=["onClick"],si={class:"table table-bordered rounded-table"},li={key:0},oi=["onUpdate:modelValue","onBlur"],ai={key:0,class:"text-danger font-11 mt-1"},ni={key:1},ii={key:2},ri={class:"d-flex gap-1 align-items-center"},ui=["onUpdate:modelValue","onChange"],di=["value"],ci=["onClick"],pi={key:0,class:"mt-1"},mi=["onUpdate:modelValue","onInput"],fi={key:1,class:"text-danger font-11 mt-1"},vi={key:3},_i={class:"mb-2"},hi=["onClick"],bi=["onClick"],gi=["onClick"],yi={key:0},wi={class:"d-flex justify-content-between align-items-center mt-1 mb-2"},ki=["onUpdate:modelValue","onBlur"],Ci={key:0,class:"text-danger font-12"},Di={key:1,class:"text-danger font-12"},Fi={class:"d-flex align-items-center gap-2"},$i={class:"d-flex align-items-center"},Si=["onUpdate:modelValue"],Ai=["onClick"],Vi=["onClick"],qi={class:"px-1 field-border"},Ei={class:"d-flex justify-content-between"},Li=["onUpdate:modelValue","onBlur"],Ti={key:0,class:"text-danger font-12"},Ui={class:"d-flex align-items-center"},Oi={class:"d-flex my-1"},Mi=["onUpdate:modelValue"],zi=["onClick"],Bi=["onClick"],Ri=["onUpdate:modelValue"],Ni=["value"],Pi={key:0},Hi=["onUpdate:modelValue"],ji={key:0,class:"text-danger font-10"},Ji={key:1,class:"text-danger font-12"},Zi=["onClick"],Yi=["onClick"],Gi={class:"d-flex justify-content-center align-items-center py-2 add-section-btn"},Wi=["onClick"],Ki={key:0,class:"m-2"},Qi={key:0,class:"zoho-properties-panel"},Xi={class:"properties-header"},xi={key:2},Ii={class:"modal fade",id:"customFormatModal",tabindex:"-1","aria-labelledby":"customFormatModalLabel","aria-hidden":"true"},er={class:"modal-dialog modal-dialog-centered"},tr={class:"modal-content"},sr={class:"modal-body"},lr=["placeholder"],or={class:"d-flex align-items-center gap-2"},ar={class:"d-flex align-items-center py-2"},nr={class:"offcanvas addOffCanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},ir={class:"offcanvas-header add_designationHeader"},rr={id:"offcanvasRightLabel",class:"font-14 fw-bold"},ur={class:"offcanvas-body add_desig_offCanvas_body p-0"},dr={class:""},cr={class:""},pr={key:0,class:"p-3 approval-border-bottom"},mr={key:0,class:""},fr={class:"px-3 listofdesignations"},vr={class:"my-1 d-flex justify-content-between"},_r={class:"font-12 fw-bold"},hr={class:"italic-style text-secondary font-12"},br={key:0,ref:"resizableDiv",class:"my-1 disgnationlist_div"},gr={class:"d-flex align-items-center justify-content-between gap-1"},yr={class:"form-check ps-1 d-flex align-items-center m-0"},wr=["checked"],kr={for:"selectAll",class:"form-check-label SelectallDesignation mt-2 fw-bold"},Cr={key:0,class:"form-check d-flex align-items-center m-0"},Dr={key:1},Fr={key:0,class:"p-3"},$r=["value"],Sr={key:1},Ar={class:""},Vr={class:"px-4 py-1 mt-2 d-flex align-items-center user-select-none"},qr={key:0,class:"px-4 py-1 mt-2 d-flex align-items-center user-select-none"},Er={class:"offcanvas-footer"},Lr={class:"text-end p-3"},ke="Select All",Tr={__name:"FormStepper",setup(O){const C=Cl(),A=Dl(),F=b(1),ie=b([]);b([]);const le=b([]),Ce=b([]);oe([]);let v=oe([]),Y=oe([]);const ae=b([]),q=b([]),x=b([]),G=b(""),W=b(""),z=b("");let Q=oe([]);const Le=b("");b(!1),b(!1),b(!1);const De=b(""),Ze=b(""),Ye=b(""),Wt=b([]),Kt=b([]),S=oe({}),I=b([]),it=b(!1),Ge=b([]),We=b(!1);let gt=null;const Qt=b("");let T=b("");const ve=b(null),yt=b(null),Fe=b(!0),Ke=b(0),$e=se(()=>Fl);b(!1);const Qe=oe([]),X=b({routepath:C.query.routepath,business_unit:C.query.business_unit,formId:C.query.id}),Xe=b(""),Se=b(!1),Ae=b(!1),wt=[{label:"Public",value:1},{label:"Private",value:0}],kt=se({get(){return wt.find(t=>t.value===f.value.as_web_view)},set(t){f.value.as_web_view=t?t.value:null}}),Ct=se({get(){return f.value.form_name||C.query.form_name||""},set(t){f.value.form_name=t}}),f=b({form_name:"",form_short_name:"",accessible_departments:[],business_unit:`${$e.value.value||X.value.business_unit||C.query.business_unit}`,form_category:"",owner_of_the_form:"",series:"",has_workflow:"",workflow_check:"",is_linked:0,is_linked_form:"",is_predefined_doctype:C.query.id?1:0,as_web_view:0,mail_id:""});we(()=>C.query.form_name,t=>{t&&(f.value.form_name=t,f.value.form_short_name=t)},{immediate:!0});const xe=["name","parent","creation","owner","modified","modified_by","parentfield","parenttype","file_list","flags","docstatus","idx","doctype","company_field","business_unit"].map(t=>t.toLowerCase().trim()),Dt=["Approver","Approved on","Approved By"].map(t=>t.toLowerCase().trim());function Xt(t){return t.toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]/g,"")}se(()=>f.value),b(""),b(!1),we($e,t=>{t&&t.value&&(f.value.business_unit=t.value)},{immediate:!0});function xt(t){if(T==null||T==="new")return!1;const e=B(t).roles;if(t===0)return e.length===0;const l=B(t-1).roles;return l.length>0&&l[0]!==null&&l[0]!==""&&e.length===0}we(()=>f.value.form_name,t=>{f.value.form_name=t.trim()}),we(()=>f.value.form_short_name,t=>{f.value.form_short_name=t.trim()}),we(()=>f.value.series,t=>{f.value.series=t.trim()});const Te=b(null),Ft=(t,e,l,o,n,a)=>{Te.value={blockIndex:e,sectionIndex:l,rowIndex:o,columnIndex:n,fieldIndex:a}},_e=(t,e,l,o,n,a)=>{if(t.preventDefault(),t.stopPropagation(),console.log("Field dropped at index:",{targetBlock:e,targetSection:l,targetRow:o,targetColumn:n,insertIndex:a,draggedField:Te.value,draggedFieldType:ve.value}),ve.value){console.log("Dropping from field library:",ve.value);const g=Bt(ve.value);if(!g){console.error("Failed to create field from type:",ve.value);return}const k=v[e];if(!k){ce("Target block not found");return}k.sections||(k.sections=[]),k.sections[l]||(k.sections[l]={label:"",rows:[]}),k.sections[l].rows||(k.sections[l].rows=[]),k.sections[l].rows[o]||(k.sections[l].rows[o]={label:"",columns:[]}),k.sections[l].rows[o].columns||(k.sections[l].rows[o].columns=[]),k.sections[l].rows[o].columns[n]||(k.sections[l].rows[o].columns[n]={label:"",fields:[]}),k.sections[l].rows[o].columns[n].fields.splice(a,0,g),console.log("Field added successfully:",g),pe(`${g.label} field added`),ve.value=null;return}if(!Te.value){console.log("No dragged field found");return}const{blockIndex:i,sectionIndex:c,rowIndex:m,columnIndex:d,fieldIndex:p}=Te.value,w=v[i].sections[c].rows[m].columns[d].fields,V=v[e].sections[l].rows[o].columns[n].fields;if(i===e&&c===l&&m===o&&d===n&&p===a)return;const y=w.splice(p,1)[0];w===V&&p<a&&a--,V.splice(a,0,y),Te.value=null},Ve=b(""),It=t=>at(this,null,function*(){const e=[["module","in",["User Forms"]],["istable","=",1]];t!=null&&t.trim()&&e.push(["name","=",`${t}`]);const l={fields:JSON.stringify(["name"]),filters:JSON.stringify(e),limit_page_length:"None",doctype:de.doctypesList};try{return(yield J.get(Z.GetDoctypeData,{params:l})).message.data||[]}catch(o){return console.error("Error fetching doctype list:",o),[]}}),Ie=b(null),$t=t=>at(this,null,function*(){if(Ve.value="",Ie.value=null,t.tableName){let e=t.tableName.trim();if(e.length>64){Ve.value="Table name cannot exceed 64 characters";return}if(!/^[a-zA-Z]+( [a-zA-Z]+)*$/.test(e)){Ve.value="Table name can only contain letters and spaces (no leading/trailing spaces or special characters)";return}const o=yield It(e);Ie.value=o.find(n=>n.name.toLowerCase()===e.toLowerCase()),Ie.value&&(Ve.value="Table already exists"),t.tableName=e}t.label&&(t.fieldname=Xt(t.label))});function es(){const t=f.value.is_linked_form;if(!t){Ge.value=[];return}clearTimeout(gt),gt=setTimeout(()=>{const e=[["business_unit","=",`${$e.value.value}`],["name","like",`%${t}%`]],l={fields:JSON.stringify(["name"]),limit_page_length:10,limit_start:0,filters:JSON.stringify(e),doctype:de.EzyFormDefinitions,order_by:"`tabEzy Form Definitions`.`enable` DESC, `tabEzy Form Definitions`.`creation` DESC"};J.get(`${Z.GetDoctypeData}`,{params:l}).then(o=>{Ge.value=o.message.data||[]}).catch(o=>{console.error("Error fetching form definitions:",o)})},300)}function ts(t){f.value.is_linked_form=t,We.value=!1}function ss(){setTimeout(()=>{We.value=!1},200)}oe({query:"",key:""});function me(t,e,l,o,n){return`${t}-${e}-${l}-${o}-${n}`}oe({});const Ue=oe({}),rt=oe({});function ls(t){rt[t]=!0}function os(t,e,l,o,n,a){const i=me(e,l,o,n,a),c=[["istable","=",0]];t!=null&&t.trim()&&c.push(["name","like",`%${t}%`]);const m={fields:JSON.stringify(["name"]),filters:JSON.stringify(c),limit_page_length:"none",doctype:de.doctypesList};J.get(Z.GetDoctypeData,{params:m}).then(d=>{Ue[i]=d.message.data||[]}).catch(d=>{console.error("Error fetching doctype list:",d),Ue[i]=[]})}function as(t,e,l,o,n,a){v[t].sections[e].rows[l].columns[o].fields[n].options=a;const i=me(t,e,l,o,n);Ue[i]=[],rt[i]=!1}const ns=se(()=>v!=null&&v.length?z.value===1?[0]:Array.from({length:z.value},(t,e)=>e).filter(t=>t<z.value):[]),fe=b(null),he=b(null),is=(t,e,l,o,n)=>{fe.value={blockIndex:t,sectionIndex:e,rowIndex:l,columnIndex:o,fieldIndex:n}},rs=()=>{fe.value=null},us=(t,e,l,o,n)=>fe.value&&fe.value.blockIndex===t&&fe.value.sectionIndex===e&&fe.value.rowIndex===l&&fe.value.columnIndex===o&&fe.value.fieldIndex===n,ds=(t,e,l,o)=>{he.value={blockIndex:t,sectionIndex:e,rowIndex:l,columnIndex:o}},cs=()=>{he.value=null},ps=(t,e,l,o)=>he.value&&he.value.blockIndex===t&&he.value.sectionIndex===e&&he.value.rowIndex===l&&he.value.columnIndex===o,St=b([{form_json:""}]),be=b("");$l(()=>{Tt(),be.value=C.query.Clone,T.value=C.query.id||"new",be.value==="1"&&(f.value.series=""),T.value!=null&&T.value!=null&&T.value!="new"&&(Lt(),mt()),sessionStorage.getItem("allow_approver_to_edit_form")=="1"?it.value=!0:it.value=!1;let t=localStorage.getItem("Bu");if(f.value.business_unit=t,C.query.preId==="PreDefine"){const e=localStorage.getItem("form_json");if(e){St.value[0].form_json=e;const l=St.value[0],o=JSON.parse(l.form_json),n=Ht(o.fields);I.value=o.child_table_fields,n.forEach(a=>{v.push(a)})}}});const ge=b(null),H=oe({}),At=b(null),ms=t=>{ge.value=t},fs=()=>{ge.value=null},vs=t=>{t.preventDefault()},_s=(t,e)=>{const l=t.target.closest("tr");if(!l)return;const o=Array.from(l.parentNode.children).indexOf(l);if(o!==ge.value){const n=e[ge.value];e.splice(ge.value,1),e.splice(o,0,n),ge.value=o}},hs=b([]),ut=t=>{if(["Select","Table MultiSelect","Check","Small Text"].includes(t.fieldtype)&&t.options){const e=t.options.split(`
`).map(n=>n.trim()).filter(n=>n),l=[],o=new Set;return e.forEach(n=>{const a=n.toLowerCase();o.has(a)||(o.add(a),l.push(n))}),`
`+l.join(`
`)}else if(["Link","Table"].includes(t.fieldtype)&&t.options)return t.options.trim();return t.options},bs=(t,e)=>{const l=v[t].sections[e];l.childTables||(l.childTables=[]);const o=l.childTables.length;l.childTables.push({label:"",fieldname:"",fieldtype:"Table",idx:o,reqd:!1,as_a_block:"",description:"false",columns:[ee({label:"",fieldname:"",fieldtype:"",idx:0,description:"",reqd:!1},Qe.fieldtype==="Select"&&Qe.options?{options:Qe.options?`
${Qe.options}`:`
`}:{})],newTable:!0})},gs=(t,e,l)=>{const o=v[t].sections[e].childTables[l];o.columns||(o.columns=[]),o.columns.push(ee({label:"",fieldname:"",fieldtype:"",idx:o.columns.length,description:"",reqd:!1},o.columns.fieldtype==="Select"&&o.columns.options?{options:o.columns.options?`
${o.columns.options}`:`
`}:{}))},ys=(t,e,l)=>{v[t].sections[e].childTables.splice(l,1)},ws=(t,e,l,o)=>{v[t].sections[e].childTables[l].columns.splice(o,1)};function ks(t,e,l,o,n,a){var d;const i=`${e}-${l}-${o}`;S[i]||(S[i]={columns:[]});const c={},m=((d=t.label)==null?void 0:d.trim())||"";if(!m)c.label="Field Label is required";else{const p=m.toLowerCase();if(xe.includes(p)&&!Dt.includes(p))c.label=`"${m}" is a restricted field label`;else if(m.length>64)c.label="Field Label cannot exceed 64 characters";else if(!/^[A-Za-z0-9]+(?: [A-Za-z0-9]+)*$/.test(m))c.label="Field Label can only contain letters, numbers, and single spaces between words";else{const w=a.map((V,y)=>{var g;return{label:(g=V.label)==null?void 0:g.trim().toLowerCase(),index:y}}).filter(V=>V.label===p);if(w.length>1){const V=w[0].index;n!==V&&(c.label=`"${m}" is already used in this table`)}}}S[i].columns[n]=c}function et(t,e,l){var a;S[e]||(S[e]={});const o=[],n=((a=t.label)==null?void 0:a.trim())||"";n||o.push("Label is required"),n.length>64&&o.push("Label cannot exceed 64 characters"),n&&!/^[A-Za-z0-9]+(?: [A-Za-z0-9]+)*$/.test(n)&&o.push("No special characters allowed"),n&&xe.includes(n.toLowerCase().trim())&&o.push("This label is restricted"),n&&I.value[e].map(m=>{var d;return(d=m.label)==null?void 0:d.trim().toLowerCase()}).filter(Boolean).filter(m=>m===n.toLowerCase()).length>1&&o.push("Duplicate label is not allowed"),t.fieldtype||o.push("Field type is required"),t.fieldtype==="Select"&&(!t.options||t.options.trim()==="")&&o.push("Options are required"),S[e][l]=o}const Cs=(t,e,l)=>{var i;const o=v[t].sections[e].childTables[l],n={tableName:!1,columns:[]};let a=!1;return(i=o.tableName)!=null&&i.trim()||(n.tableName="Table name is required.",a=!0),o.columns.forEach((c,m)=>{var p,w;const d={};(p=c.label)!=null&&p.trim()||(d.label="Field Label is required",a=!0),(w=c.fieldtype)!=null&&w.trim()||(d.fieldtype="Please select field type",a=!0),n.columns[m]=d}),S[`${t}-${e}-${l}`]=n,a},Ds=(t,e,l)=>{var n,a;const o=(a=(n=v[t])==null?void 0:n.sections)==null?void 0:a[e];o&&!Array.isArray(o[l])&&(o[l]=[])},Fs=t=>t?t.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,""):"",$s=(t,e,l)=>{if(Cs(t,e,l)){ce("Please fix validation errors before creating the table",{transition:"zoom"});return}if(Ie.value){ce("Table already exists",{transition:"zoom"});return}const n=v[t].sections[e].childTables[l],a=v[t].sections[e];n.columns=n.columns.map((c,m)=>ye(ee({},c),{idx:m,options:ut(c)})),n.newTable=!1;const i={form_short_name:n.tableName,fields:n.columns,idx:n.idx,as_a_block:n.as_a_block?n.as_a_block:"false"};J.post(Z.childtable,i).then(c=>{var m,d,p;if(c){Ds(t,e,"afterCreated"),a.afterCreated[l]=ee({},n),pe("Table created successfully!");const w=(p=(d=(m=c.message)==null?void 0:m[0])==null?void 0:d[0])==null?void 0:p.child_doc;w&&(v[t].sections[e].childTables[l]=ye(ee(ee({},v[t].sections[e].childTables[l]),w),{newTable:!1}))}}).catch(c=>{console.error("Error creating table:",c)})},Oe=(t,e,l,o=[])=>{var i;H[e]||(H[e]=[]),H[e]=H[e].filter(c=>c!==l),S[e]||(S[e]=[]),S[e][l]=[];const n=[],a=((i=t.label)==null?void 0:i.trim())||"";if(a?xe.includes(a.toLowerCase())?n.push("This label is restricted"):a.length>64?n.push("Label cannot exceed 64 characters"):/^[A-Za-z0-9]+(?: [A-Za-z0-9]+)*$/.test(a)||n.push("Only letters, numbers, and single spaces allowed"):n.push("Label is required"),o.length){const c=a.toLowerCase(),m=o.map((d,p)=>{var w;return{label:(w=d.label)==null?void 0:w.trim().toLowerCase(),idx:p}}).filter(d=>d.label===c);if(m.length>1){const d=m[0].idx;l!==d?(n.push("Duplicate label not allowed"),t._duplicate=!0):t._duplicate=!1}else t._duplicate=!1}return t.fieldtype||n.push("Field type is required"),t.fieldtype==="Select"&&(!t.options||!t.options.trim())&&n.push("Options are required"),S[e][l]=n,n.length>0&&H[e].push(l),n.length===0},Ss=(t,e,l)=>{const n=v[t].sections[e].afterCreated.find(c=>c.tableName===l);if(!n)return;const a=n.columns.length,i={fieldname:"",fieldtype:"",idx:a+1,label:"",value:"",isNew:!0,description:""};n.columns.push(i),Oe(i,l,a,n.columns)},Vt=b([]),As=(t,e,l,o)=>{const a=v[t].sections[e].afterCreated.find(c=>c.tableName===l);if(!a)return;a.columns.splice(o,1),a.columns.forEach((c,m)=>{c.idx=m+1});const i=H.value[l];i&&(H.value[l]=i.filter(c=>c!==o).map(c=>c>o?c-1:c))},Vs=(t,e,l)=>{const n=v[t].sections[e].afterCreated.find(a=>a.tableName===l);if(n){if(N[l]){H[l]=[];let a=!0;if(n.columns.forEach((m,d)=>{Oe(m,l,d,n.columns)||(a=!1)}),!a){ce("Please fix the errors in the highlighted fields before saving!");return}const i=n.columns.map((w,p)=>{var V=w,{isNew:m}=V,d=ht(V,["isNew"]);return ye(ee({},d),{idx:p+1,options:ut(d)})}),c={form_short_name:Fs(l),fields:i,as_a_block:n.description};J.post(Z.childtable,c).then(m=>{Vt.value=m.data,pe("Fields updated successfully!")}).catch(m=>{console.error("❌ Saving fields failed:",m)})}N[l]=!N[l]}},N=oe({}),qs=t=>{I.value[t]||(I.value[t]=[]);const e=I.value[t].length+1;I.value[t].push({fieldname:"",fieldtype:"",idx:e,label:"",value:"",isNew:!0,description:"",options:I.value[t].options?`
${I.value[t].options}`:""})},Es=(t,e)=>{I.value[t]&&I.value[t].splice(e,1)},Ls=(t,e)=>{if(!t)return;H.value||(H.value={}),H.value[t]||(H.value[t]=[]);const l=I.value[t];if(l){if(N[t]){H.value[t]=[];let o=!0;if(l.forEach((i,c)=>{var d;et(i,t,c);const m=(d=S[t])==null?void 0:d[c];m&&m.length>0&&(H.value[t].push(c),o=!1),i.label&&(i.label=i.label.trim())}),!o){ce("Please fix the errors before saving");return}const n=l.map((d,m)=>{var p=d,{isNew:i}=p,c=ht(p,["isNew"]);return ye(ee({},c),{idx:m+1,options:ut(c)})}),a={form_short_name:t,fields:n,as_a_block:e};J.post(Z.childtable,a).then(i=>{Vt.value=i.data,pe("Fields updated successfully!")}).catch(i=>{console.error("❌ Saving fields failed:",i)})}N[t]=!N[t],At.value=N[t]?t:null}},Ts=b([{id:1,label:"About Form",stepno:"Step 1",icon:"bi bi-info-circle"},{id:2,label:"Fields & Workflow",stepno:"Step 2",icon:"bi bi-question-circle"},{id:3,label:"Print Format",stepno:"Step 3",icon:"ri-checkbox-circle-line"}]),dt=[{label:"Text",type:"Data"},{label:"Select",type:"Select"},{label:"Attach",type:"Attach"},{label:"Date",type:"Date"},{label:"Datetime",type:"Datetime"},{label:"Number",type:"Int"},{label:"TextArea",type:"Text"}],tt=[{label:"Text",type:"Data"},{label:"Time",type:"Time"},{label:"Text Area",type:"Text"},{label:"Date",type:"Date"},{label:"Datetime",type:"Datetime"},{label:"Attach",type:"Attach"},{label:"Phone",type:"Data"},{label:"Check",type:"Check"},{label:"Number",type:"Int"},{label:"Select",type:"Select"},{label:"Multi Select",type:"Small Text"},{label:"Link",type:"Link"}],Us=se(()=>[ke,...le.value]),Os=se(()=>{const t=f.value.accessible_departments;return t.includes(ke)?"All Selected":t.length>1?`${t[0]}.. +${t.length-1} more selected`:t.join(", ")}),Ms=t=>t===ke?f.value.accessible_departments.length===le.value.length:f.value.accessible_departments.includes(t),zs=(t,e)=>{t===ke?e.target.checked?f.value.accessible_departments=[...le.value]:f.value.accessible_departments=[]:(e.target.checked?f.value.accessible_departments.push(t):f.value.accessible_departments=f.value.accessible_departments.filter(l=>l!==t),f.value.accessible_departments.length===le.value.length?f.value.accessible_departments=[...le.value]:f.value.accessible_departments=f.value.accessible_departments.filter(l=>l!==ke))},Bs=t=>{t===ke&&(f.value.accessible_departments=[...le.value])},Rs=t=>{t===ke&&(f.value.accessible_departments=[])},ct=b(!1),Me=se(()=>{var e;let t=[...ae.value];if(Ae.value&&(t=t.filter(l=>l.is_hod===1)),(e=Le.value)!=null&&e.trim()){const l=Le.value.toLowerCase();t=t.filter(o=>o.role.toLowerCase().includes(l))}return t.sort((l,o)=>l.role.localeCompare(o.role)),t.sort((l,o)=>{const n=q.value.includes(l.role),a=q.value.includes(o.role);return n===a?0:n?1:-1}),t.map(l=>l.role)}),Ns=se(()=>{const t=Me.value;return t.length>0&&t.every(e=>q.value.includes(e))});we([q,Me],()=>{const t=Me.value;ct.value=t.length>0&&t.every(e=>q.value.includes(e))},{immediate:!0,deep:!0});function Ps(t){const e=t.target.checked,l=ae.value.filter(o=>{var n;return!(Ae.value&&o.is_hod!==1||(n=Le.value)!=null&&n.trim()&&!o.role.toLowerCase().includes(Le.value.toLowerCase()))}).map(o=>o.role);e?q.value=Array.from(new Set([...q.value,...l])):q.value=q.value.filter(o=>!l.includes(o)),ct.value=e}function Hs(){q.value=[],ct.value=!1,Ae.value=!1}const re=b("");function js(){const t=v[z.value];if(!t||!t.sections){console.error("Error: Invalid block or sections not found.");return}let e={type:z.value==0?"requestor":"approver",roles:q.value,approval_required:Ze.value,approver_can_edit:Ye.value,fields:t.sections.flatMap(bt),idx:z.value};z.value!==0&&(e.view_only_reportee=re.value==="ViewOnlyReportee"?1:0,e.all_approvals_required=re.value==="all_approvals_required"?1:0,e.requester_as_a_approver=re.value==="requester_as_a_approver"?1:0,e.on_rejection=De.value?De.value:0);const l=Q.findIndex(o=>o.idx===e.idx);l!==-1?Q[l]=e:Q.push(e),Ys()}function B(t){return Q.find(e=>e.idx===t)||{roles:[]}}function Js(t){const e=B(t),l=e.roles||[];q.value=[...l],De.value=e.on_rejection,Ze.value=e.approval_required,Ye.value=e.approver_can_edit,e.view_only_reportee===1?re.value="ViewOnlyReportee":e.all_approvals_required===1?re.value="all_approvals_required":e.requester_as_a_approver===1?re.value="requester_as_a_approver":re.value=""}const pt=t=>{Ae.value=!1,Le.value="",re.value="",De.value="",f.value.accessible_departments.length&&Zs(t,f.value.accessible_departments),z.value=t,Js(t)};function Zs(t,e){let l={index:t,departments:e,property:f.value.business_unit};J.post(Z.addDesignationroles,l).then(o=>{o.message&&(ae.value=o.message)}).catch(o=>{console.error("Error fetching designations data:",o)})}function Ys(){J.post(Z.add_roles_WF,{workflow_setup:Q,doctype:f.value.form_short_name,business_unit:f.value.business_unit}).then(t=>{console.log(t),z.value==0?pe("Requestor Added"):pe(`Approver-${z.value} Added`)})}function Gs(){A.push({path:X.value.routepath||localStorage.getItem("routepath")}),localStorage.removeItem("form_json")}function Ws(){f.value.form_name="",f.value.form_short_name="",f.value.owner_of_the_form="",f.value.business_unit="",f.value.form_category="",f.value.accessible_departments=[]}const Ks=t=>{if(lt.value){ce("Please check all required fields before proceeding.");return}t<F.value?Et():t>F.value&&qt()},qt=()=>{if(lt.value){ce("Please check all required fields before proceeding.");return}F.value<3&&(F.value+=1,F.value===3&&(_t.value=v))},Et=()=>{F.value>1&&(F.value-=1)},Qs=b([]);function Lt(){const t={fields:JSON.stringify(["*"]),limit_page_length:"none",doctype:de.EzyFormDefinitions,doc_id:T.value};J.get(Z.GetDoctypeData,{params:t}).then(e=>{var o;let l=e==null?void 0:e.message.data;if(l){l.accessible_departments&&(l.accessible_departments=l.accessible_departments.split(",")),f.value=ye(ee(ee({},f.value),l),{owner_of_the_form:l.owner_of_the_form||f.value.owner_of_the_form||""});const n=JSON.parse((o=e.message.data)==null?void 0:o.form_json);Wt.value=n.workflow,Qt.value=n.fields.filter(i=>i.fieldtype==="Table"),Qs.value=n.fields.filter(i=>i.fieldtype==="Table"),Se.value=e.message.data.is_landscape;let a=Ht(JSON.parse(l==null?void 0:l.form_json).fields);I.value=JSON.parse(e.message.data.form_json).child_table_fields,hs.value=[],Kt.value=[],a.forEach((i,c)=>{v.push(i)}),JSON.parse(l==null?void 0:l.form_json).workflow.forEach((i,c)=>{Q.push(i)})}}).catch(e=>{console.error("Error fetching  data:",e)})}function Xs(){const t={};Xe.value&&(t.print_format=Xe.value),Se.value!==void 0&&Se.value!==null&&(t.is_landscape=Se.value),J.put(Z.resource+de.EzyFormDefinitions+`/${C.query.id}`,t).then(e=>{console.log(e),bootstrap.Modal.getInstance(document.getElementById("customFormatModal")).hide(),pe("Print Format Added Successfully")}).catch(e=>{console.error("Error fetching  data:",e)})}function Tt(){const t={fields:JSON.stringify(["name","department_name"]),limit_page_length:"none",business_unit:`${X.value.business_unit||C.query.business_unit}`,doctype:de.departments};J.get(Z.GetDoctypeData,{params:t}).then(e=>{var l;(l=e==null?void 0:e.message.data)!=null&&l.length&&(Ce.value=e.message.data.map(o=>o.name),le.value=e.message.data.map(o=>o.name))}).catch(e=>{console.error("Error fetching department data:",e)})}b(""),we(()=>f.value.owner_of_the_form,t=>{t&&mt(t)});function mt(t){t&&typeof t=="string"&&t.trim()!==""&&xs(t)}function xs(t){const e={fields:JSON.stringify(["ezy_departments_items"]),doctype:de.departments,doc_id:t};J.get(Z.GetDoctypeData,{params:e}).then(l=>{var o;(o=l==null?void 0:l.message.data)!=null&&o.ezy_departments_items&&(ie.value=l.message.data.ezy_departments_items.map(n=>n.category))}).catch(l=>{console.error("Error fetching categories data:",l)})}function ft(t){let e=Ll(v);const l=ye(ee({},f.value),{fields:e,doctype:de.EzyFormDefinitions,workflow_setup:Q,form_status:t==="save"?"Created":"Draft"});l.accessible_departments=l.accessible_departments.toString(),J.post(Z.savedata,l).then(o=>{if(o&&o.message&&o.message.message){let n=localStorage.getItem("preName");if(n){let a={installed:"Yes"};J.put(`${Z.resource}${de.preDefinedForm}/${n}`,a).then(i=>{localStorage.removeItem("preName")}).catch(i=>{console.error("Error fetching ezyForms data:",i)})}if(A.push({params:{paramid:o.message.message},query:{id:o.message.message}}),T.value=o.message.message,T&&T!=="new"&&(v.splice(0,v.length),Lt()),Q.length<v.length)Tl("Add Workflow");else if(Ut.value===!0){pe("Form Created Successfully!",{autoClose:2e3,transition:"zoom"});let a=localStorage.getItem("routepath");t==="save"?A.push({path:a}):t==="Draft"&&A.push({path:a})}}else console.error("Invalid response structure:",o)}).catch(o=>{console.error("Error saving form data:",o)})}const st=b(""),Is=()=>{var l,o;const t=v.length,e={label:t===0?"requestor":`approver-${t}`,parent:`${(l=$e.value)==null?void 0:l.value}-${(o=f.value)==null?void 0:o.form_short_name}`,sections:[{label:"",parent:`${$e.value.value}-${f.value.form_short_name}`,childTables:[],afterCreated:{},rows:t===0?[{label:`row_0_0_${t}`,columns:[{label:"",fields:[{label:"Requested By",fieldtype:"Data",options:"",reqd:!1}]},{label:"",fields:[{label:"Requested On",fieldtype:"Datetime",options:"",reqd:!1}]}]},{label:`row_0_1_${t}`,columns:[{label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1,description:""}]}]}]:[{label:`row_0_0_${t}`,columns:[{label:"",fields:[{label:"Approver",fieldtype:"Data",options:"",reqd:!1}]},{label:"",fields:[{label:"Approved On",fieldtype:"Datetime",options:"",reqd:!1}]},{label:"",fields:[{label:"Approved By",fieldtype:"Attach",options:"",reqd:!1}]}]}]}]};v.push(e),El(()=>{st.value&&st.value.scrollTo({top:st.value.scrollHeight,behavior:"smooth"})})},Ut=b(!1),Ot=t=>{let e=v[t];e.parent&&Y.push(e);let l=[];Q.length>t&&Q[t].roles&&(l=[...Q[t].roles]),v.splice(t,1),Q.length>t&&Q.splice(t,1),v.forEach((o,n)=>{o.sections.forEach((a,i)=>{a.rows.forEach((c,m)=>{c.columns.forEach((d,p)=>{ue(n,i,m,p)})})})}),l.length&&el(l,t)};function el(t,e){const l={role:t,level:e,document_type:f.value.form_name,short_name:f.value.form_short_name,property:f.value.business_unit};J.post(Z.deleteAssigneRoles,l).then(o=>{o&&ft()})}const tl=(t,e)=>{const l={label:"",parent:`${$e.value.value}-${f.value.form_short_name}`,rows:[{label:`row_0_${e}_${t}`,columns:[{label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1}]}]}]};v[t].sections.splice(e+1,0,l)},sl=(t,e)=>{let l=v[t].sections[e];l.parent&&Y.push(l),v[t].sections.splice(e,1),v[t].sections.forEach((o,n)=>{o.rows.forEach((a,i)=>{a.columns.forEach((c,m)=>{ue(t,n,i,m)})})})},ll=(t,e,l)=>{v[t].sections[e].rows[l].columns.push({label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1}]})},ol=(t,e,l,o)=>{const a=v[t].sections[e].rows[l].columns,i=a[o];i.parent&&Y.push(i),a.length===1?v[t].sections[e].rows.splice(l,1):a.splice(o,1),v[t].sections.forEach((c,m)=>{c.rows.forEach((d,p)=>{d.columns.forEach((w,V)=>{ue(t,m,p,V)})})})},al=(t,e,l,o)=>{v[t].sections[e].rows[l].columns[o].fields.push({label:"",fieldtype:"",options:"",reqd:!1})},nl=(t,e,l,o,n)=>{let a=v[t].sections[e].rows[l].columns[o].fields[n];a.parent&&Y.push(a),v[t].sections[e].rows[l].columns[o].fields.splice(n,1)},il=(t,e,l,o,n)=>{const a=v[t].sections[e].rows[l].columns[o].fields[n],i=ee({},a);i.name=`${a.name} Name the field`,v[t].sections[e].rows[l].columns[o].fields.splice(n+1,0,i)},rl=(t,e,l,o,n)=>{const a=Yt(v);v.splice(0,v.length,...a);let i=v[t].sections[e].rows[l].columns[o].fields[n].fieldtype;(i!=="Select"||i!=="radio"||i!=="multiselect")&&(v[t].sections[e].rows[l].columns[o].fields[n].options="")};function ul(t){return xe.includes(t==null?void 0:t.trim().toLowerCase())}function dl(t){return/[^a-zA-Z0-9 _\/!@#$%^&*()?.:;|/\\[\]{}]/.test(t)||t.includes('"')||t.includes("'")}function cl(t){return t.flatMap(e=>{var l;return[(l=e.label)==null?void 0:l.trim().toLowerCase(),...e.sections.flatMap(o=>{var n;return[(n=o.label)==null?void 0:n.trim().toLowerCase(),...o.rows.flatMap(a=>a.columns.flatMap(i=>{var c;return[(c=i.label)==null?void 0:c.trim().toLowerCase(),...i.fields.map(m=>{var d;return(d=m.label)==null?void 0:d.trim().toLowerCase()})]}))]})]}).filter(e=>e!==""&&!Dt.includes(e))}function ue(t,e,l,o,n){const i=cl(v).filter((d,p,w)=>w.indexOf(d)!==p),c=Yt(v);v.splice(0,v.length,...c);function m(d,p){if(!d){p.errorMsg="";return}ul(d)?p.errorMsg="Entered label is restricted":dl(d)?p.errorMsg=`Label should not contain special characters, double quotes (") or single quotes (')`:d.length>64?p.errorMsg="Label should not exceed 64 characters":p.errorMsg=i.includes(d.trim().toLowerCase())?"Duplicate Label Name":""}n!==void 0&&m(v[t].sections[e].rows[l].columns[o].fields[n].label,v[t].sections[e].rows[l].columns[o].fields[n]),n===void 0&&o!==void 0&&m(v[t].sections[e].rows[l].columns[o].label,v[t].sections[e].rows[l].columns[o]),o===void 0&&n===void 0&&m(v[t].sections[e].label,v[t].sections[e]),v.forEach(d=>{d.sections.forEach(p=>{m(p.label,p),p.rows.forEach(w=>{w.columns.forEach(V=>{m(V.label,V),V.fields.forEach(y=>{m(y.label,y)})})})})})}const vt=se(()=>{function t(e){return!e||typeof e!="object"?!1:"fieldtype"in e&&e.fieldtype===""||"error"in e&&e.error||"errorMsg"in e&&e.errorMsg||["Select","Table MultiSelect"].includes(e.fieldtype)&&(!e.options||e.options.trim()==="")?!0:Array.isArray(e)?e.some(t):Object.values(e).some(t)}return t(v)}),lt=se(()=>G.value.length>0||W.value.length>0||!f.value.form_category||!f.value.owner_of_the_form||f.value.accessible_departments.length===0),pl=se(()=>v.some(t=>t.sections.some(e=>e.rows.some(l=>l.columns.some(o=>o.fields.some(n=>n.label&&n.fieldtype))))));function Mt(t,e){let l=t.target.value.trim();if(!l){e==="form_name"?G.value="Input cannot be empty or only spaces":e==="form_short_name"&&(W.value="Input cannot be empty or only spaces");return}if(l.length>63){e==="form_name"?G.value="Name cannot exceed 63 characters":e==="form_short_name"&&(W.value="Short name cannot exceed 63 characters");return}if(/^\d/.test(l)){e==="form_short_name"&&(W.value="First character must be a letter");return}else W.value="";if(e==="form_short_name"&&l.length<2){W.value="Short name must have at least 2 letters";return}if(e==="form_short_name"&&/[^a-zA-Z ]/.test(l)){W.value="Only alphabets and spaces are allowed";return}if(/[^a-zA-Z0-9& ]/.test(l)){e==="form_name"?G.value="Special characters are not allowed":e==="form_short_name"&&(W.value="Special characters are not allowed");return}else e==="form_name"?G.value="":e==="form_short_name"&&(W.value="");const o=[[e,"=",`${l}`],["business_unit","=",`${f.value.business_unit}`]],n={fields:JSON.stringify(["form_name","form_short_name"]),filters:JSON.stringify(o),doctype:de.EzyFormDefinitions};J.get(`${Z.GetDoctypeData}`,{params:n}).then(a=>{x.value=a.message.data,e==="form_name"?G.value=l&&x.value.some(i=>i.form_name&&i.form_name.replace(/\s+/g,"").toLowerCase()===l.replace(/\s+/g,"").toLowerCase())?"Name already exists":"":e==="form_short_name"&&(W.value=l&&x.value.some(i=>i.form_short_name&&i.form_short_name.replace(/\s+/g,"").toLowerCase()===l.replace(/\s+/g,"").toLowerCase())?"Short name already exists":"")}).catch(a=>{console.error("Error fetching ezyForms data:",a),e==="form_name"?G.value="":e==="form_short_name"&&(W.value="")})}const ml=t=>t===0?"1st row":t===1?"2nd row":t===2?"3rd row":`${t+1}th row`,_t=b([]),fl=()=>{v.length&&(_t.value=v,new bootstrap.Modal(document.getElementById("formViewModal")).show())};function vl(){J.post(Z.delete_form_items,{deleted_fields:Y.flatMap(bt),doctype:T}).then(t=>{var e;(e=t==null?void 0:t.message)!=null&&e.success&&ft()})}function zt(t){return at(this,null,function*(){if(vt.value){ce("Please fix the errors before proceeding.");return}Ut.value=!0;let e=Y.flatMap(bt);T!=null&&T!=null&&T!="new"&&e.length?vl():ft(t)})}const _l=t=>{console.log("Field added from library:",t);const e=Ke.value,l=v[e];if(!l){ce("Please create a block first before adding fields");return}const o=Bt(t);if(!o)return;l.sections||(l.sections=[]),l.sections.length===0&&l.sections.push({label:"",rows:[[{label:"",fields:[]}]]});const i=l.sections[0].rows[0][0];i.fields||(i.fields=[]),i.fields.push(o),console.log("Field added successfully:",o),pe(`${o.label} field added successfully`)},hl=t=>{console.log("Drag started:",t),ve.value=t},bl=()=>{console.log("Drag ended")},Bt=t=>{console.log("Creating field from Frappe type:",t);const e=tt.find(a=>a.type===t);if(!e)return console.error("Field type not found:",t),console.error("Available types:",tt.map(a=>a.type)),ce(`Field type "${t}" not found. Please try again.`),null;const l=Date.now(),o=Math.random().toString(36).substring(2,6),n=`field_${l}_${o}`;return{id:`field_${l}_${o}`,fieldname:n,label:e.label,fieldtype:e.type,options:"",reqd:0,read_only:0,hidden:0,description:"",default:"",placeholder:""}};return(t,e)=>(r(),u("div",null,[s("div",Pl,[s("div",Hl,[s("div",jl,[s("div",Jl,[s("div",{class:"ps-1 my-2 d-flex align-items-center",onClick:e[0]||(e[0]=l=>Gs())},e[37]||(e[37]=[s("button",{class:"btn font-13 ms-3"},[s("i",{class:"bi bi-arrow-left"}),s("span",{class:"ms-2"},"Back")],-1)])),t.$route.query.id||t.$route.query.preId?(r(),u("span",Zl,"("+h(X.value.formId||$(C).query.form_name)+")",1)):_("",!0)]),s("div",null,[F.value===2&&$(v).length&&!t.$route.query.id?(r(),u("button",{key:0,disabled:vt.value||lt.value,style:Sl({cursor:vt.value?"not-allowed":"pointer"}),type:"butoon",class:"btn font-13 btn-light",onClick:e[1]||(e[1]=l=>zt("Draft"))},e[38]||(e[38]=[s("i",{class:"bi bi-bookmark-check-fill"},null,-1),U(" Save As Draft ")]),12,Yl)):_("",!0)])]),s("div",Gl,[s("div",Wl,[s("div",Kl,[s("div",Ql,[s("ul",Xl,[(r(!0),u(E,null,L(Ts.value,l=>(r(),u("li",{key:l.id,class:R({active:F.value===l.id,completed:F.value>l.id})},[s("div",{class:R(["d-flex gap-3 align-items-center",{"not-allowed":lt.value&&F.value+1===l.id}]),onClick:o=>Ks(l.id)},[F.value>l.id?(r(),u("i",Il)):(r(),u("i",{key:1,class:R(l.icon)},null,2)),s("div",eo,[s("span",to,h(l.stepno),1),e[39]||(e[39]=s("br",null,null,-1)),s("span",so,h(l.label),1)])],10,xl)],2))),128))])])]),s("div",lo,[s("div",oo,[s("div",ao,[F.value===1?(r(),u("div",no,[s("div",io,[s("div",ro,[e[40]||(e[40]=s("div",null,null,-1)),e[41]||(e[41]=s("h1",{class:"font-14 fw-bold m-0"},"About Form",-1)),s("div",null,[!t.$route.query.id&&!t.$route.query.preId?(r(),u("button",{key:0,class:"btn btn-light font-12 mx-2",type:"button",onClick:Ws},"Clear Form")):_("",!0),F.value<3?(r(),jt(Jt,{key:1,class:"btn btn-dark bg-dark text-white fw-bold font-13",name:"Next",onClick:qt})):_("",!0)])])]),s("div",uo,[s("div",co,[e[55]||(e[55]=s("div",{class:"col-sm-none col-md-4"},null,-1)),s("div",po,[s("div",mo,[s("div",fo,[s("div",vo,[s("div",_o,[$(C).query.preId?(r(),u("span",ho,e[42]||(e[42]=[U("Predefined "),s("i",{class:"bi bi-check2-circle"},null,-1)]))):_("",!0),te(je,{disabled:(X.value.formId&&X.value.formId.length>0||$(C).query.form_name)&&be.value!=="1",labeltext:"Form Name",class:"formHeight",type:"text",tag:"input",name:"Value",id:"formName",validationStar:"true",placeholder:"Untitled Form",onChange:e[2]||(e[2]=l=>Mt(l,"form_name")),modelValue:Ct.value,"onUpdate:modelValue":e[3]||(e[3]=l=>Ct.value=l)},null,8,["disabled","modelValue"]),G.value?(r(),u("span",bo,h(G.value),1)):_("",!0)])]),s("div",go,[te(je,{disabled:(X.value.formId&&X.value.formId.length>0||$(C).query.form_name)&&be.value!=="1",labeltext:"Form Short Code",class:"formHeight",type:"text",tag:"input",name:"Value",id:"formShortCode",validationStar:"true",placeholder:"Untitled Form",onChange:e[4]||(e[4]=l=>Mt(l,"form_short_name")),modelValue:f.value.form_short_name,"onUpdate:modelValue":e[5]||(e[5]=l=>f.value.form_short_name=l)},null,8,["disabled","modelValue"]),W.value?(r(),u("span",yo,h(W.value),1)):_("",!0)]),s("div",wo,[te(je,{disabled:X.value.formId&&X.value.formId.length>0&&be.value!=="1",labeltext:"Form Naming series",class:"formHeight",type:"text",tag:"input",name:"Value",id:"formNameSeries",placeholder:"Form Naming series",modelValue:f.value.series,"onUpdate:modelValue":e[6]||(e[6]=l=>f.value.series=l)},null,8,["disabled","modelValue"]),e[43]||(e[43]=Al('<small class="text-muted" style="font-size:12px;" data-v-374e056a> Note : Enter <code data-v-374e056a>YY-YY</code>, <code data-v-374e056a>YYYY</code>, or <code data-v-374e056a>ABC</code>. The system will default to the format <code data-v-374e056a> 24-25-0001</code>, <code data-v-374e056a> 2025-0001</code>, or <code data-v-374e056a> ABC-0001</code> respectively. </small>',1))]),s("div",ko,[s("label",null,[e[44]||(e[44]=U("Owner Of The Form ")),f.value.owner_of_the_form?_("",!0):(r(),u("span",Co,"*"))]),te($(Je),{disabled:X.value.formId&&X.value.formId.length>0&&be.value!=="1",onOpen:Tt,options:Ce.value,onChange:mt,modelValue:f.value.owner_of_the_form,"onUpdate:modelValue":e[7]||(e[7]=l=>f.value.owner_of_the_form=l),placeholder:"Select Department",multiple:!1,class:"font-11 multiselect",searchable:!0,openDirection:"bottom"},null,8,["disabled","options","modelValue"])]),s("div",Do,[s("label",null,[e[45]||(e[45]=U("Form Category ")),f.value.form_category?_("",!0):(r(),u("span",Fo,"*"))]),te($(Je),{disabled:X.value.formId&&X.value.formId.length>0&&be.value!=="1",options:ie.value,modelValue:f.value.form_category,"onUpdate:modelValue":e[8]||(e[8]=l=>f.value.form_category=l),placeholder:"Select Category",multiple:!1,searchable:!0,class:"font-11 multiselect"},null,8,["disabled","options","modelValue"])]),s("div",$o,[s("label",null,[e[46]||(e[46]=U("Accessible to Department ")),f.value.accessible_departments.length?_("",!0):(r(),u("span",So,"*"))]),te($(Je),{modelValue:f.value.accessible_departments,"onUpdate:modelValue":e[10]||(e[10]=l=>f.value.accessible_departments=l),options:Us.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Department",class:"font-11",onSelect:Bs,onRemove:Rs,openDirection:"bottom"},{option:Zt(({option:l})=>[s("div",Ao,[s("input",{type:"checkbox",checked:Ms(l),class:"custom-checkbox",onChange:o=>zs(l,o),onClick:e[9]||(e[9]=ne(()=>{},["stop"]))},null,40,Vo),s("span",null,h(l),1)])]),selection:Zt(({values:l,isOpen:o})=>[l.length?D((r(),u("span",{key:0,class:"multiselect__single font-10"},h(Os.value),513)),[[nt,!o]]):_("",!0)]),_:1},8,["modelValue","options"])]),s("div",qo,[e[47]||(e[47]=s("label",null,"Form Type",-1)),te($(Je),{options:wt,modelValue:kt.value,"onUpdate:modelValue":e[11]||(e[11]=l=>kt.value=l),placeholder:"Select Form Type",multiple:!1,searchable:!0,label:"label","track-by":"value",reduce:l=>l.value,class:"font-11 multiselect",openDirection:"top"},null,8,["modelValue","reduce"]),e[48]||(e[48]=s("small",{class:"text-muted font-12 ms-2"},"Note: Public form is accessible by anyone through QR code.",-1))]),s("div",Eo,[e[49]||(e[49]=s("label",null,[U("Has Workflow "),s("span",{class:"fw-normal font-11 text-secondary"},"(optional)")],-1)),te($(Je),{options:["Yes","No"],modelValue:f.value.has_workflow,"onUpdate:modelValue":e[12]||(e[12]=l=>f.value.has_workflow=l),placeholder:"Select",multiple:!1,class:"font-11 multiselect",searchable:!0},null,8,["modelValue"])]),f.value.as_web_view===1?(r(),u("div",Lo,[e[50]||(e[50]=s("label",null,[U("Form Submit Response "),s("span",{class:"fw-normal font-11 text-secondary"},"(optional)")],-1)),te(je,{class:"formHeight mt-2",type:"text",tag:"input",name:"Value",id:"formNameSeries",placeholder:"Form Submit Response",modelValue:f.value.public_form_response,"onUpdate:modelValue":e[13]||(e[13]=l=>f.value.public_form_response=l)},null,8,["modelValue"])])):_("",!0),f.value.as_web_view===1?(r(),u("div",To,[e[51]||(e[51]=s("label",null,[U("Submit Notification Email "),s("span",{class:"fw-normal font-11 text-secondary"},"(optional)")],-1)),te(je,{class:"formHeight mt-2",type:"text",tag:"input",name:"Value",id:"formNameSeries",placeholder:"Form Submit mail",modelValue:f.value.mail_id,"onUpdate:modelValue":e[14]||(e[14]=l=>f.value.mail_id=l)},null,8,["modelValue"]),e[52]||(e[52]=s("small",{class:"text-muted font-12 ms-2"},"Note : If multiple Emails, separate with commas (,).",-1))])):_("",!0),$(C).query.preId?(r(),u("div",Uo,[s("div",Oo,[D(s("input",{class:"form-check-input linketoCheck p-1",disabled:f.value.is_predefined_doctype==1,type:"checkbox",id:"is_linked","onUpdate:modelValue":e[15]||(e[15]=l=>f.value.is_linked=l),"true-value":1,"false-value":0},null,8,Mo),[[qe,f.value.is_linked]]),e[53]||(e[53]=s("label",{class:"form-check-label font-12 mx-2 mb-0 ps-1",for:"is_linked"}," Link ",-1))])])):_("",!0),f.value.is_linked?(r(),u("div",zo,[e[54]||(e[54]=s("label",{for:"standardFormInput"},"Form",-1)),D(s("input",{type:"text",class:"form-control standardFormInput",id:"standardFormInput",disabled:f.value.is_predefined_doctype==1,"onUpdate:modelValue":e[16]||(e[16]=l=>f.value.is_linked_form=l),placeholder:"Type to search Form Name...",onInput:es,onFocus:e[17]||(e[17]=l=>We.value=!0),onBlur:ss},null,40,Bo),[[M,f.value.is_linked_form]]),We.value&&Ge.value.length?(r(),u("ul",Ro,[(r(!0),u(E,null,L(Ge.value,(l,o)=>(r(),u("li",{class:"list-group-item formlistitem",key:o,onMousedown:ne(n=>ts(l.name),["prevent"])},h(l.name),41,No))),128))])):_("",!0)])):_("",!0)])])]),e[56]||(e[56]=s("div",{class:"col-sm-none col-md-4"},null,-1))])])])):_("",!0),F.value===2?(r(),u("div",Po,[s("div",Ho,[s("div",jo,[s("button",{onClick:e[18]||(e[18]=l=>Et()),class:"btn btn-sm btn-light"},e[57]||(e[57]=[s("i",{class:"bi bi-chevron-left"},null,-1),U(" Back ")]))]),s("div",Jo,[(r(!0),u(E,null,L($(v),(l,o)=>(r(),u("button",{key:o,class:R(["zoho-tab",{active:Ke.value===o}]),onClick:n=>Ke.value=o},[e[58]||(e[58]=s("i",{class:"bi bi-file-earmark-text me-1"},null,-1)),U(" "+h(o===0?"Requestor Block":`Approver Block ${o}`)+" ",1),$(v).length>1?(r(),u("i",{key:0,class:"bi bi-x-lg ms-2",onClick:ne(n=>Ot(o),["stop"])},null,8,Yo)):_("",!0)],10,Zo))),128))]),s("div",Go,[s("button",{class:"btn btn-sm btn-primary me-2",onClick:Is},e[59]||(e[59]=[s("i",{class:"bi bi-plus-lg me-1"},null,-1),U("Add Block ")])),pl.value?(r(),u("button",{key:0,class:"btn btn-sm btn-light me-2",onClick:fl},e[60]||(e[60]=[s("i",{class:"bi bi-eye me-1"},null,-1),U("Preview ")]))):_("",!0),$(v).length?(r(),u("button",{key:1,class:"btn btn-sm btn-dark",onClick:e[19]||(e[19]=l=>zt("save"))},h($(T)!=="new"?"Update Form":"Create Form"),1)):_("",!0)])]),s("div",Wo,[s("aside",{class:R(["zoho-field-library",{collapsed:!Fe.value}])},[s("div",{class:"library-header",onClick:e[20]||(e[20]=l=>Fe.value=!Fe.value)},[s("div",Ko,[s("h6",Qo,[e[61]||(e[61]=s("i",{class:"bi bi-grid-3x3-gap me-2"},null,-1)),U(" "+h(Fe.value?"Field Types":"Fields"),1)]),s("button",Xo,[s("i",{class:R(Fe.value?"bi bi-chevron-left":"bi bi-chevron-right")},null,2)])])]),Fe.value?(r(),u("div",xo,[te(Nl,{fields:tt,onFieldAdd:_l,onFieldDragstart:hl,onFieldDragend:bl})])):_("",!0)],2),s("div",Io,[s("div",{class:"canvas-inner",ref_key:"mainBlockRef",ref:st},[(r(!0),u(E,null,L($(v),(l,o)=>D((r(),u("div",{class:"block-level",key:o},[s("div",ea,[s("div",ta,[s("div",sa,[s("h6",la,h(o===0?"Requestor Block":`Approver
                                  Block ${o}
                                  `),1),s("div",oa,[o!==0&&B(o).view_only_reportee||B(o).all_approvals_required||B(o).requester_as_a_approver?(r(),u("div",aa,[s("span",na,h(B(o).view_only_reportee===1?"Reporting Manager only":"")+" "+h(B(o).all_approvals_required===1?"All of the selected approvers":"")+" "+h(B(o).requester_as_a_approver===1?"Approval by Requestor":""),1),s("span",null,[e[62]||(e[62]=s("span",{class:"ms-1"}," on rejection escalating to ",-1)),s("span",ia,h(B(o).on_rejection?`Level ${B(o).on_rejection}`:"Requestor"),1)]),s("span",ra,h(B(o).all_approvals_required===1?"":"(Skipping multi approval)"),1)])):_("",!0)])]),s("div",ua,[$(T)&&$(Q).length?(r(),u("div",da,[B(o)?(r(),u("label",ca,[s("span",pa,h(B(o).roles.length>0?o===0?"Requestor: ":"Approver: ":""),1),s("span",ma,h(B(o).roles.slice(0,2).join(", ")),1),B(o).roles.length>2?(r(),u("span",{key:0,"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:n=>pt(o),class:"more-count"}," +"+h(B(o).roles.length-2)+" more ",9,fa)):_("",!0)])):_("",!0)])):_("",!0),xt(o)&&$(T)!=null&&$(T)!=null&&$(T)!="new"&&B(o).roles.length===0?(r(),u("button",{key:1,class:"btn btn-light designationBtn d-flex align-items-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:n=>pt(o)},[e[63]||(e[63]=s("img",{src:Ul,alt:"Add",class:"me-1"},null,-1)),U(" "+h(o===0?"Add Requestors":"Add Approvers"),1)],8,va)):_("",!0),$(T)!=null&&$(T)!=null&&$(T)!="new"&&B(o).roles.length>0?(r(),u("button",{key:2,class:"btn btn-light designationBtn d-flex align-items-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:n=>pt(o)},e[64]||(e[64]=[s("i",{class:"bi bi-pencil font-14"},null,-1)]),8,_a)):_("",!0),s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteBlock",onClick:n=>Ot(o)},e[65]||(e[65]=[s("i",{class:"bi bi-trash me-1"},null,-1),U(" Delete Block ")]),8,ha)])])]),s("div",ba,[(r(!0),u(E,null,L(l.sections,(n,a)=>(r(),u("div",{key:"section-"+a,class:"dynamicSection mt-0 section"},[s("section",ga,[s("div",ya,[D(s("input",{"onUpdate:modelValue":i=>n.label=i,type:"text",class:R(["border-less-input","font-14",{"italic-style":!n.label},{"fw-medium":n.label}]),onChange:i=>ue(o,a),onInput:i=>ue(o,a),placeholder:"Untitled section"},null,42,wa),[[M,n.label]]),n.errorMsg?(r(),u("small",ka,h(n.errorMsg),1)):_("",!0)]),s("div",Ca,[s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteSection",onClick:i=>sl(o,a)},e[66]||(e[66]=[s("i",{class:"bi bi-trash me-1"},null,-1),U(" Delete Section ")]),8,Da)])]),s("div",Fa,[(r(!0),u(E,null,L(n.rows,(i,c)=>(r(),u("section",{class:"row dynamicRow row-container",key:"row-"+c},[s("div",$a,[s("label",Sa,h(ml(c)),1),s("div",null,[i.columns.length<3?(r(),u("button",{key:0,class:"btn btn-light bg-transparent border-0 p-1 font-12",onClick:m=>ll(o,a,c)},e[67]||(e[67]=[s("i",{class:"bi bi-plus font-14"},null,-1),U(" Add Column ")]),8,Aa)):_("",!0)])]),s("div",Va,[s("div",qa,[(r(!0),u(E,null,L(i.columns,(m,d)=>(r(),u("div",{key:"column-"+d,onMouseenter:p=>ds(o,a,c,d),onMouseleave:cs,class:"col p-0 dynamicColumn position-relative column-container"},[s("div",La,[s("div",Ta,[D(s("input",{"onUpdate:modelValue":p=>m.label=p,type:"text",class:R(["border-less-input","ps-1","font-14","inputHeight",{"italic-style":!m.label},{"fw-medium":m.label}]),onChange:p=>ue(o,a,c,d),onInput:p=>ue(o,a,c,d),placeholder:"Column Name"},null,42,Ua),[[M,m.label]]),m.errorMsg?(r(),u("small",Oa,h(m.errorMsg),1)):_("",!0)]),D(s("div",Ma,[s("button",{class:"btn btn-light bg-transparent me-1 btn-sm",onClick:p=>ol(o,a,c,d)},e[68]||(e[68]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,za)],512),[[nt,ps(o,a,c,d)]])]),m.fields.length===0?(r(),u("div",{key:0,class:"empty-drop-zone",onDragover:e[21]||(e[21]=ne(()=>{},["prevent"])),onDrop:p=>_e(p,o,a,c,d,t.fieldIndex)},null,40,Ba)):_("",!0),(r(!0),u(E,null,L(m.fields,(p,w)=>{var V;return r(),u("div",{key:"field-"+w,onMouseenter:y=>is(o,a,c,d,w),onMouseleave:rs,class:"dynamicField m-1 draggable-item",draggable:"true",onDragstart:y=>Ft(y,o,a,c,d,w),onDragover:e[25]||(e[25]=ne(()=>{},["prevent"])),onDrop:y=>_e(y,o,a,c,d,w)},[s("div",{class:"drop-zone",onDragover:e[22]||(e[22]=ne(()=>{},["prevent"])),onDrop:y=>_e(y,o,a,c,d,w)},null,40,Na),p.fieldtype!=="Table"?(r(),u("div",{key:0,class:"px-1 dynamic_fied field-border",draggable:"true",onDragstart:y=>Ft(y,o,a,c,d,w),onDragover:e[23]||(e[23]=ne(()=>{},["prevent"])),onDrop:y=>_e(y,o,a,c,d,w)},[s("div",Ha,[s("div",ja,[D(s("input",{"onUpdate:modelValue":y=>p.label=y,placeholder:"Name the field",class:R(["border-less-input","font-14","p-0","inputHeight",{"italic-style":!p.label},{"fw-medium":p.label}]),onChange:y=>ue(o,a,c,d,w),onInput:y=>ue(o,a,c,d,w)},null,42,Ja),[[M,p.label]]),p.errorMsg?(r(),u("small",Za,h(p.errorMsg),1)):_("",!0)]),D(s("div",Ya,[s("button",{class:"btn btn-light btn-sm bg-transparent py-0",onClick:y=>il(o,a,c,d,w)},e[69]||(e[69]=[s("i",{class:"ri-file-copy-line font-13 copyIcon"},null,-1)]),8,Ga),s("button",{class:"btn btn-light btn-sm bg-transparent trash-btn py-0",onClick:y=>{nl(o,a,c,d,w),ue(o,a,c,d)}},e[70]||(e[70]=[s("i",{class:"bi bi-x-lg font-13"},null,-1)]),8,Wa)],512),[[nt,us(o,a,c,d,w)]])]),D(s("select",{"onUpdate:modelValue":y=>p.fieldtype=y,class:"form-select mb-2 mt-1 font-13 searchSelect",onChange:y=>rl(o,a,c,d,w)},[e[71]||(e[71]=s("option",{value:""},"Select Type",-1)),(r(),u(E,null,L(tt,y=>s("option",{key:y,value:y.type},h(y.label),9,Qa)),64))],40,Ka),[[Ee,p.fieldtype]]),["Select","Table MultiSelect","Small Text"].includes(p.fieldtype)?(r(),u("div",Xa,[e[72]||(e[72]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),D(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":y=>p.options=y,class:"form-control shadow-none mb-1 font-12"},null,8,xa),[[M,p.options]]),!p.options||p.options.trim()===""?(r(),u("small",Ia," Options are required for this field type. ")):_("",!0)])):_("",!0),p.fieldtype==="Link"?(r(),u("div",en,[s("label",{class:"font-11 fw-light",for:"link-search-"+me(o,a,c,d,w)}," Search Doctype: ",8,tn),D(s("input",{id:"link-search-"+me(o,a,c,d,w),type:"text","onUpdate:modelValue":y=>$(v)[o].sections[a].rows[c].columns[d].fields[w].options=y,onInput:y=>os($(v)[o].sections[a].rows[c].columns[d].fields[w].options,o,a,c,d,w),onFocus:y=>ls(me(o,a,c,d,w)),class:"form-control font-12 mb-1",placeholder:"Type to search..."},null,40,sn),[[M,$(v)[o].sections[a].rows[c].columns[d].fields[w].options]]),(V=Ue[me(o,a,c,d,w)])!=null&&V.length&&rt[me(o,a,c,d,w)]?(r(),u("ul",ln,[(r(!0),u(E,null,L(Ue[me(o,a,c,d,w)],(y,g)=>(r(),u("li",{key:g,onClick:k=>as(o,a,c,d,w,y.name),class:"list-group-item list-group-item-action"},h(y.name),9,on))),128))])):_("",!0)])):_("",!0),s("div",an,[s("div",nn,[s("div",rn,[D(s("input",{class:"font-12","onUpdate:modelValue":y=>p.reqd=y,"true-value":1,id:"mandatory-"+o+"-"+a+"-"+c+"-"+d+"-"+w,"false-value":0,placeholder:"Field Name",type:"checkbox"},null,8,un),[[qe,p.reqd]])]),s("div",null,[s("label",{class:"font-12 m-0 fw-light",for:"mandatory-"+o+"-"+a+"-"+c+"-"+d+"-"+w},"Mandatory",8,dn)])]),s("div",null,[s("button",{class:"btn btn-sm font-12",onClick:y=>p.showDescription=!p.showDescription},h(p.showDescription?"Hide Description":p.description?"Edit Description":"Add Description"),9,cn)])]),p.showDescription?D((r(),u("textarea",{key:2,"onUpdate:modelValue":y=>p.description=y,class:"form-control font-12 mt-2",placeholder:"Enter field description"},null,8,pn)),[[M,p.description]]):_("",!0),p.error?(r(),u("small",mn,h(p.error),1)):_("",!0)],40,Pa)):_("",!0),s("div",{class:"drop-zone",onDragover:e[24]||(e[24]=ne(()=>{},["prevent"])),onDrop:y=>_e(y,o,a,c,d,w)},null,40,fn),s("div",vn,[s("div",null,[s("div",null,[s("div",_n,[p.fieldtype==="Table"?(r(),u("div",hn,[(r(!0),u(E,null,L(I.value,(y,g)=>(r(),u("div",{key:g,class:"childTable"},[g===p.fieldname||g===p.options?(r(),u("h5",bn,h(g.replace(/_/g," ")),1)):_("",!0),N[g]&&g===At.value?(r(),u("div",gn,[s("div",yn,[p.showDescription?D((r(),u("input",{key:0,"onUpdate:modelValue":k=>p.description=k,class:"form-control font-12",placeholder:"Enter field description"},null,8,wn)),[[M,p.description]]):_("",!0),s("button",{class:"btn btn-sm text-nowrap font-12",onClick:k=>p.showDescription=!p.showDescription},h(p.showDescription?"Hide Description":p.description?"Edit Description":"Add Description"),9,kn)])])):_("",!0),g===p.options||g===p.fieldname?(r(),u("table",Cn,[e[76]||(e[76]=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Label"),s("th",null,"Field Type")])],-1)),s("tbody",{onDragover:ne(vs,["prevent"]),onDrop:k=>_s(k,y)},[(r(!0),u(E,null,L(y,(k,j)=>{var ze,Be,Re,Ne,Pe,He,K;return r(),u("tr",{key:j,draggable:N[g],onDragstart:P=>ms(j),onDragend:fs,class:R({dragging:ge.value===j})},[s("td",null,h(j+1),1),N[g]?(r(),u("td",$n,[D(s("input",{"onUpdate:modelValue":P=>k.label=P,onInput:P=>et(k,g,j),placeholder:"Field Label",class:R(["form-control",{"border-1 border-danger":(Be=(ze=S[g])==null?void 0:ze[j])==null?void 0:Be.length}])},null,42,Sn),[[M,k.label]]),(Ne=(Re=S[g])==null?void 0:Re[j])!=null&&Ne.length?(r(),u("div",An,[(r(!0),u(E,null,L(S[g][j],(P,gl)=>(r(),u("div",{key:gl},h(P),1))),128))])):_("",!0)])):(r(),u("td",Vn,h(k.label),1)),N[g]?(r(),u("td",qn,[s("div",En,[D(s("select",{"onUpdate:modelValue":P=>k.fieldtype=P,onChange:P=>et(k,g,j),class:R(["form-select form-select-sm",{"border-1 border-danger":(He=(Pe=S[g])==null?void 0:Pe[j])==null?void 0:He.length}])},[e[73]||(e[73]=s("option",{value:""},"Select Type",-1)),(r(),u(E,null,L(dt,P=>s("option",{key:P.type,value:P.type},h(P.label),9,Tn)),64))],42,Ln),[[Ee,k.fieldtype]]),s("div",Un,[s("div",On,[s("div",Mn,[D(s("input",{class:"font-12 form-control-sm","onUpdate:modelValue":P=>k.description=P,placeholder:"description",type:"text"},null,8,zn),[[M,k.description]])])]),s("button",{class:"btn btn-light btn-sm",onClick:P=>Es(g,j)},e[74]||(e[74]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,Bn)])]),["Select"].includes(k.fieldtype)?(r(),u("div",Rn,[e[75]||(e[75]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),D(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":P=>k.options=P,onInput:P=>et(k,g,j),class:"form-control shadow-none mb-1 font-12"},null,40,Nn),[[M,k.options]]),!k.options||k.options.trim()===""?(r(),u("small",Pn," Options are required for this field type. ")):_("",!0)])):_("",!0),(K=H[g])!=null&&K.includes(j)?(r(),u("span",Hn,"Type required**")):_("",!0)])):(r(),u("td",jn,h(k.fieldtype),1))],42,Fn)}),128))],40,Dn)])):_("",!0),p.fieldtype==="Table"&&(p.label===g||p.fieldname===g)?(r(),u("div",Jn,[s("button",{class:"btn btn-light btn-sm mx-2",onClick:k=>Ls(g,p.description)},h(N[g]?"Save":"Edit"),9,Zn),N[g]?(r(),u("button",{key:0,class:"btn btn-light btn-sm",onClick:k=>qs(g)}," Add More Field ",8,Yn)):_("",!0)])):_("",!0)]))),128))])):_("",!0)])])])])],40,Ra)}),128)),s("div",{class:"drop-zone-bottom",onDragover:e[26]||(e[26]=ne(()=>{},["prevent"])),onDrop:p=>_e(p,o,a,c,d,m.fields.length),style:{"background-color":"#f0f0f0",border:"1px dashed #ccc",margin:"4px"}},null,40,Gn),s("div",{class:"drop-zone",onDragover:e[27]||(e[27]=ne(()=>{},["prevent"])),onDrop:p=>_e(p,o,a,c,d,t.fields.length),style:{height:"10px","background-color":"transparent"}},null,40,Wn),s("div",Kn,[s("button",{class:"btn btn-light btn-sm d-flex align-items-center addField m-2",onClick:p=>al(o,a,c,d)},e[77]||(e[77]=[s("i",{class:"bi bi-plus fs-5"},null,-1),s("span",null,"Add Field",-1)]),8,Qn)])],40,Ea))),128))])])]))),128)),s("div",null,[(r(!0),u(E,null,L(n.afterCreated,(i,c)=>(r(),u("div",{key:c,class:"childTable dynamicColumn m-0 p-2"},[s("h5",Xn,h(i.tableName),1),N[i.tableName]?(r(),u("div",xn,[s("div",In,[i.showDescription?D((r(),u("input",{key:0,"onUpdate:modelValue":m=>i.description=m,class:"form-control font-12",placeholder:"Enter field description"},null,8,ei)),[[M,i.description]]):_("",!0),s("button",{class:"btn btn-sm text-nowrap font-12",onClick:m=>i.showDescription=!i.showDescription},h(i.showDescription?"Hide Description":i.description?"Edit Description":"Add Description"),9,ti)])])):_("",!0),s("table",si,[e[83]||(e[83]=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Label"),s("th",null,"Field Type")])],-1)),s("tbody",null,[(r(!0),u(E,null,L(i.columns,(m,d)=>{var p,w,V,y;return r(),u("tr",{key:d},[s("td",null,h(d+1),1),N[i.tableName]?(r(),u("td",li,[D(s("input",{"onUpdate:modelValue":g=>m.label=g,placeholder:"Field Label",class:R(["form-control",{"border-1 border-danger":(p=H[i.tableName])==null?void 0:p.includes(d)}]),onBlur:g=>{var k;m.label=(k=m.label)==null?void 0:k.trim(),Oe(m,i.tableName,d,i.columns)}},null,42,oi),[[M,m.label]]),(w=S[i.tableName])!=null&&w[d]?(r(),u("div",ai,[(r(!0),u(E,null,L(S[i.tableName][d],(g,k)=>(r(),u("span",{key:k},[U(h(g)+" ",1),e[78]||(e[78]=s("br",null,null,-1))]))),128))])):_("",!0)])):(r(),u("td",ni,h(m.label),1)),N[i.tableName]?(r(),u("td",ii,[s("div",ri,[D(s("select",{"onUpdate:modelValue":g=>m.fieldtype=g,class:R(["form-select form-select-sm",{"border-1 border-danger":(V=H[i.tableName])==null?void 0:V.includes(d)}]),onChange:g=>Oe(m,i.tableName,d,i.columns)},[e[79]||(e[79]=s("option",{value:""},"Select Type",-1)),(r(),u(E,null,L(dt,g=>s("option",{key:g.type,value:g.type},h(g.label),9,di)),64))],42,ui),[[Ee,m.fieldtype]]),s("button",{class:"btn btn-light btn-sm",onClick:g=>As(o,a,i.tableName,d)},e[80]||(e[80]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,ci)]),m.fieldtype==="Select"?(r(),u("div",pi,[e[81]||(e[81]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),D(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":g=>m.options=g,class:"form-control shadow-none mb-1 font-12",onInput:g=>Oe(m,i.tableName,d,i.columns)},null,40,mi),[[M,m.options]])])):_("",!0),(y=S[i.tableName])!=null&&y[d]?(r(),u("div",fi,[(r(!0),u(E,null,L(S[i.tableName][d],(g,k)=>(r(),u("span",{key:k},[U(h(g),1),e[82]||(e[82]=s("br",null,null,-1))]))),128))])):_("",!0)])):(r(),u("td",vi,h(m.fieldtype),1))])}),128))])]),s("div",_i,[s("button",{class:"btn btn-light btn-sm mx-2",onClick:m=>Vs(o,a,i.tableName)},h(N[i.tableName]?"Save":"Edit"),9,hi),N[i.tableName]?(r(),u("button",{key:0,class:"btn btn-light btn-sm",onClick:m=>Ss(o,a,i.tableName)}," Add More Field ",8,bi)):_("",!0)])]))),128))])]),s("div",null,[s("div",null,[o==0?(r(),u("button",{key:0,class:"btn btn-light addRow mb-3 mt-4",onClick:i=>bs(o,a)}," Add New Table ",8,gi)):_("",!0),(r(!0),u(E,null,L(n.childTables,(i,c)=>{var m;return r(),u("div",{key:`table-${o}-${a}-${c}`,class:"child-table"},[i.newTable?(r(),u("div",yi,[s("div",wi,[s("div",null,[s("span",{class:R(i.tableName?"d-none":"text-danger")},"*",2),D(s("input",{"onUpdate:modelValue":d=>i.tableName=d,placeholder:"Table Name",onBlur:d=>$t(i),class:R(["border-less-input font-14 p-0 inputHeight",{"italic-style":!i.tableName,"fw-medium":i.tableName}])},null,42,ki),[[M,i.tableName]]),(m=S[`${o}-${a}-${c}`])!=null&&m.tableName?(r(),u("div",Ci,h(S[`${o}-${a}-${c}`].tableName),1)):_("",!0),Ve.value?(r(),u("div",Di,h(Ve.value),1)):_("",!0),s("div",Fi,[s("div",$i,[i.showDescription?D((r(),u("input",{key:0,"onUpdate:modelValue":d=>i.as_a_block=d,class:"form-control font-12",placeholder:"Enter field description"},null,8,Si)),[[M,i.as_a_block]]):_("",!0),s("button",{class:"btn btn-sm text-nowrap font-12",onClick:d=>i.showDescription=!i.showDescription},h(i.showDescription?"Hide Description":i.description?"Edit Description":"Add Description"),9,Ai)])])]),s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteSection",onClick:d=>ys(o,a,c)},e[84]||(e[84]=[s("i",{class:"bi bi-trash"},null,-1),U(" Remove Table ")]),8,Vi)]),(r(!0),u(E,null,L(i.columns,(d,p)=>{var w,V,y,g,k,j,ze,Be,Re,Ne,Pe,He;return r(),u("div",{key:p,class:"dynamicField"},[s("div",qi,[s("div",Ei,[s("div",null,[s("span",{class:R(d.label?"d-none":"text-danger")},"*",2),D(s("input",{"onUpdate:modelValue":K=>d.label=K,placeholder:"Name the field",onBlur:()=>{$t(d),ks(d,o,a,c,p,i.columns)},class:R(["border-less-input font-14 p-0 inputHeight",{"italic-style":!d.label,"fw-medium":d.label,"is-invalid":(y=(V=(w=S[`${o}-${a}-${c}`])==null?void 0:w.columns)==null?void 0:V[p])==null?void 0:y.label}])},null,42,Li),[[M,d.label]]),(j=(k=(g=S[`${o}-${a}-${c}`])==null?void 0:g.columns)==null?void 0:k[p])!=null&&j.label?(r(),u("div",Ti,h(S[`${o}-${a}-${c}`].columns[p].label),1)):_("",!0)]),s("div",Ui,[s("div",Oi,[d.showDescription?D((r(),u("input",{key:0,"onUpdate:modelValue":K=>d.description=K,class:"form-control font-12",placeholder:"Enter field description"},null,8,Mi)),[[M,d.description]]):_("",!0),s("button",{class:"btn btn-sm text-nowrap font-12",onClick:K=>d.showDescription=!d.showDescription},h(d.showDescription?"Hide Description":d.description?"Edit Description":"Add Description"),9,zi)]),s("button",{class:"btn btn-sm trash-btn py-0",onClick:K=>ws(o,a,c,p)},e[85]||(e[85]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,Bi)])]),D(s("select",{"onUpdate:modelValue":K=>d.fieldtype=K,class:R(["form-select font-13 mb-1",{"is-invalid":(Re=(Be=(ze=S[`${o}-${a}-${c}`])==null?void 0:ze.columns)==null?void 0:Be[p])==null?void 0:Re.fieldtype}])},[e[86]||(e[86]=s("option",{value:""},"Select Type",-1)),(r(),u(E,null,L(dt,K=>s("option",{key:K.type,value:K.type},h(K.label),9,Ni)),64))],10,Ri),[[Ee,d.fieldtype]]),["Select"].includes(d.fieldtype)?(r(),u("div",Pi,[e[87]||(e[87]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),D(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":K=>d.options=K,class:"form-control shadow-none mb-1 font-12"},null,8,Hi),[[M,d.options]]),!d.options||d.options.trim()===""?(r(),u("small",ji," Options are required for this field type. ")):_("",!0)])):_("",!0),(He=(Pe=(Ne=S[`${o}-${a}-${c}`])==null?void 0:Ne.columns)==null?void 0:Pe[p])!=null&&He.fieldtype?(r(),u("div",Ji,h(S[`${o}-${a}-${c}`].columns[p].fieldtype),1)):_("",!0)])])}),128)),s("button",{class:"btn btn-light btn-sm addField mx-1",onClick:d=>gs(o,a,c)},e[88]||(e[88]=[s("i",{class:"bi bi-plus"},null,-1),U(" Add Field ")]),8,Zi),s("button",{class:"btn btn-dark btn-sm font-12 mx-1",onClick:d=>$s(o,a,c)}," Create Table ",8,Yi),e[89]||(e[89]=s("hr",null,null,-1))])):_("",!0)])}),128))])]),s("div",Gi,[s("button",{class:"btn btn-light border font-12",onClick:i=>tl(o,a)},e[90]||(e[90]=[s("i",{class:"bi bi-plus-circle me-1 fs-6"},null,-1),U(" Add Section ")]),8,Wi)])]))),128)),o===0?(r(),u("div",Ki)):_("",!0)])])),[[nt,o===Ke.value]])),128))],512)]),yt.value?(r(),u("aside",Qi,[s("div",Xi,[e[92]||(e[92]=s("h6",{class:"mb-0"},"Field Properties",-1)),s("button",{class:"btn btn-sm btn-link p-0",onClick:e[28]||(e[28]=l=>yt.value=null)},e[91]||(e[91]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),e[93]||(e[93]=s("div",{class:"properties-content"},[s("p",{class:"text-muted small"},"Select a field to edit its properties")],-1))])):_("",!0)])])):_("",!0),F.value===3?(r(),u("div",xi,[e[94]||(e[94]=s("div",{class:"stepperbackground d-flex align-items-center justify-content-end gap-2"},[s("div",null,[s("button",{class:"btn btn btn-light previewBtn font-13","data-bs-toggle":"modal","data-bs-target":"#customFormatModal"},"Print Format ")]),s("div")],-1)),te(Vl,{blockArr:_t.value},null,8,["blockArr"])])):_("",!0)])])])])])])]),s("div",Ii,[s("div",er,[s("div",tr,[e[98]||(e[98]=s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"customFormatModalLabel"},"Print Format"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),s("div",sr,[e[96]||(e[96]=s("label",{for:""},"Form Name",-1)),D(s("input",{"onUpdate:modelValue":e[29]||(e[29]=l=>Xe.value=l),multiple:!1,placeholder:$(C).query.id,class:"font-11 form-control",id:"Form_name_print",searchable:!0},null,8,lr),[[M,Xe.value]]),s("div",or,[s("div",ar,[D(s("input",{class:"font-12","onUpdate:modelValue":e[30]||(e[30]=l=>Se.value=l),"true-value":1,"false-value":0,placeholder:"Field Name",type:"checkbox"},null,512),[[qe,Se.value]])]),e[95]||(e[95]=s("div",null,[s("label",{for:"mandatory",class:"font-12 fw-bold m-0 fw-light"},"Print Landscape Mode")],-1))])]),s("div",{class:"modal-footer"},[e[97]||(e[97]=s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),s("button",{type:"button",class:"btn btn-dark",onClick:Xs},"Add Print Format")])])])]),s("div",nr,[s("div",ir,[s("span",rr,h(z.value==0?"Add designation for Requestors":`Approval Settings For
          Level-${z.value}`),1),e[99]||(e[99]=s("button",{type:"button",class:"btn-close bg-light text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1))]),s("div",ur,[s("div",dr,[s("div",cr,[z.value!==0?(r(),u("div",pr,[z.value!==0?(r(),u("div",mr,[e[101]||(e[101]=s("label",{class:"fw-bold font-12 mb-2"},"Approver Type",-1)),D(s("select",{"onUpdate:modelValue":e[31]||(e[31]=l=>re.value=l),class:"form-select shadow-none font-12"},e[100]||(e[100]=[s("option",{value:""},"Any one of the selected approvers",-1),s("option",{value:"ViewOnlyReportee"},"Reporting Manager only",-1),s("option",{value:"all_approvals_required"},"All of the selected approvers",-1),s("option",{value:"requester_as_a_approver"},"Approval by Requestor",-1)]),512),[[Ee,re.value]])])):_("",!0)])):_("",!0)])]),s("div",fr,[s("div",vr,[s("span",_r," Select "+h(z.value===0?"Requestors":"Approvers"),1),s("span",hr,h(q.value.length)+" Selected ",1)]),ae.value.length?(r(),u("div",br,[s("div",gr,[s("div",yr,[s("input",{type:"checkbox",id:"selectAll",checked:Ns.value,onChange:Ps,class:"form-check-input me-2 designationCheckBox"},null,40,wr),s("label",kr," Select all designation ("+h(Me.value.length)+") ",1)]),z.value!==0?(r(),u("div",Cr,[D(s("input",{type:"checkbox",id:"showHods","onUpdate:modelValue":e[32]||(e[32]=l=>Ae.value=l),class:"form-check-input me-2 designationCheckBox"},null,512),[[qe,Ae.value]]),e[102]||(e[102]=s("label",{for:"showHods",class:"form-check-label mt-2 fw-bold"}," Show HODs Only ",-1))])):_("",!0),s("div",null,[q.value.length?(r(),u("button",{key:0,type:"button",class:"btn btn-sm font-12 text-danger",onClick:Hs},e[103]||(e[103]=[s("i",{class:"bi bi-x"},null,-1),U(" Clear all ")]))):_("",!0)])]),ae.value.length?(r(),jt($(ql),{key:0,multiple:!0,modelValue:q.value,"onUpdate:modelValue":e[33]||(e[33]=l=>q.value=l),options:Me.value,"close-on-select":!1,"clear-search-on-select":!0,placeholder:"Search & Select Designations"},null,8,["modelValue","options"])):_("",!0)],512)):(r(),u("div",Dr,e[104]||(e[104]=[s("div",{class:"d-flex justify-content-center"},[s("span",null,"No Designations Found")],-1)])))]),z.value!==0?(r(),u("div",Fr,[e[105]||(e[105]=s("div",null,[s("label",{for:"",class:"fw-bold font-12"},"On Rejection")],-1)),D(s("select",{"onUpdate:modelValue":e[34]||(e[34]=l=>De.value=l),class:"form-select shadow-none font-12 mt-1 me-2"},[(r(!0),u(E,null,L(ns.value,l=>(r(),u("option",{key:l,value:l},h(l===0?"Requestor":"Approver Level "+l),9,$r))),128))],512),[[Ee,De.value,void 0,{number:!0}]])])):_("",!0),z.value!==0?(r(),u("div",Sr,[s("div",Ar,[s("div",Vr,[D(s("input",{"onUpdate:modelValue":e[35]||(e[35]=l=>Ze.value=l),type:"checkbox","true-value":1,"false-value":0,id:"Approver",class:"me-2 m-0 form-check-input designationCheckBox"},null,512),[[qe,Ze.value]]),e[106]||(e[106]=s("label",{for:"Approver",class:"m-0"},"Approval Mandatory",-1))]),it.value===!0?(r(),u("div",qr,[D(s("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>Ye.value=l),type:"checkbox","true-value":1,"false-value":0,id:"approver_can_edit",class:"me-2 m-0 form-check-input designationCheckBox"},null,512),[[qe,Ye.value]]),e[107]||(e[107]=s("label",{for:"approver_can_edit",class:"m-0"}," Allow this approver to edit the form ",-1))])):_("",!0)])])):_("",!0)]),s("div",Er,[s("div",Lr,[s("div",null,[te(Jt,{class:"btn btn-dark addingDesignations","data-bs-dismiss":"offcanvas",onClick:js,name:z.value===0?"Add Requestor":"Add Approvers"},null,8,["name"])])])])])]))}},Mr=Gt(Tr,[["__scopeId","data-v-374e056a"]]);export{Mr as default};
