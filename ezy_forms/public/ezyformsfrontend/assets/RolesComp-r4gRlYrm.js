import{_,f as h,d as l,k as i,l as r,n as d,o as y,c as C,b as e,a as c,s as R,A as x,i as f,G as N,P as k}from"./index-LfV3iEDw.js";const S={class:"d-flex justify-content-between align-items-center py-2"},V={class:"d-flex gap-2 align-items-center"},w={class:"modal fade",id:"createDepartments",tabindex:"-1","aria-labelledby":"createDepartmentsLabel","aria-hidden":"true"},D={class:"modal-dialog modal-lg"},P={class:"modal-content"},L={class:"modal-body"},O={class:"mt-3"},E={class:""},j={class:"modal-footer"},B={class:"mt-2"},J={__name:"RolesComp",setup(U){h(()=>{u()});const m=l([]),o=l({limitPageLength:"None",limitstart:0,business_unit:"",role:""}),p=l([{th:"Roles",td_key:"name"}]),n=l([]);function u(){const s=[],t={fields:JSON.stringify(["*"]),filters:JSON.stringify(s),limit_page_length:o.value.limitPageLength,limitstart:o.value.limitstart};i.get(r.resource+"/"+d.designations,{params:t}).then(a=>{a.data&&(n.value=a.data)}).catch(a=>{console.error("Error fetching department data:",a)})}function g(){const s=[],t={fields:JSON.stringify(["*"]),filters:JSON.stringify(s),limit_page_length:"None"};i.get(r.resource+d.roles,{params:t}).then(a=>{a.data&&(m.value=[...new Set(a.data.map(v=>v.name))])}).catch(a=>{console.error("Error fetching designations data:",a)})}function b(){i.post(r.resource+d.designations,{role:o.value.role}).then(s=>{s.data&&u()}).catch(s=>{console.error("Error creating designation:",s)})}return(s,t)=>(y(),C("div",null,[e("div",S,[t[5]||(t[5]=e("div",null,[e("h1",{class:"m-0 font-13"}," Roles ")],-1)),e("div",V,[e("div",{class:"d-flex align-items-center"},[e("button",{type:"button",class:"btn btn-dark buttoncomp CreateDepartments d-flex align-items-center",onClick:g,"data-bs-toggle":"modal","data-bs-target":"#createDepartments"}," Create Role ")]),e("div",w,[e("div",D,[e("div",P,[e("div",L,[e("div",O,[e("div",E,[t[2]||(t[2]=e("label",{for:""},"New Role ",-1)),c(R(x),{options:m.value,modelValue:o.value.role,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.role=a),placeholder:"Select Cateogry",multiple:!1,searchable:!0,class:"font-11 multiselect"},null,8,["options","modelValue"])])])]),e("div",j,[e("button",{type:"button",class:"cancelfilter border-1 text-nowrap font-10 d-flex justify-content-center align-items-center",onClick:t[1]||(t[1]=(...a)=>s.cancelCreate&&s.cancelCreate(...a)),"data-bs-dismiss":"modal"},t[3]||(t[3]=[e("span",{class:"font-16 me-1"},[e("i",{class:"bi bi-x"})],-1),f("Cancel ")])),e("button",{type:"button",class:"applyfilter btn btn-dark text-nowrap font-10 d-flex justify-content-center align-items-center","data-bs-dismiss":"modal",onClick:b},t[4]||(t[4]=[e("span",{class:"font-16 me-1"},[e("i",{class:"bi bi-check2"})],-1),f(" Create ROle")]))])])])])])]),e("div",B,[c(N,{tHeaders:p.value,tData:n.value,isAction:"true",isCheckbox:"true",actionType:"dropdown"},null,8,["tHeaders","tData"]),c(k,{currentRecords:n.value.length,totalRecords:n.value.length,onUpdateValue:s.PaginationUpdateValue,onLimitStart:s.PaginationLimitStart},null,8,["currentRecords","totalRecords","onUpdateValue","onLimitStart"])])]))}},q=_(J,[["__scopeId","data-v-9f00488c"]]);export{q as default};
