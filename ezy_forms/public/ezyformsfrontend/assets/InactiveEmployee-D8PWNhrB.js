var ht=Object.defineProperty,Et=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var xt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var Me=(S,c,y)=>c in S?ht(S,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[c]=y,ae=(S,c)=>{for(var y in c||(c={}))xt.call(c,y)&&Me(S,y,c[y]);if(Ae)for(var y of Ae(c))wt.call(c,y)&&Me(S,y,c[y]);return S},oe=(S,c)=>Et(S,kt(c));var ge=(S,c,y)=>new Promise((M,U)=>{var ne=N=>{try{K(y.next(N))}catch(R){U(R)}},z=N=>{try{K(y.throw(N))}catch(R){U(R)}},K=N=>N.done?M(N.value):Promise.resolve(N.value).then(ne,z);K((y=y.apply(S,c)).next())});import{_ as Ct,e as F,E as St,r as d,w as H,o as i,c as r,d as t,l as b,b as g,F as X,t as f,s as u,v as j,x as C,y as W,q as Z,z as G,B as se,C as de,D as ue,n as Y,H as ye,G as It,P as Dt,T as Nt,A as Ue,k as Vt,f as _,g as h,m as v,h as k}from"./index-DxID15hf.js";const Lt={class:"d-flex justify-content-between align-items-center mt-2 py-2"},Pt={class:"modal fade",id:"createDepartments","data-bs-backdrop":"static",tabindex:"-1","data-bs-keyboard":"false","aria-labelledby":"createDepartmentsLabel","aria-hidden":"true"},At={class:"modal-dialog modal-lg"},Mt={class:"modal-content"},Ut={class:"modal-body"},zt={class:"container-fluid"},Rt={class:"row"},$t={class:"col"},Tt={class:"mb-3"},Bt={key:0,class:"text-danger font-11 ps-1"},Ot={class:"mb-3"},Ft={key:0,class:"text-danger font-11 ps-1"},Xt={class:"col"},jt={class:"position-relative mb-3"},Jt={key:0,class:"list-group position-absolute w-100 zindex-dropdown"},qt=["onClick"],Ht={class:"modal-dialog"},Wt={class:"modal-content"},Zt={class:"modal-header"},Gt={class:"modal-body"},Yt={class:"modal-footer"},Kt={class:"mb-3 font-11"},Qt={key:0,style:{"max-width":"100px","max-height":"100px"},class:"d-flex justify-center position-relative mt-2"},el=["src"],tl={class:"modal-footer"},ll={key:0,class:"font-16 me-1"},al={key:1},ol={key:2,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},sl={key:0,class:"mt-2"},nl={key:1},il={class:"bulkemployee"},rl={class:"insideBulkEmp"},dl={class:"d-flex justify-content-center align-content-center mb-5 gap-2"},ul={key:0,class:"loader"},ml={class:"table-container"},pl={key:0,class:"d-flex justify-content-end align-content-center p-2"},cl={key:1,class:"warning-box"},fl={key:2,class:"styled-table"},vl={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},gl={class:"modal-dialog modal-lg"},yl={class:"modal-content"},bl={class:"modal-body"},_l={class:"container-fluid"},hl={class:"row"},El={class:"col"},kl={class:"mb-3"},xl={class:"input-container"},wl=["readonly","value"],Cl={key:0,class:"text-danger font-11 ps-1"},Sl={class:"mb-3"},Il={class:"input-container"},Dl={key:0,class:"text-danger font-11 ps-1"},Nl={class:"position-relative mb-3"},Vl={key:0,class:"text-danger font-11 ps-1"},Ll={key:1,class:"list-group position-absolute w-100 zindex-dropdown"},Pl=["onClick"],Al={class:"modal-dialog"},Ml={class:"modal-content"},Ul={class:"modal-header"},zl={class:"modal-body"},Rl={class:"modal-footer"},$l={class:"d-flex gap-3"},Tl={class:"ms-1"},Bl={class:"ms-1"},Ol={class:"col"},Fl={class:"mb-3"},Xl=["value"],jl={class:"mb-3"},Jl={class:"mb-3 font-11"},ql={key:0,class:"d-flex justify-center position-relative mt-2"},Hl=["src"],Wl={class:"modal-footer"},Zl={__name:"InactiveEmployee",setup(S){const c=F(()=>St.value),y=d(!0),M=d([]),U=d(""),ne=d(0),z=d([]),K=d([]),N=d([]),R=d([]),D=d(""),be=d(null),J=d(!1),o=d({emp_code:"",emp_name:"",emp_phone:"",emp_mail_id:"",department:"",designation:"",reporting_to:"",reporting_designation:"",company_field:"",signature:""});H(()=>o.reporting_to,l=>{if(l){const e=A.find(a=>a.emp_mail_id===l);e?o.reporting_designation=e.designation||"":o.reporting_designation=""}else o.reporting_designation=""});const $=d(null),me=d(""),p=d(""),I=d(!1),V=d([]),w=d([]),_e=d([{th:"Emp ID",td_key:"emp_code"},{th:"Emp Name",td_key:"emp_name"},{th:"Designation",td_key:"designation"},{th:"Department",td_key:"department"},{th:"Signature",td_key:"signature"},{th:"Reports Designation",td_key:"reporting_designation"},{th:"Creation Date",td_key:"creation"},{th:"last Login",td_key:"last_login"},{th:"last Login IP",td_key:"last_ip"},{th:"Disabled on",td_key:"enable_on"},{th:"Emp Status",td_key:"enable"}]);function ze(l){return l?l.split(".")[0]:""}const ie=d(null),pe=d(0),ce=d(!1),fe=d(""),Re=()=>{ie.value.click()},$e=l=>{const e=l.target.files[0];e&&(Be(e),ie.value&&(ie.value.value=""))},Te=()=>Math.floor(Math.random()*1e6),Be=l=>{let a=`${Te()}-@${l.name}`;const s=new FormData;s.append("file",l,a),s.append("is_private","0"),s.append("folder","Home"),ce.value=!0,pe.value=0,_.post(h.uploadfile,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{pe.value=Math.round(n.loaded/n.total*100)}}).then(n=>{n.message&&n.message.file_url?(fe.value=n.message.file_url,n.message.file_url&&fe.value&&Oe()):v.error("File upload failed: file_url not found in response.")}).catch(n=>{console.error("Upload error:",n),v.error("File upload failed. Please try again.")}).finally(()=>{setTimeout(()=>{ce.value=!1,pe.value=0},2e3)})},Oe=()=>{const l={file:fe.value,doctype:k.EzyEmployeeList};_.post(h.uploadbulkEmployeefile,l).then(e=>{var a;if(!(e!=null&&e.data)){v.error("Import response not found.");return}if(w.value=e.data,e.data.success===!1){let s=e._error_message||e.data.message||"Import failed.";if(s=s.replace(/\s*\(.*?\)\s*/g,"").trim(),v.error(s),e.data._server_messages)try{const n=JSON.parse(e.data._server_messages);Array.isArray(n)&&n.forEach(m=>{let T=JSON.parse(m).message||"Permission error.";T=T.replace(/\s*\(.*?\)\s*/g,"").trim(),v.error(T)})}catch(n){console.error("Error parsing _server_messages:",n)}return}(a=w.value.template_warnings)!=null&&a.length&&w.value.template_warnings.forEach(s=>{v.warning(`Warning: ${s}`)}),w.value.records&&(w.value.records=w.value.records.map(s=>oe(ae({},s),{message:s.message}))),w.value.template_status==="success"?v.success("Bulk data imported successfully!"):w.value.template_status==="failed"?v.error(`Import Failed: ${w.value.message}`):w.value.status==="Partial Success"&&v.warning("Partial Success: Some records failed.")}).catch(e=>{console.error("Upload error:",e),v.error("Upload failed. Please try again.")})},re=F(()=>{var e;return(((e=w.value)==null?void 0:e.records)||[]).map((a,s)=>{let n="N/A",m="N/A";try{if(a.status.toLowerCase()==="success")n=he(a.message),m="Successfully imported";else if(a.status.toLowerCase()==="failed"){const x=JSON.parse(a.message);if(Array.isArray(x)&&x.length>0){m=x[0].title||"Unknown Issue";const T=Fe(x);T?(n=T,m="Invalid Email Address"):n=he(x)}}}catch(x){m="Parsing Error"}return{sNo:s+1,email:n,status:a.status,displayMessage:m}})}),he=l=>{var e,a,s;return typeof l=="string"&&(l=l.toLowerCase(),l.includes("successfully imported "))?l.split("successfully imported ")[1]||"N/A":Array.isArray(l)&&((s=(a=(e=l[0])==null?void 0:e.message)==null?void 0:a.match(/<strong>(.*?)<\/strong>/))==null?void 0:s[1])||"N/A"},Fe=l=>{if(Array.isArray(l)){for(const e of l)if(e.message.includes("is not a valid Email Address"))return e.message.split(" is not a valid Email Address")[0]}return null},Ee=F(()=>{var l;return((l=w.value)==null?void 0:l.template_warnings)||[]}),Xe=()=>{const l=window.XLSX;if(!l){console.error("XLSX library is not loaded.");return}const e=l.utils.json_to_sheet(re.value),a=l.utils.book_new();l.utils.book_append_sheet(a,e,"Records");const s=l.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([s],{type:"application/octet-stream"}),m=document.createElement("a");m.href=URL.createObjectURL(n),m.download="Records.xlsx",document.body.appendChild(m),m.click(),document.body.removeChild(m)},je=()=>ge(this,null,function*(){const l=c.value,a=yield(yield fetch("/assets/ezy_forms/ezyformsfrontend/Employee_import.xlsx")).arrayBuffer(),s=XLSX.read(a,{type:"array"}),n=s.SheetNames[0],m=s.Sheets[n];m.A2={t:"s",v:l};const x=XLSX.utils.decode_range(m["!ref"]);x.e.r<1&&(x.e.r=1),m["!ref"]=XLSX.utils.encode_range(x);const T=XLSX.write(s,{bookType:"xlsx",type:"array"}),_t=new Blob([T],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),le=document.createElement("a");le.href=URL.createObjectURL(_t),le.setAttribute("download","Employee_import.xlsx"),document.body.appendChild(le),le.click(),document.body.removeChild(le)}),L=d(""),ke=()=>{var a;const l=(a=q.value||o.value.emp_mail_id)==null?void 0:a.trim().toLowerCase();/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(l)?A.value.some(n=>{var m;return((m=n.emp_mail_id)==null?void 0:m.toLowerCase())===l})?L.value="Email already exists":L.value="":L.value="Invalid email address"};function Je(){y.value=!0}const P=d(!0),qe=d(""),xe=F(()=>P.value?"bi bi-eye-slash-fill":"bi bi-eye-fill"),He=l=>(l=l.replace(/\D/g,""),l.startsWith("91")&&l.length===12?l="+"+l:l.length===10&&(l="+91"+l),l);H(()=>o.value.emp_phone,l=>{l.startsWith("+91")||(o.value.emp_phone=He(l)),P.value||(qe.value=o.value.emp_phone)},{immediate:!0});const We=()=>{if(o.value.emp_phone){const l=o.value.emp_phone.replace("+91",""),e=/^\d{10}$/;D.value=e.test(l)?"":"Invalid phone number."}};function Ze(l){return!l||l.length<13?l:"+91 ******"+l.slice(-4)}function Ge(l){o.value.emp_phone=l.target.value}function ve(){let l=o.value.emp_phone.replace(/\D/g,"");l.startsWith("91")&&l.length>10&&(l=l.slice(2)),l.length===10?(o.value.emp_phone="+91"+l,D.value=""):(o.value.emp_phone=l,l.length>0?D.value="Phone number must be 10 digits.":D.value="")}function Ye(){P.value&&!window.confirm("Are you sure you want to see the phone number?")||(P.value=!P.value,xe.value=P.value?"bi-eye":"bi-eye-slash")}const B=d(!0),q=d(""),Ke=F(()=>B.value?"bi bi-eye-slash-fill":"bi bi-eye-fill"),we=()=>{if(!B.value||!o.value.emp_mail_id.includes("@"))return;q.value=o.value.emp_mail_id;const[l,e]=q.value.split("@");l.length>3&&(o.value.emp_mail_id=l.slice(0,3)+"***@"+e)},Qe=()=>{q.value&&(B.value&&!window.confirm("Are you sure you want to see the email address?")||(B.value=!B.value,o.value.emp_mail_id=B.value?et(q.value):q.value))},et=l=>{const[e,a]=l.split("@");return e.length>3?e.slice(0,3)+"***@"+a:l},E=d({limitPageLength:20,limit_start:0}),Q=d("");H(I,l=>{l&&(Q.value=p.value)});const ee=d(""),tt=()=>{/[^a-zA-Z0-9 ]/.test(p.value)?ee.value="Special characters are not allowed in the role name.":ee.value=""},Ce=()=>{const l=p.value.toLowerCase().trim();V.value=z.value.filter(e=>e.toLowerCase().includes(l))},Se=l=>{o.value.designation=l,p.value=l,V.value=[]},Ie=F(()=>{const l=p.value.trim();return l&&!z.value.includes(l)&&l.length>1}),De=()=>{const l=p.value.trim();l&&_.post(h.resource+k.roles,{role_name:l}).then(e=>{var a;(a=e.data)!=null&&a.role_name&&_.post(h.resource+k.designations,{role:e.data.role_name}).then(s=>{var n;(n=s.data)!=null&&n.role&&(z.value.push(s.data.role),o.value.designation=s.data.role,p.value=s.data.role,V.value=[],I.value=!1)})}).catch(e=>{console.error("Error creating role:",e)})},Ne=()=>{o.value.signature=null;const l=document.getElementById("signatureInput");l&&(l.value="")};H(()=>o.value.reporting_to,l=>{if(l){const e=M.value.find(a=>a.emp_mail_id===l);e&&(o.value.reporting_designation=e.designation)}},{immediate:!0});const lt=d([{name:"Edit Employee",icon:"fa-solid fa-eye"}]),Ve=F(()=>[o.value.emp_code,o.value.emp_name,o.value.emp_mail_id,o.value.department,o.value.designation].every(l=>l&&l.toString().trim()!==""));function at(l,e){(e==null?void 0:e.name)==="Edit Employee"&&(l?(D.value="",L.value="",o.value=oe(ae({},l),{department:""}),p.value=l.designation||"",mt(()=>{const s=R.value.find(n=>n.name===l.department);o.value.department=s||""}),gt(),vt(),P.value=!0,B.value=!0,we(),new bootstrap.Modal(document.getElementById("exampleModal"),{}).show()):(console.warn("No form fields provided."),formCreation(l)))}function ot(l){st(l.name)}function st(l){const e=[["company_field","like",`%${U.value}%`],["enable","=","1"],["department","like",`%${l}%`],["is_hod","=",1]],a={fields:JSON.stringify(["*"]),filters:JSON.stringify(e),limit_page_length:"none",order_by:"`tabEzy Employee`.`enable` DESC,`tabEzy Employee`.`creation` DESC"};_.get(h.resource+k.EzyEmployeeList,{params:a}).then(s=>{o.value.reporting_to=s.data[0].name,o.reporting_designation=s.data[0].designation}).catch(s=>{o.value.reporting_to="",o.reporting_designation="",console.error("Error fetching department data:",s)})}function nt(l){$.value=l;const e=l.enable==="1"||l.enable===1;me.value=e?"Disable":"Enable",document.getElementById("empActionText").innerText=me.value,document.getElementById("empRowName").innerText=l.emp_name,new bootstrap.Modal(document.getElementById("EmployeeToggleModal")).show()}function it(){const l=$.value.enable==="1"||$.value.enable===1;$.value.enable=l?0:1,_.put(`${h.resource}${k.EzyEmployeeList}/${$.value.name}`,$.value).then(()=>{const e={enabled:$.value.enable};return _.put(`${h.resource}${k.users}/${$.value.name}`,e)}).then(()=>{v.success(`Employee ${me.value}d successfully`),window.location.reload()}).catch(e=>{console.error("Toggle employee error:",e)})}const rt=d({emp_code:{type:"input"},emp_name:{type:"input"},designation:{type:"input"},department:{type:"input"},reporting_designation:{type:"input"}});function te(){o.value={emp_code:"",emp_name:"",emp_phone:"",emp_mail_id:"",department:"",designation:"",reporting_to:"",reporting_designation:"",signature:null,company_field:c.value};const l=document.getElementById("signatureInput");l&&(l.value="")}function Le(l){const e=l.target.files[0];e&&ut(e)}const dt=()=>ge(this,null,function*(){const l=[["company_field","like",`%${U.value}%`],["is_web_form","=","0"],["enable","=","0"]],e={fields:JSON.stringify(["*"]),limit_start:0,limit_page_length:"none",filters:JSON.stringify(l)};try{const a=yield _.get(h.resource+k.EzyEmployeeList,{params:e});if(a.data){const s=a.data;if(s.length){bootstrap.Modal.getInstance(document.getElementById("ExportEmployeeModal")).hide(),v.success("Successfully Completed");const m=XLSX.utils.json_to_sheet(s),x=XLSX.utils.book_new();XLSX.utils.book_append_sheet(x,m,"Employees"),XLSX.writeFile(x,"EmployeeDetails.xlsx")}else v.error("No Employee Details")}}catch(a){console.error("Error exporting employee data:",a)}}),ut=(l,e)=>{let a=`${l.name}`;const s=new FormData;s.append("file",l,a),s.append("is_private","0"),s.append("folder","Home"),_.post(h.uploadfile,s).then(n=>{n.message&&n.message.file_url?o.value.signature=n.message.file_url:console.error("file_url not found in the response.")}).catch(n=>{console.error("Upload error:",n)})};function mt(l){const e={fields:JSON.stringify(["*"]),limit_page_length:"None",limit_start:E.value.limit_start};_.get(h.resource+k.departments,{params:e}).then(a=>{a.data&&(R.value=a.data,l&&l())}).catch(a=>{console.error("Error fetching department data:",a)})}const pt=l=>{E.value.limitPageLength=l,E.value.limit_start=0,O()},ct=([l,e])=>{E.value.limitPageLength=l,E.value.limit_start=e,O()},Pe=d(null);function ft(l){clearTimeout(Pe.value),Pe.value=setTimeout(()=>{E.value.filters=[],_e.value.forEach(e=>{const a=e.td_key;l[a]&&E.value.filters.push([a,"like",`%${l[a]}%`])}),E.value.filters.length?(E.value.limit_start=0,O(E.value.filters)):O()},500)}function O(l){const e=[["company_field","like",`%${U.value}%`],["is_web_form","=","0"],["enable","=","0"]];l&&e.push(...l);const a={fields:JSON.stringify(["*"]),filters:JSON.stringify(e),limit_page_length:E.value.limitPageLength,limit_start:E.value.limit_start,order_by:"`tabEzy Employee`.`enable` DESC,`tabEzy Employee`.`modified` DESC"},s={fields:JSON.stringify(["count(name) AS total_count"]),limitPageLength:"None",filters:JSON.stringify(e)};_.get(`${h.resource}${k.EzyEmployeeList}`,{params:s}).then(n=>{ne.value=n.data[0].total_count}).catch(n=>{console.error("Error fetching ezyForms data:",n)}),_.get(h.resource+k.EzyEmployeeList,{params:a}).then(n=>{if(n.data){const m=n.data;E.value.limit_start===0?M.value=m:M.value=M.value.concat(m)}}).catch(n=>{console.error("Error fetching department data:",n)})}const A=d([]);function vt(){const l={fields:JSON.stringify(["*"]),limit_page_length:"None",filters:JSON.stringify([["company_field","like",`%${U.value}%`]]),order_by:"`tabEzy Employee`.`creation` desc"};_.get(h.resource+k.EzyEmployeeList,{params:l}).then(e=>{if(e.data){const a=e.data;E.value.limit_start===0?(A.value=a,K.value=[...new Set(e.data.map(s=>s.reporting_to))],N.value=[...new Set(e.data.map(s=>s.reporting_designation))],o.value.company_field=c.value):A.value=A.value.concat(a)}}).catch(e=>{console.error("Error fetching department data:",e)})}H(()=>o.value.reporting_to,l=>{const e=A.value.find(a=>a.emp_mail_id===l);o.value.reporting_designation=e==null?void 0:e.designation},{immediate:!0});function gt(){const l=[],e={fields:JSON.stringify(["*"]),filters:JSON.stringify(l),limit_page_length:"None",limit_start:E.value.limit_start,order_by:"`tabWF Roles`.`creation` desc"};_.get(h.resource+k.designations,{params:e}).then(a=>{a.data&&(z.value=[...new Set(a.data.map(s=>s.role))])}).catch(a=>{console.error("Error fetching designations data:",a)})}H(c,l=>{l&&l.length&&(o.value.company_field=l,U.value=l,O())},{immediate:!0});function yt(){var e;if(!Ve.value){v.error("Please fill all required fields",{autoClose:1e3,transition:"zoom"});return}if(L.value){v.error("Employee Email Id already exists",{autoClose:1e3,transition:"zoom"});return}o.value.company_field=c.value;const l=oe(ae({},o.value),{department:((e=o.value.department)==null?void 0:e.name)||"",doctype:k.EzyEmployeeList});J.value=!0,_.post(h.resource+k.EzyEmployeeList,l).then(a=>{if(a.data){v.success("Employee Created",{autoClose:500,transition:"zoom"}),bootstrap.Modal.getInstance(document.getElementById("createDepartments")).hide(),te();const n=document.getElementById("signatureInput");n&&(n.value=""),O(),J.value=!1}}).catch(a=>{console.error("Error creating employee:",a)}).finally(()=>{J.value=!1})}function bt(){var e;if(!Ve.value){v.error("Please fill all required fields",{autoClose:1e3,transition:"zoom"});return}if(D.value){v.error("Invalid phone number",{autoClose:1e3,transition:"zoom"});return}if(!p.value){v.error("Please select or enter a designation",{autoClose:1e3,transition:"zoom"});return}if(!o.value.designation&&p.value&&(o.value.designation=p.value),o.value.reporting_to){const a=A.value.find(s=>s.emp_mail_id===o.value.reporting_to);a&&(o.value.reporting_designation=a.designation)}else o.value.reporting_designation="";const l=oe(ae({},o.value),{department:((e=o.value.department)==null?void 0:e.name)||""});_.put(`${h.resource}${k.EzyEmployeeList}/${o.value.name}`,l).then(a=>{a.data&&(v.success("Changes Saved",{autoClose:500,transition:"zoom"}),bootstrap.Modal.getInstance(document.getElementById("exampleModal")).hide(),O())}).catch(a=>{console.error("Error saving employee:",a)})}return(l,e)=>(i(),r("div",null,[t("div",null,[t("div",Lt,[e[43]||(e[43]=t("div",null,[t("h1",{class:"m-0 font-13"}," Inactive Employees ")],-1)),e[44]||(e[44]=t("div",{class:"d-flex align-items-center gap-2"},[t("button",{type:"button",class:"btn export-btn CreateDepartments font-12","data-bs-toggle":"modal","data-bs-target":"#ExportEmployeeModal"}," Export Employees ")],-1)),t("div",Pt,[t("div",At,[t("div",Mt,[t("div",{class:"modal-header"},[e[28]||(e[28]=t("h5",{class:"modal-title",id:"createDepartmentsLabel"}," Employee Creation ",-1)),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:te,"aria-label":"Close"})]),t("div",Ut,[t("div",zt,[t("div",Rt,[t("div",$t,[e[31]||(e[31]=t("label",{class:"font-13 ps-1",for:"create_emp_name"},[b("Emp Name"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(X,{class:"mb-3",tag:"input",type:"text",name:"create_emp_name",id:"create_emp_name",placeholder:"Enter Emp Name",modelValue:o.value.emp_name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.emp_name=a)},null,8,["modelValue"]),e[32]||(e[32]=t("label",{class:"font-13 ps-1",for:"create_emp_code"},[b("Emp ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(X,{class:"mb-3",tag:"input",type:"text",name:"create_emp_code",id:"create_emp_code",placeholder:"Enter Emp ID",modelValue:o.value.emp_code,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.emp_code=a)},null,8,["modelValue"]),t("div",Tt,[e[29]||(e[29]=t("label",{class:"font-13 ps-1",for:"create_emp_phone"},"Emp Phone",-1)),g(X,{tag:"input",type:"text",name:"create_emp_phone",id:"create_emp_phone",maxlength:"13",onInput:ve,onChange:We,placeholder:"Enter Phone Number",modelValue:o.value.emp_phone,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.emp_phone=a)},null,8,["modelValue"]),D.value?(i(),r("p",Bt,f(D.value),1)):u("",!0)]),t("div",Ot,[e[30]||(e[30]=t("label",{class:"font-13 ps-1",for:"create_emp_mail_id"},[b("Emp Mail ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(X,{class:"mb-1",tag:"input",type:"email",name:"create_emp_mail_id",onChange:ke,required:!0,id:"create_emp_mail_id",placeholder:"Enter Email",modelValue:o.value.emp_mail_id,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.emp_mail_id=a)},null,8,["modelValue"]),L.value?(i(),r("p",Ft,f(L.value),1)):u("",!0)]),e[33]||(e[33]=t("label",{class:"font-13 ps-1 fw-medium",for:"dept"},[b("Departments"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(Z(G),{modelValue:o.value.department,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.department=a),options:R.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select department",label:"department_name","track-by":"name",class:"font-11 mb-3"},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.map(n=>n.department_name).join(", ")),513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options"])]),t("div",Xt,[t("div",jt,[e[38]||(e[38]=t("label",{class:"font-13 ps-1",for:"Designation"},[b(" Designation"),t("span",{class:"text-danger ps-1"},"*")],-1)),C(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>p.value=a),onInput:Ce,class:"form-control font-12",placeholder:"Search or type new role"},null,544),[[se,p.value]]),p.value&&(V.value.length||Ie.value)?(i(),r("ul",Jt,[(i(!0),r(de,null,ue(V.value,(a,s)=>(i(),r("li",{key:s,class:"list-group-item list-group-item-action font-12",onClick:n=>Se(a),style:{cursor:"pointer"}},f(a),9,qt))),128)),p.value&&V.value.length===0?(i(),r("li",{key:0,class:"list-group-item list-group-item-action font-12 text-primary",style:{cursor:"pointer"},onClick:e[6]||(e[6]=a=>I.value=!0)},[e[34]||(e[34]=b(' ➕ Create role "')),t("strong",null,f(p.value),1),e[35]||(e[35]=b('" '))])):u("",!0)])):u("",!0),I.value?(i(),r("div",{key:1,class:Y(["modal fade",{show:I.value}]),style:{display:"block"}},[t("div",Ht,[t("div",Wt,[t("div",Zt,[e[36]||(e[36]=t("h5",{class:"modal-title"},"Create New Role",-1)),t("button",{type:"button",class:"btn-close",onClick:e[7]||(e[7]=a=>I.value=!1)})]),t("div",Gt,[e[37]||(e[37]=t("label",{for:"",class:"font-12 fw-bold"},"Designation",-1)),C(t("input",{type:"text",class:"form-control font-12","onUpdate:modelValue":e[8]||(e[8]=a=>Q.value=a),placeholder:"Enter role name"},null,512),[[se,Q.value]])]),t("div",Yt,[t("button",{class:"btn btn-secondary",onClick:e[9]||(e[9]=a=>I.value=!1)},"Cancel"),t("button",{class:"btn btn-dark",onClick:De},"Save Role")])])])],2)):u("",!0)]),e[40]||(e[40]=t("label",{class:"font-13 ps-1",for:"reporting_to"},"Reports To",-1)),g(Z(G),{modelValue:o.value.reporting_to,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.reporting_to=a),options:A.value.map(a=>a.emp_mail_id),multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Reports To",class:"font-11 mb-3"},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.join(", ")),513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options"]),e[41]||(e[41]=t("label",{class:"font-13 ps-1",for:"reporting_designation"},"Reporting Designation",-1)),g(Z(G),{modelValue:o.value.reporting_designation,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.reporting_designation=a),options:z.value,"allow-empty":!0,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Reporting Designation",class:"font-11 mb-3",disabled:!!o.value.reporting_to},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.join(", "))+" selected ",513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options","disabled"]),t("div",Kt,[e[39]||(e[39]=t("label",{for:"signatureInput",class:"form-label mb-0 font-13 ps-1"}," Add Signature ",-1)),t("input",{type:"file",ref_key:"signatureInputRef",ref:be,class:"form-control font-12 mb-2",id:"signatureInput",onChange:Le,"aria-describedby":"fileHelpId"},null,544),o.value.signature?(i(),r("div",Qt,[t("i",{class:"bi bi-x-lg position-absolute text-danger cursor-pointer",style:{top:"-7px",right:"-5px","font-size":"13px",background:"white","border-radius":"50%",padding:"3px"},onClick:Ne}),t("img",{src:o.value.signature,style:{"max-width":"100px","max-height":"100px"},alt:"Signature",class:"img-fluid signature-img border-1"},null,8,el)])):u("",!0)])])])])]),t("div",tl,[g(ye,{type:"button",class:"cancelfilter border-1 text-nowrap font-10",name:"Cancel",onClick:te,"data-bs-dismiss":"modal"}),t("button",{type:"button",class:"applyfilter btn btn-dark text-nowrap font-10 d-flex justify-content-center align-items-center",onClick:yt},[J.value?u("",!0):(i(),r("span",ll,e[42]||(e[42]=[t("i",{class:"bi bi-check2"},null,-1)]))),J.value?u("",!0):(i(),r("span",al,"Create Employee")),J.value?(i(),r("span",ol)):u("",!0)])])])])])]),y.value?(i(),r("div",sl,[g(It,{tHeaders:_e.value,tData:M.value,isAction:"true",actions:lt.value,enableDisable:"true",onActionClicked:at,onToggleClick:nt,actionType:"dropdown",isCheckbox:"true",isFiltersoption:"true","field-mapping":rt.value,onUpdateFilters:ft},null,8,["tHeaders","tData","actions","field-mapping"]),g(Dt,{currentRecords:M.value.length,totalRecords:ne.value,onUpdateValue:pt,onLimitStart:ct},null,8,["currentRecords","totalRecords"])])):(i(),r("div",nl,[t("div",il,[t("div",{class:"d-flex justify-content-between align-content-center"},[t("button",{type:"button",class:"font-12 btn btn-light",onClick:Je},e[45]||(e[45]=[t("i",{class:"bi bi-chevron-left"},null,-1),b(" Back to Employee List ")]))]),t("div",rl,[t("div",dl,[t("div",{class:Y(w.value.length?"":"mb-5 mt-5")},[t("button",{type:"button",class:"font-12 my-1 btn btn-light",onClick:je},e[46]||(e[46]=[t("i",{class:"bi bi-download"},null,-1),b(" Use template ")])),t("input",{type:"file",ref_key:"fileInput",ref:ie,onChange:$e,hidden:""},null,544),t("button",{type:"button",class:"font-12 my-1 btn btn-dark",onClick:Re},e[47]||(e[47]=[t("i",{class:"bi bi-upload"},null,-1),b(" Upload Data ")]))],2)]),g(Nt,{name:"fade"},{default:j(()=>[ce.value?(i(),r("div",ul)):u("",!0)]),_:1}),t("div",null,[t("div",ml,[re.value.length>0?(i(),r("div",pl,[t("button",{type:"button",class:"btn btn-light font-12",onClick:Xe},e[48]||(e[48]=[t("i",{class:"bi bi-download mx-2"},null,-1),b("Download Excel")]))])):u("",!0),Ee.value.length?(i(),r("div",cl,[e[49]||(e[49]=t("h3",{class:"font-13"},"Template Warnings:",-1)),t("ul",null,[(i(!0),r(de,null,ue(Ee.value,(a,s)=>(i(),r("li",{key:s},f(a),1))),128))])])):u("",!0),re.value.length>0?(i(),r("table",fl,[e[50]||(e[50]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Email"),t("th",null,"Status"),t("th",null,"Message")])],-1)),t("tbody",null,[(i(!0),r(de,null,ue(re.value,(a,s)=>(i(),r("tr",{key:s},[t("td",null,f(s+1),1),t("td",null,f(a.email),1),t("td",{class:Y(a.status==="success"?"status-success":"status-failed")},f(a.status),3),t("td",null,f(a.displayMessage),1)]))),128))])])):u("",!0)])])])])]))]),t("div",vl,[t("div",gl,[t("div",yl,[t("div",{class:"modal-header"},[e[51]||(e[51]=t("h5",{class:"modal-title",id:"viewEmployeeLabel"},"Employee Data",-1)),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:te,"aria-label":"Close"})]),t("div",bl,[t("div",_l,[t("div",hl,[t("div",El,[e[61]||(e[61]=t("label",{class:"font-13 ps-1",for:"emp_name"},[b("Emp Name"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(X,{class:"mb-3",tag:"input",type:"text",name:"emp_name",id:"emp_name",placeholder:"Enter department code",modelValue:o.value.emp_name,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.emp_name=a)},null,8,["modelValue"]),e[62]||(e[62]=t("label",{class:"font-13 ps-1",for:"emp_code"},[b("Emp ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(X,{class:"mb-3",tag:"input",type:"text",name:"emp_code",id:"emp_code",placeholder:"Enter department code",modelValue:o.value.emp_code,"onUpdate:modelValue":e[13]||(e[13]=a=>o.value.emp_code=a)},null,8,["modelValue"]),t("div",kl,[e[52]||(e[52]=t("label",{class:"font-13 ps-1",for:"emp_phone"},"Emp Phone",-1)),t("div",xl,[t("input",{type:"text",name:"emp_phone",id:"emp_phone",maxlength:"13",class:"w-100 font-12 form-control",readonly:P.value,value:P.value?Ze(o.value.emp_phone):o.value.emp_phone,onInput:Ge,onBlur:e[14]||(e[14]=(...a)=>ve&&ve(...a)),placeholder:"Enter Phone Number"},null,40,wl),t("i",{class:Y([xe.value,"eye-icon"]),onClick:Ye},null,2)]),D.value?(i(),r("p",Cl,f(D.value),1)):u("",!0)]),t("div",Sl,[e[53]||(e[53]=t("label",{class:"font-13 ps-1",for:"emp_mail_id"},[b("Emp Mail ID"),t("span",{class:"text-danger ps-1"},"*")],-1)),t("div",Il,[g(X,{class:"mb-1 w-100",tag:"input",type:"email",name:"emp_mail_id",id:"emp_mail_id",placeholder:"Enter Email",modelValue:o.value.emp_mail_id,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.emp_mail_id=a),onInput:we,disabled:o.value.emp_mail_id,onChange:ke,required:!0},null,8,["modelValue","disabled"]),t("i",{class:Y([Ke.value,"eye-icon"]),onClick:Qe},null,2)]),L.value?(i(),r("p",Dl,f(L.value),1)):u("",!0)]),e[63]||(e[63]=t("label",{class:"font-13 ps-1 fw-medium",for:"dept"},[b("Departments"),t("span",{class:"text-danger ps-1"},"*")],-1)),g(Z(G),{modelValue:o.value.department,"onUpdate:modelValue":[e[16]||(e[16]=a=>o.value.department=a),ot],options:R.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select department",label:"department_name","track-by":"name",class:"font-11 mb-3"},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.map(n=>n.department_name).join(", ")),513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options"]),t("div",Nl,[e[58]||(e[58]=t("label",{class:"font-13 ps-1",for:"Designation"},[b(" Designation"),t("span",{class:"text-danger ps-1"},"*")],-1)),C(t("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=a=>p.value=a),onInput:e[18]||(e[18]=()=>{Ce(),tt()}),class:"form-control font-12",placeholder:"Search or type new role"},null,544),[[se,p.value]]),ee.value?(i(),r("p",Vl,f(ee.value),1)):u("",!0),p.value&&(V.value.length||Ie.value)&&!ee.value?(i(),r("ul",Ll,[(i(!0),r(de,null,ue(V.value,(a,s)=>(i(),r("li",{key:s,class:"list-group-item list-group-item-action font-12",onClick:n=>Se(a),style:{cursor:"pointer"}},f(a),9,Pl))),128)),p.value&&V.value.length===0?(i(),r("li",{key:0,class:"list-group-item list-group-item-action font-12 text-primary",style:{cursor:"pointer"},onClick:e[19]||(e[19]=a=>I.value=!0)},[e[54]||(e[54]=b(' ➕ Create role "')),t("strong",null,f(p.value),1),e[55]||(e[55]=b('" '))])):u("",!0)])):u("",!0),I.value?(i(),r("div",{key:2,class:Y(["modal fade",{show:I.value}]),style:{display:"block"}},[t("div",Al,[t("div",Ml,[t("div",Ul,[e[56]||(e[56]=t("h5",{class:"modal-title"},"Create New Role",-1)),t("button",{type:"button",class:"btn-close",onClick:e[20]||(e[20]=a=>I.value=!1)})]),t("div",zl,[e[57]||(e[57]=t("label",{for:"",class:"font-12 fw-bold"},"Designation",-1)),C(t("input",{type:"text",class:"form-control font-12","onUpdate:modelValue":e[21]||(e[21]=a=>Q.value=a),placeholder:"Enter role name"},null,512),[[se,Q.value]])]),t("div",Rl,[t("button",{class:"btn btn-secondary",onClick:e[22]||(e[22]=a=>I.value=!1)},"Cancel"),t("button",{class:"btn btn-dark",onClick:De},"Save Role")])])])],2)):u("",!0)]),t("div",$l,[t("div",Tl,[C(t("input",{type:"checkbox",id:"isHOD","true-value":"1","false-value":"0","onUpdate:modelValue":e[23]||(e[23]=a=>o.value.is_hod=a),class:"form-check-input mt-1 input-border"},null,512),[[Ue,o.value.is_hod]]),e[59]||(e[59]=t("label",{class:"font-13 ms-2",for:"isHOD"},"Is HOD",-1))]),t("div",Bl,[C(t("input",{type:"checkbox",id:"is_admin","true-value":1,"false-value":0,"onUpdate:modelValue":e[24]||(e[24]=a=>o.value.is_admin=a),class:"form-check-input mt-1 input-border"},null,512),[[Ue,o.value.is_admin]]),e[60]||(e[60]=t("label",{class:"font-13 ms-2",for:"is_admin"},"Is Admin",-1))])])]),t("div",Ol,[e[68]||(e[68]=t("label",{class:"font-13 ps-1",for:"reporting_to"},"Reports To",-1)),g(Z(G),{modelValue:o.value.reporting_to,"onUpdate:modelValue":e[25]||(e[25]=a=>o.value.reporting_to=a),options:A.value.map(a=>a.emp_mail_id),multiple:!1,"close-on-select":!0,"allow-empty":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Reports To",class:"font-11 mb-3"},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.join(", ")),513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options"]),e[69]||(e[69]=t("label",{class:"font-13 ps-1",for:"reporting_designation"},"Reporting Designation",-1)),g(Z(G),{modelValue:o.value.reporting_designation,"onUpdate:modelValue":e[26]||(e[26]=a=>o.value.reporting_designation=a),options:z.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Reporting Designation",class:"font-11 mb-3",disabled:!!o.value.reporting_to},{selection:j(({values:a,isOpen:s})=>[a.length?C((i(),r("span",{key:0,class:"multiselect__single font-10"},f(a.join(", "))+" selected ",513)),[[W,!s]]):u("",!0)]),_:1},8,["modelValue","options","disabled"]),t("div",Fl,[e[64]||(e[64]=t("label",{class:"font-13 ps-1",for:"reporting_to"},"Acknowledge On",-1)),e[65]||(e[65]=t("br",null,null,-1)),t("input",{class:"mb-3 date-time",tag:"input",type:"datetime-local",name:"acknowledge_on",id:"acknowledge_on",placeholder:"Enter department code",value:ze(o.value.acknowledge_on),readonly:""},null,8,Xl)]),t("div",jl,[e[66]||(e[66]=t("label",{for:"",class:"font-12 fw-bold"},"Remarks",-1)),C(t("textarea",{type:"text",class:"form-control font-12 shadow-none remarks",readonly:"","onUpdate:modelValue":e[27]||(e[27]=a=>o.value.remarks=a)},null,512),[[se,o.value.remarks]])]),t("div",Jl,[e[67]||(e[67]=t("label",{for:"signatureInput",class:"form-label mb-0 font-13 ps-1"}," Add Signature ",-1)),t("input",{type:"file",ref_key:"signatureInputRef",ref:be,class:"form-control font-12 mb-2",id:"signatureInput",onChange:Le,"aria-describedby":"fileHelpId"},null,544),o.value.signature?(i(),r("div",ql,[t("i",{class:"bi bi-x-lg position-absolute text-danger cursor-pointer",style:{top:"-7px",right:"-5px","font-size":"13px",background:"white","border-radius":"50%",padding:"3px"},onClick:Ne}),t("img",{src:o.value.signature,alt:"Signature",class:"img-fluid signature-img"},null,8,Hl)])):u("",!0)])])])])]),t("div",Wl,[g(ye,{type:"button",class:"cancelfilter border-1 text-nowrap font-10",name:"Cancel",onClick:te,"data-bs-dismiss":"modal"}),g(ye,{type:"button",class:"btn btn-dark font-11",name:"Save Employee",onClick:bt})])])])]),t("div",{class:"modal fade",id:"EmployeeToggleModal",tabindex:"-1","aria-hidden":"true"},[t("div",{class:"modal-dialog modal-dialog-centered"},[t("div",{class:"modal-content"},[e[71]||(e[71]=Vt('<div class="modal-header" data-v-0abd3a5e><h5 class="modal-title" data-v-0abd3a5e>Confirm Employee Status</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-0abd3a5e></button></div><div class="modal-body" data-v-0abd3a5e> Are you sure you want to <span id="empActionText" data-v-0abd3a5e></span> &quot;<span id="empRowName" data-v-0abd3a5e></span>&quot;? </div>',2)),t("div",{class:"modal-footer"},[e[70]||(e[70]=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),t("button",{type:"button",class:"btn btn-dark",onClick:it},"Yes, Proceed")])])])]),t("div",{class:"modal fade",id:"ExportEmployeeModal",tabindex:"-1","aria-hidden":"true"},[t("div",{class:"modal-dialog modal-dialog-centered"},[t("div",{class:"modal-content"},[e[73]||(e[73]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Export Employee"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[74]||(e[74]=t("div",{class:"modal-body"}," Are you sure you want to export the employee details? ",-1)),t("div",{class:"modal-footer"},[e[72]||(e[72]=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),t("button",{type:"button",class:"btn btn-dark",onClick:dt},"Yes, Proceed")])])])])]))}},Kl=Ct(Zl,[["__scopeId","data-v-0abd3a5e"]]);export{Kl as default};
