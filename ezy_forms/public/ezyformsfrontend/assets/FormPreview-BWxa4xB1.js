import{p as O,d as B,w as P,o as t,c as s,b as e,t as r,s as n,u as c,g as S,h as m,v as D,O as T,x as j,y as L,z as N}from"./index-B-ZWE6ER.js";const R={class:"modal fade",id:"formViewModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},E={class:"modal-dialog modal-xl"},H={class:"modal-content"},z={class:"modal-header py-2 d-block bg-dark text-white"},$={class:"d-flex justify-content-between align-items-center"},G={class:"m-0 text-white font-13",id:"exampleModalLabel"},J={class:"d-flex gap-2"},K={class:"dropdown"},Q={class:"btn btn-dark text-white dropdown-toggle font-13",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},W={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},X=["onClick"],Y={class:"modal-body"},Z={class:"card border-0"},I={key:0,class:"section-label d-flex justify-content-between"},ee={class:"m-0 font-13"},te={class:"px-2"},oe={class:"container-fluid"},se={key:0,class:"p-3 border-bottom"},le={class:"m-0 font-12"},ae={class:"mx-3 my-2"},re={key:0},ne=["for"],ce={class:"font-12"},ie={class:"ms-1 text-danger"},de=["multiple","onUpdate:modelValue"],ue=["value"],pe={key:1,class:"container-fluid"},_e={class:"row"},me={class:"d-flex gap-2 align-items-center"},ve=["type","name","id"],he=["for"],ye=["id","onChange"],be=["onUpdate:modelValue"],ke={__name:"FormPreview",props:{blockArr:{type:[Array,null],required:!0},formDescriptions:{type:Object,required:!1}},setup(A){const d=A,b=B("Requestor"),v=B([]);P(()=>d.blockArr,a=>{a&&Array.isArray(a)&&(console.log(d.blockArr,"gggggggggggg"),v.value=C("Requestor",a),console.log(v.value,"displayedBlocks"))},{immediate:!0});function F(){b.value="Requestor"}function M(a){b.value=a,v.value=C(a,d.blockArr)}function C(a,u){console.log(u);let i=[];return({requestor:["requestor"],"approver-1":["requestor","approver1"],"approver-2":["requestor","approver1","approver2"],"approver-3":["requestor","approver1","approver2","approver3"]}[a]||["requestor"]).forEach(_=>{const y=u.find(k=>k.label===_);y&&i.push(y)}),i}const U=a=>{switch(a){case"Data":case"Phone":case"Check":case"Date":case"Datetime":case"radio":return"input";case"Text":return"textarea";case"Time":return"input";case"Select":return"select";case"Attach":return"file";case"Color":return"input"}};return(a,u)=>(t(),s("div",R,[e("div",E,[e("div",H,[e("div",z,[e("div",$,[e("div",null,[e("h5",G," Preview - "+r(d.formDescriptions.form_name||"Untitled")+" ("+r(d.formDescriptions.form_category)+") ",1)]),e("div",J,[e("div",K,[e("button",Q," View as "+r(b.value),1),e("ul",W,[(t(!0),s(n,null,c(d.blockArr,(i,h)=>(t(),s("li",{key:h},[e("a",{class:"dropdown-item",onClick:p=>M(i.label)},r(i.label),9,X)]))),128))])]),e("button",{type:"button",class:"btn btn-dark text-white font-13",onClick:F,"data-bs-dismiss":"modal"},u[0]||(u[0]=[S("Close "),e("i",{class:"bi bi-x"},null,-1)]))])])]),e("div",Y,[e("div",Z,[(t(!0),s(n,null,c(v.value,(i,h)=>(t(),s("div",{key:h,class:"block-container"},[(t(!0),s(n,null,c(i.sections,(p,_)=>(t(),s("div",{key:"preview-"+_,class:"preview-section"},[p.label?(t(),s("div",I,[e("h5",ee,r(p.label),1)])):m("",!0),e("div",te,[e("div",oe,[(t(!0),s(n,null,c(p.rows,(y,k)=>(t(),s("div",{class:"row",key:k},[(t(!0),s(n,null,c(y.columns,(f,g)=>(t(),s("div",{key:"column-preview-"+g,class:"col dynamicColumn"},[f.label?(t(),s("div",se,[e("h6",le,r(f.label||"-"),1)])):m("",!0),e("div",ae,[(t(!0),s(n,null,c(f.fields,(o,w)=>{var V,q;return t(),s("div",{key:"field-preview-"+w},[o.label?(t(),s("div",re,[e("label",{for:"field-"+_+"-"+g+"-"+w},[e("span",ce,r(o.label),1),e("span",ie,r(o.reqd===1?"*":""),1)],8,ne),o.fieldtype=="Select"||o.fieldtype=="multiselect"?D((t(),s("select",{key:0,multiple:o.fieldtype=="multiselect","onUpdate:modelValue":l=>o.value=l,class:"form-select mb-2 font-13"},[(t(!0),s(n,null,c((V=o.options)==null?void 0:V.split(`
`),(l,x)=>(t(),s("option",{key:x,value:l},r(l),9,ue))),128))],8,de)),[[T,o.value]]):o.fieldtype=="Check"||o.fieldtype=="radio"?(t(),s("div",pe,[e("div",_e,[(t(!0),s(n,null,c((q=o==null?void 0:o.options)==null?void 0:q.split(`
`),(l,x)=>(t(),s("div",{class:"form-check col-4 mb-4",key:x},[e("div",me,[e("div",null,[e("input",{class:"form-check-input",type:o.fieldtype,name:l,id:l,readonly:""},null,8,ve)]),e("div",null,[e("label",{class:"form-check-label m-0",for:l},r(l),9,he)])])]))),128))])])):o.fieldtype=="Attach"?(t(),s("input",{key:2,type:"file",id:"field-"+_+"-"+g+"-"+w,class:"form-control font-10",onChange:l=>a.handleFileChange(l,o),disabled:""},null,40,ye)):(t(),s(n,{key:3},[o.fieldtype==="Datetime"?D((t(),s("input",{key:0,type:"datetime-local","onUpdate:modelValue":l=>o.value=l,class:"form-control previewInputHeight font-10"},null,8,be)),[[j,o.value]]):m("",!0),o.fieldtype!=="Datetime"?(t(),L(N(U(o.fieldtype)),{key:1,readonly:"",modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,type:o.fieldtype,class:"form-control previewInputHeight font-10"},null,8,["modelValue","onUpdate:modelValue","type"])):m("",!0)],64))])):m("",!0)])}),128))])]))),128))]))),128))])])]))),128))]))),128))])])])])]))}},ge=O(ke,[["__scopeId","data-v-e3f0a6f8"]]);export{ge as F};
