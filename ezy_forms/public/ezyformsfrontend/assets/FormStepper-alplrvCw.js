var Rs=Object.defineProperty,Ns=Object.defineProperties;var zs=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var ct=(A,D,F)=>D in A?Rs(A,D,{enumerable:!0,configurable:!0,writable:!0,value:F}):A[D]=F,se=(A,D)=>{for(var F in D||(D={}))pt.call(D,F)&&ct(A,F,D[F]);if(Be)for(var F of Be(D))mt.call(D,F)&&ct(A,F,D[F]);return A},Ce=(A,D)=>Ns(A,zs(D));var Ye=(A,D)=>{var F={};for(var S in A)pt.call(A,S)&&D.indexOf(S)<0&&(F[S]=A[S]);if(A!=null&&Be)for(var S of Be(A))D.indexOf(S)<0&&mt.call(A,S)&&(F[S]=A[S]);return F};var Qe=(A,D,F)=>new Promise((S,he)=>{var ee=R=>{try{m(F.next(R))}catch(Z){he(Z)}},De=R=>{try{m(F.throw(R))}catch(Z){he(Z)}},m=R=>R.done?S(R.value):Promise.resolve(R.value).then(ee,De);m((F=F.apply(A,D)).next())});import{_ as Hs,u as Ps,J as js,d as b,H as ie,e as x,w as ve,f as Js,l as P,m as j,p as le,K as Ws,o as a,c as i,b as s,q as V,O as Ys,j as J,h as v,z as U,A as E,C as B,t as g,M as Qs,B as ft,a as I,F as Ze,i as Zs,x as Me,s as vt,I as oe,v as k,N as Gs,y as q,D as Ge,Q as Se,R as re,S as Ks,E as Xs,k as W,U as Ke,V as xs,W as ht,X as Is}from"./index-DUC1w12e.js";const el="/assets/ezy_forms/ezyformsfrontend/assets/oui_app-users-roles-C_V_SNI2.svg",tl={class:""},sl={class:""},ll={class:"d-flex justify-content-between align-items-center CancelNdSave my-2 py-2"},ol=["disabled"],nl={class:"form-container p-0 container-fluid mt-1"},al={class:"row"},il={class:"col-2"},rl={class:"steps-sticky-div"},ul={class:"steps"},dl=["onClick"],cl={key:0,class:"ri-checkbox-circle-fill completedStepIcon"},pl={class:"step-text"},ml={class:"font-11"},fl={class:"font-14"},vl={class:"col-10 formbackground-color"},hl={class:""},_l={class:"form-content stepsDiv"},bl={key:0},gl={class:""},yl={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},kl={class:"container-fluid p-0"},wl={class:"row"},Cl={class:"col-4"},Sl={class:"mt-3"},Dl={class:""},Fl={key:0,class:"text-danger ErrorMsg ms-2"},$l={class:"mt-3"},Vl={class:""},Al={key:0,class:"text-danger ErrorMsg ms-2"},Ul={class:"mt-3"},El={class:""},Tl={for:""},Ll={key:0,class:"text-danger"},ql={class:"mt-3"},Bl={class:""},Ml={for:""},Ol={key:0,class:"text-danger"},Rl={class:"mt-3"},Nl={class:"typo__label"},zl={for:""},Hl={key:0,class:"text-danger"},Pl={class:"custom-option"},jl=["checked","onChange"],Jl={class:"mt-3"},Wl={class:""},Yl={key:1},Ql={class:""},Zl={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},Gl={class:"d-flex gap-2 align-items-center"},Kl={class:"requestandAppHeader"},Xl={class:"d-flex justify-content-between"},xl={class:"ps-2 pt-2"},Il={class:"d-flex"},eo={key:0,class:"role-container"},to={key:0,class:"role-text d-flex align-items-center"},so={class:"role-label"},lo={class:"role-names"},oo=["onClick"],no=["onClick"],ao=["onClick"],io=["onClick"],ro={class:"pt-0 section_block"},uo={class:"d-flex justify-content-between align-items-center"},co={class:"d-flex flex-column"},po=["onUpdate:modelValue","onChange"],mo={key:0,class:"text-danger font-10"},fo={class:"d-flex align-items-center"},vo=["onClick"],ho={class:"container-fluid"},_o={class:"d-flex justify-content-between align-items-center"},bo={class:"rownames"},go=["onClick"],yo={class:"col"},ko={class:"row"},wo=["onMouseenter"],Co={class:"column_name d-flex align-items-center justify-content-between"},So={class:"d-flex flex-column ps-2"},Do=["onUpdate:modelValue","onChange"],Fo={key:0,class:"text-danger font-10"},$o={class:"position-absolute top-0 end-0"},Vo=["onClick"],Ao=["onDrop"],Uo=["onMouseenter","onDragstart","onDrop"],Eo=["onDrop"],To=["onDragstart","onDrop"],Lo={class:"d-flex justify-content-between"},qo={class:"flex-column d-flex"},Bo=["onUpdate:modelValue","onChange"],Mo={key:0,class:"text-danger font-10"},Oo={class:"FieldcopyRemove"},Ro=["onClick"],No=["onClick"],zo=["onUpdate:modelValue","onChange"],Ho=["value"],Po={key:0},jo=["onUpdate:modelValue"],Jo={key:0,class:"text-danger font-10"},Wo={key:1},Yo={key:0,class:"list-group mt-1",style:{"max-height":"200px","overflow-y":"auto"}},Qo=["onClick"],Zo=["onUpdate:modelValue","placeholder"],Go={class:"d-flex align-items-center justify-content-between"},Ko={class:"d-flex align-items-center gap-2"},Xo={class:"d-flex align-items-center"},xo=["onUpdate:modelValue"],Io=["onClick"],en=["onUpdate:modelValue"],tn={key:3,class:"text-danger font-10"},sn=["onDrop"],ln={class:"childtableShow"},on={class:"mt-2"},nn={key:0,class:"childTableContainer"},an={key:0,class:"font-13"},rn={key:1,class:"d-flex align-items-center gap-2"},un={class:"d-flex align-items-center"},dn=["onUpdate:modelValue"],cn={key:2,class:"table table-bordered rounded-table"},pn=["onDrop"],mn=["draggable","onDragstart"],fn={key:0},vn=["onUpdate:modelValue"],hn={key:0,class:"font-11 text-danger"},_n={key:1},bn={key:2},gn={class:"d-flex gap-1"},yn=["onUpdate:modelValue"],kn=["value"],wn={class:"d-flex"},Cn={class:"d-flex align-items-center gap-2"},Sn={class:"d-flex align-items-center"},Dn=["onUpdate:modelValue"],Fn=["onClick"],$n={key:0},Vn=["onUpdate:modelValue"],An={key:0,class:"text-danger font-10"},Un={key:1,class:"font-11 text-danger"},En={key:3},Tn={key:3,class:"mb-2 mt-3"},Ln=["onClick"],qn=["onClick"],Bn=["onDrop"],Mn=["onDrop"],On={class:"d-flex justify-content-center align-items-center my-2"},Rn=["onClick"],Nn={class:"font-13"},zn={key:0,class:"d-flex align-items-center gap-2"},Hn={class:"d-flex align-items-center"},Pn=["onUpdate:modelValue"],jn={class:"table table-bordered rounded-table"},Jn={key:0},Wn=["onUpdate:modelValue","onBlur"],Yn={key:0,class:"font-11 text-danger"},Qn={key:1},Zn={key:2},Gn={class:"d-flex gap-1"},Kn=["onUpdate:modelValue"],Xn=["value"],xn=["onClick"],In={key:0},ea=["onUpdate:modelValue"],ta={key:0,class:"text-danger font-10"},sa={key:1,class:"font-11 text-danger"},la={key:3},oa={class:"mb-2"},na=["onClick"],aa=["onClick"],ia=["onClick"],ra={key:0},ua={class:"d-flex justify-content-between align-items-center mt-1 mb-2"},da=["onUpdate:modelValue","onBlur"],ca={key:0,class:"text-danger font-12"},pa={key:1,class:"text-danger font-12"},ma={class:"d-flex align-items-center gap-2"},fa={class:"d-flex align-items-center"},va=["onUpdate:modelValue"],ha=["onClick"],_a={class:"px-1 field-border"},ba={class:"d-flex justify-content-between"},ga=["onUpdate:modelValue","onBlur"],ya={key:0,class:"text-danger font-12"},ka={class:"d-flex align-items-center"},wa={class:"d-flex my-1"},Ca=["onUpdate:modelValue"],Sa=["onClick"],Da=["onClick"],Fa=["onUpdate:modelValue"],$a=["value"],Va={key:0},Aa=["onUpdate:modelValue"],Ua={key:0,class:"text-danger font-10"},Ea={key:1,class:"text-danger font-12"},Ta=["onClick"],La=["onClick"],qa={class:"d-flex justify-content-center align-items-center py-2 add-section-btn"},Ba=["onClick"],Ma={key:0,class:"m-2"},Oa={key:2},Ra={class:"modal fade",id:"customFormatModal",tabindex:"-1","aria-labelledby":"customFormatModalLabel","aria-hidden":"true"},Na={class:"modal-dialog modal-dialog-centered"},za={class:"modal-content"},Ha={class:"modal-body"},Pa=["placeholder"],ja={class:"d-flex align-items-center gap-2"},Ja={class:"d-flex align-items-center py-2"},Wa={class:"offcanvas addOffCanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Ya={class:"offcanvas-header add_designationHeader"},Qa={id:"offcanvasRightLabel",class:"font-14"},Za={class:"offcanvas-body p-0"},Ga={class:""},Ka={class:""},Xa={key:0,class:"p-3 py-4 approval-border-bottom d-flex align-items-center gap-3"},xa={class:"form-control","aria-disabled":""},Ia={class:"font-12"},ei={class:"ms-2"},ti=["value"],si={key:1,class:"p-3 approval-border-bottom"},li={key:0,class:"form-check ps-0"},oi={class:"p-3 listofdesignations"},ni={key:0,class:"form-check ps-1"},ai={key:1,class:"list-unstyled designation-scroll"},ii=["id","value"],ri=["for"],ui={key:2},di={class:"offcanvas-footer"},ci={class:"text-end p-3"},pe="Select All",pi={__name:"FormStepper",setup(A){const D=Ps(),F=js(),S=b(1),he=b([]);b([]);const ee=b([]),De=b([]);ie([]);let m=ie([]),R=ie([]);const Z=b([]),K=b([]),Oe=b([]),ne=b(""),G=b(""),T=b("");let N=ie([]);const Fe=b(""),_e=b(!1),me=b(""),_t=b([]),bt=b([]),te=ie({}),z=b([]),gt=b("");let $=b("");const be=x(()=>Xs);b(!1);const $e=ie([]),Y=b({routepath:D.query.routepath,business_unit:D.query.business_unit,formId:D.query.id}),Ve=b(""),fe=b(!1),f=b({form_name:"",form_short_name:"",accessible_departments:[],business_unit:`${be.value.value||Y.value.business_unit||D.query.business_unit}`,form_category:"",owner_of_the_form:"",series:"",has_workflow:"",workflow_check:""}),yt=x(()=>f.value);b(""),b(!1),ve(be,t=>{t&&t.value&&(f.value.business_unit=t.value)},{immediate:!0});function kt(t){if($==null||$==="new")return!1;const e=X(t).roles;if(t===0)return e.length===0;const l=X(t-1).roles;return l.length>0&&l[0]!==null&&l[0]!==""&&e.length===0}ve(()=>f.value.form_name,t=>{f.value.form_name=t.trim()}),ve(()=>f.value.form_short_name,t=>{f.value.form_short_name=t.trim()}),ve(()=>f.value.series,t=>{f.value.series=t.trim()});const Ae=b(null),Xe=(t,e,l,o,u,n)=>{Ae.value={blockIndex:e,sectionIndex:l,rowIndex:o,columnIndex:u,fieldIndex:n}},ue=(t,e,l,o,u,n)=>{if(!Ae.value)return;const{blockIndex:d,sectionIndex:p,rowIndex:h,columnIndex:r,fieldIndex:c}=Ae.value,w=m[d].sections[p].rows[h].columns[r].fields,_=m[e].sections[l].rows[o].columns[u].fields;if(d===e&&p===l&&h===o&&r===u&&c===n)return;const C=w.splice(c,1)[0];w===_&&c<n&&n--,_.splice(n,0,C),Ae.value=null},Ue=b(""),wt=t=>{const e=[["module","in",["User Forms"]],["istable","=",1]];t!=null&&t.trim()&&e.push(["name","like",`%${t}%`]);const l={fields:JSON.stringify(["name"]),filters:JSON.stringify(e),limit_page_length:"10"};return P.get(j.resource+le.doctypesList,{params:l}).then(o=>o.data||[]).catch(o=>(console.error("Error fetching doctype list:",o),[]))},Re=b(null),Ne=t=>Qe(this,null,function*(){if(t.tableName){const e=t.tableName.trim(),l=yield wt(e);Re.value=l.find(o=>o.name.toLowerCase()===e.toLowerCase()),Re.value&&(Ue.value="Table already exists")}else Ue.value="";t.label&&(t.fieldname=qt(t.label))}),Ee=b([]),xe=ie({query:"",key:""});function Ct(t){const e=[["istable","=",0]];t!=null&&t.trim()&&e.push(["name","like",`%${t}%`]);const l={fields:JSON.stringify(["name"]),filters:JSON.stringify(e),limit_page_length:"10"};P.get(j.resource+le.doctypesList,{params:l}).then(o=>{Ee.value=o.data||[]}).catch(o=>{console.error("Error fetching doctype list:",o)})}function St(t,e,l,o,u,n){m[t].sections[e].rows[l].columns[o].fields[u].options=n,Ee.value=[],xe.query="",xe.key=""}const Dt=x(()=>m!=null&&m.length?T.value===1?[0]:Array.from({length:T.value},(t,e)=>e).filter(t=>t<T.value):[]),Ft=x(()=>Z.value.filter(t=>t.toLowerCase().includes(Fe.value.toLowerCase())).sort((t,e)=>{const l=K.value.includes(t),o=K.value.includes(e);return l===o?0:l?-1:1})),ae=b(null),de=b(null),$t=(t,e,l,o,u)=>{ae.value={blockIndex:t,sectionIndex:e,rowIndex:l,columnIndex:o,fieldIndex:u}},Vt=()=>{ae.value=null},At=(t,e,l,o,u)=>ae.value&&ae.value.blockIndex===t&&ae.value.sectionIndex===e&&ae.value.rowIndex===l&&ae.value.columnIndex===o&&ae.value.fieldIndex===u,Ut=(t,e,l,o)=>{de.value={blockIndex:t,sectionIndex:e,rowIndex:l,columnIndex:o}},Et=()=>{de.value=null},Tt=(t,e,l,o)=>de.value&&de.value.blockIndex===t&&de.value.sectionIndex===e&&de.value.rowIndex===l&&de.value.columnIndex===o;Js(()=>{_s(),$.value=D.params.paramid||"new",$.value!=null&&$.value!=null&&$.value!="new"&&(ot(),je());let t=localStorage.getItem("Bu");f.value.business_unit=t});const Lt=b([]);function qt(t){return t.toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]/g,"")}const Bt=(t,e)=>{const l=m[t].sections[e];l.childTables||(l.childTables=[]);const o=l.childTables.length;l.childTables.push({label:"",fieldname:"",fieldtype:"Table",idx:o,reqd:!1,as_a_block:"",description:"false",columns:[se({label:"",fieldname:"",fieldtype:"",idx:0,description:"",reqd:!1},$e.fieldtype==="Select"&&$e.options?{options:$e.options?`
${$e.options}`:`
`}:{})],newTable:!0})},Mt=(t,e,l)=>{const o=m[t].sections[e].childTables[l];o.columns||(o.columns=[]),o.columns.push(se({label:"",fieldname:"",fieldtype:"",idx:o.columns.length,description:"",reqd:!1},o.columns.fieldtype==="Select"&&o.columns.options?{options:o.columns.options?`
${o.columns.options}`:`
`}:{}))},Ot=(t,e,l)=>{m[t].sections[e].childTables.splice(l,1)},Rt=(t,e,l,o)=>{m[t].sections[e].childTables[l].columns.splice(o,1)},Nt=(t,e,l)=>{var d;const o=m[t].sections[e].childTables[l],u={tableName:!1,columns:[]};let n=!1;return(d=o.tableName)!=null&&d.trim()||(u.tableName="Table name is required.",n=!0),o.columns.forEach((p,h)=>{var c,w;const r={};(c=p.label)!=null&&c.trim()||(r.label="Field Label is required",n=!0),(w=p.fieldtype)!=null&&w.trim()||(r.fieldtype="Please select field type",n=!0),u.columns[h]=r}),te[`${t}-${e}-${l}`]=u,n},zt=(t,e,l)=>{var u,n;const o=(n=(u=m[t])==null?void 0:u.sections)==null?void 0:n[e];o&&!Array.isArray(o[l])&&(o[l]=[])},Ie=t=>t?t.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,""):"",Ht=(t,e,l)=>{if(Nt(t,e,l)){W.error("Please fix validation errors before creating the table",{transition:"zoom"});return}if(Re.value){W.error("Table already exists",{transition:"zoom"});return}const u=m[t].sections[e].childTables[l],n=m[t].sections[e];u.newTable=!1;const d={form_short_name:Ie(u.tableName),fields:u.columns,idx:u.idx,as_a_block:u.as_a_block===1?"true":"false"};P.post(j.childtable,d).then(p=>{var h,r,c;if(p){zt(t,e,"afterCreated"),n.afterCreated[l]=u,m[t].sections[e].childTables[l]=[],W.success("Table created successfully!",{autoClose:500,transition:"zoom"});const w=(c=(r=(h=p.message)==null?void 0:h[0])==null?void 0:r[0])==null?void 0:c.child_doc;m[t].sections[e].childTables[l]=w}}).catch(p=>{console.error("Error creating table:",p)})},Pt=(t,e,l,o)=>{const n=m[t].sections[e].afterCreated.find(p=>p.tableName===l);if(!n)return;n.columns.splice(o,1),n.columns.forEach((p,h)=>{p.idx=h+1});const d=M.value[l];d&&(M.value[l]=d.filter(p=>p!==o).map(p=>p>o?p-1:p))},jt=(t,e,l)=>{const u=m[t].sections[e].afterCreated.find(d=>d.tableName===l);if(!u)return;const n=u.columns.length;u.columns.push({fieldname:"",fieldtype:"",idx:n+1,label:"",value:"",isNew:!0,description:""})},et=b([]),Jt=(t,e,l)=>{const u=m[t].sections[e].afterCreated.find(n=>n.tableName===l);if(u){if(L[l]){M.value[l]=[];let n=!0;if(u.columns.forEach((h,r)=>{(!h.label||!h.fieldtype)&&(M.value[l].push(r),n=!1)}),!n)return;const d=u.columns.map((w,c)=>{var _=w,{isNew:h}=_,r=Ye(_,["isNew"]);return Ce(se({},r),{idx:c+1})}),p={form_short_name:Ie(l),fields:d,as_a_block:u.description};P.post(j.childtable,p).then(h=>{et.value=h.data,W.success("Fields updated successfully!",{autoClose:500})}).catch(h=>{console.error("❌ Saving fields failed:",h)})}L[l]=!L[l]}},L=ie({}),Wt=t=>{z.value[t]||(z.value[t]=[]);const e=z.value[t].length+1;z.value[t].push({fieldname:"",fieldtype:"",idx:e,label:"",value:"",isNew:!0,description:"",options:z.value[t].options?`
${z.value[t].options}`:""})},Yt=(t,e)=>{z.value[t]&&z.value[t].splice(e,1)},ce=b(null),M=b({}),tt=b(null),Qt=t=>{ce.value=t},Zt=()=>{ce.value=null},Gt=t=>{t.preventDefault()},Kt=(t,e)=>{const l=t.target.closest("tr");if(!l)return;const o=Array.from(l.parentNode.children).indexOf(l);if(o!==ce.value){const u=e[ce.value];e.splice(ce.value,1),e.splice(o,0,u),ce.value=o}},Xt=(t,e)=>{if(L[t]){M.value[t]=[];let l=!0;if(z.value[t].forEach((n,d)=>{(!n.label||!n.fieldtype)&&(M.value[t].push(d),l=!1)}),!l)return;let o=z.value[t].map((h,p)=>{var r=h,{isNew:n}=r,d=Ye(r,["isNew"]);return Ce(se({},d),{idx:p})});const u={form_short_name:t,fields:o,as_a_block:e};P.post(j.childtable,u).then(n=>{W.success("Fields updated successfully!",{autoClose:500},{transition:"zoom"}),et.value=n.data}).catch(n=>{console.error("❌ Saving fields failed:",n)})}L[t]=!L[t],tt.value=L[t]?t:null};ve(z,t=>{Object.keys(t).forEach(e=>{t[e].forEach((l,o)=>{var u;l.label&&l.fieldtype&&(M.value[e]=(u=M.value[e])==null?void 0:u.filter(n=>n!==o))})})},{deep:!0});const xt=b([{id:1,label:"About Form",stepno:"Step 1",icon:"bi bi-info-circle"},{id:2,label:"Fields & Workflow",stepno:"Step 2",icon:"bi bi-question-circle"},{id:3,label:"Print Format",stepno:"Step 3",icon:"ri-checkbox-circle-line"}]),ze=[{label:"Text",type:"Data"},{label:"Select",type:"Select"},{label:"Attach",type:"Attach"},{label:"Date",type:"Date"},{label:"Datetime",type:"Datetime"},{label:"Number",type:"Int"},{label:"TextArea",type:"Text"}],It=[{label:"Text",type:"Data"},{label:"Number",type:"Int"},{label:"Attach",type:"Attach"},{label:"Phone",type:"Phone"},{label:"Time",type:"Time"},{label:"TextArea",type:"Text"},{label:"Date",type:"Date"},{label:"Datetime",type:"Datetime"},{label:"Check",type:"Check"},{label:"Select",type:"Select"},{label:"Multi Select",type:"Small Text"},{label:"Link",type:"Link"}],es=x(()=>[pe,...ee.value]),ts=x(()=>{const t=f.value.accessible_departments;return t.includes(pe)?"All Selected":t.length>1?`${t[0]}.. +${t.length-1} more selected`:t.join(", ")}),ss=t=>t===pe?f.value.accessible_departments.length===ee.value.length:f.value.accessible_departments.includes(t),ls=(t,e)=>{t===pe?e.target.checked?f.value.accessible_departments=[...ee.value]:f.value.accessible_departments=[]:(e.target.checked?f.value.accessible_departments.push(t):f.value.accessible_departments=f.value.accessible_departments.filter(l=>l!==t),f.value.accessible_departments.length===ee.value.length?f.value.accessible_departments=[...ee.value]:f.value.accessible_departments=f.value.accessible_departments.filter(l=>l!==pe))},os=t=>{t===pe&&(f.value.accessible_departments=[...ee.value])},ns=t=>{t===pe&&(f.value.accessible_departments=[])},He=x({get(){return Z.value.length>0&&Z.value.every(t=>K.value.includes(t))},set(t){t?K.value=[...Z.value]:K.value=[]}});function as(){!He.value&&K.value.length}function is(){const t=m[T.value];if(!t||!t.sections){console.error("Error: Invalid block or sections not found.");return}let e={type:T.value==0?"requestor":"approver",roles:K.value,fields:t.sections.flatMap(Ke),idx:T.value};T.value!==0&&(e.view_only_reportee=_e.value===!0?1:0),T.value!==0&&(e.on_rejection=me.value?me.value:0);const l=N.findIndex(o=>o.idx===e.idx);l!==-1?N[l]=e:N.push(e),cs()}function X(t){return N.find(e=>e.idx===t)||{roles:[]}}function rs(t){const e=X(t),l=e.roles||[];K.value=[...l],_e.value=e.view_only_reportee===1,me.value=e.on_rejection}const Pe=t=>{Fe.value="",_e.value=!1,me.value="",f.value.accessible_departments.length&&ds(f.value.accessible_departments),T.value=t,rs(t)},us=b([]);function ds(t){Array.isArray(t)&&t.length>0,P.get(j.resource+le.WFRoleMatrix+`/${f.value.business_unit}`).then(e=>{e.data&&(us.value=e.data.users,Z.value=[...new Set(e.data.users.map(l=>l.role_name))])}).catch(e=>{console.error("Error fetching designations data:",e)})}function cs(){P.post(j.add_roles_WF,{workflow_setup:N,doctype:f.value.form_short_name,business_unit:f.value.business_unit}).then(t=>{console.log(t),T.value==0?W.success("Requestor Added",{autoClose:1e3,transition:"zoom"}):W.success(`Approver-${T.value} Added`,{autoClose:1e3,transition:"zoom"})})}function ps(){F.push({path:Y.value.routepath||localStorage.getItem("routepath")})}function ms(){f.value.form_name="",f.value.form_short_name="",f.value.owner_of_the_form="",f.value.business_unit="",f.value.form_category="",f.value.accessible_departments=[]}const fs=t=>{if(Le.value){W.error("Please check all required fields before proceeding.",{autoClose:2e3,transition:"zoom"});return}t<S.value?lt():t>S.value&&st()},st=()=>{if(Le.value){W.error("Please check all required fields before proceeding.",{autoClose:2e3,transition:"zoom"});return}S.value<3&&(S.value+=1,S.value===3&&(qe.value=m))},lt=()=>{S.value>1&&(S.value-=1)},vs=b([]);function ot(){P.get(j.resource+le.EzyFormDefinitions+`/${$.value}`).then(t=>{var l;let e=t==null?void 0:t.data;if(e){F.push({query:{id:e.name}}),e.accessible_departments&&(e.accessible_departments=e.accessible_departments.split(",")),f.value=Ce(se(se({},f.value),e),{owner_of_the_form:e.owner_of_the_form||f.value.owner_of_the_form||""});const o=JSON.parse((l=t.data)==null?void 0:l.form_json);_t.value=o.workflow,gt.value=o.fields.filter(n=>n.fieldtype==="Table"),vs.value=o.fields.filter(n=>n.fieldtype==="Table"),fe.value=t.data.is_landscape;let u=Ws(JSON.parse(e==null?void 0:e.form_json).fields);z.value=JSON.parse(t.data.form_json).child_table_fields,Lt.value=[],bt.value=[],u.forEach((n,d)=>{m.push(n)}),JSON.parse(e==null?void 0:e.form_json).workflow.forEach((n,d)=>{N.push(n)})}}).catch(t=>{console.error("Error fetching  data:",t)})}function hs(){const t={};Ve.value&&(t.print_format=Ve.value),fe.value!==void 0&&fe.value!==null&&(t.is_landscape=fe.value),P.put(j.resource+le.EzyFormDefinitions+`/${D.query.id}`,t).then(e=>{console.log(e),bootstrap.Modal.getInstance(document.getElementById("customFormatModal")).hide(),W.success("Print Format Added Successfully",{autoClose:1e3,transition:"zoom"})}).catch(e=>{console.error("Error fetching  data:",e)})}function _s(){const t={fields:JSON.stringify(["*"]),limit_page_length:"none"};P.get(j.resource+le.departments,{params:t}).then(e=>{var l;(l=e==null?void 0:e.data)!=null&&l.length&&(De.value=e.data.map(o=>o.name),ee.value=e.data.map(o=>o.name))}).catch(e=>{console.error("Error fetching department data:",e)})}ve(()=>f.value.owner_of_the_form,t=>{t&&je(t)});function je(t){t&&typeof t=="string"&&t.trim()!==""&&bs(t)}function bs(t){P.get(j.resource+le.departments+`/${t}`).then(e=>{var l;(l=e==null?void 0:e.data)!=null&&l.ezy_departments_items&&(he.value=e.data.ezy_departments_items.map(o=>o.category))}).catch(e=>{console.error("Error fetching categories data:",e)})}function nt(t){let e=Is(m);const l=Ce(se({},f.value),{fields:e,doctype:le.EzyFormDefinitions,workflow_setup:N,form_status:t==="save"?"Created":"Draft"});l.accessible_departments=l.accessible_departments.toString(),P.post(j.savedata,l).then(o=>{o&&o.message&&o.message.message?(F.push({params:{paramid:o.message.message},query:{id:o.message.message}}),$.value=o.message.message,$&&$!=="new"&&(m.splice(0,m.length),ot()),N.length<m.length?W.info("Add Workflow",{autoClose:2e3,transition:"zoom"}):at.value===!0&&W.success("Form Created Successfully!",{autoClose:2e3,transition:"zoom",onClose:()=>{let u=localStorage.getItem("routepath");t==="save"?F.push({path:u}):t==="Draft"&&F.push({path:u})}})):console.error("Invalid response structure:",o)}).catch(o=>{console.error("Error saving form data:",o)})}const Te=b(""),gs=()=>{var l,o;const t=m.length,e={label:t===0?"requestor":`approver-${t}`,parent:`${(l=be.value)==null?void 0:l.value}-${(o=f.value)==null?void 0:o.form_short_name}`,sections:[{label:"",parent:`${be.value.value}-${f.value.form_short_name}`,childTables:[],afterCreated:{},rows:t===0?[{label:`row_0_0_${t}`,columns:[{label:"",fields:[{label:"Requested By",fieldtype:"Data",options:"",reqd:!1}]},{label:"",fields:[{label:"Requested On",fieldtype:"Datetime",options:"",reqd:!1}]}]},{label:`row_0_1_${t}`,columns:[{label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1,description:""}]}]}]:[{label:`row_0_0_${t}`,columns:[{label:"",fields:[{label:"Approver",fieldtype:"Data",options:"",reqd:!1},{label:"Approved By",fieldtype:"Attach",options:"",reqd:!1}]},{label:"",fields:[{label:"Approved On",fieldtype:"Datetime",options:"",reqd:!1}]}]}]}]};m.push(e),xs(()=>{Te.value&&Te.value.scrollTo({top:Te.value.scrollHeight,behavior:"smooth"})})},at=b(!1),ys=t=>{let e=m[t];e.parent&&R.push(e),N.length>t&&N[t].roles&&[...N[t].roles],m.splice(t,1),N.length>t&&N.splice(t,1)},ks=(t,e)=>{const l={label:"",parent:`${be.value.value}-${f.value.form_short_name}`,rows:[{label:`row_0_${e}_${t}`,columns:[{label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1}]}]}]};m[t].sections.splice(e+1,0,l)},ws=(t,e)=>{let l=m[t].sections[e];l.parent&&R.push(l),m[t].sections.splice(e,1)},Cs=(t,e,l)=>{m[t].sections[e].rows[l].columns.push({label:"",fields:[{label:"",fieldtype:"",options:"",reqd:!1}]})},Ss=(t,e,l,o)=>{const n=m[t].sections[e].rows[l].columns,d=n[o];d.parent&&R.push(d),n.length===1?m[t].sections[e].rows.splice(l,1):n.splice(o,1)},Ds=(t,e,l,o)=>{m[t].sections[e].rows[l].columns[o].fields.push({label:"",fieldtype:"",options:"",reqd:!1})},Fs=(t,e,l,o,u)=>{let n=m[t].sections[e].rows[l].columns[o].fields[u];n.parent&&R.push(n),m[t].sections[e].rows[l].columns[o].fields.splice(u,1)},$s=(t,e,l,o,u)=>{const n=m[t].sections[e].rows[l].columns[o].fields[u],d=se({},n);d.name=`${n.name} Name the field`,m[t].sections[e].rows[l].columns[o].fields.splice(u+1,0,d)},Vs=(t,e,l,o,u)=>{const n=ht(m);m.splice(0,m.length,...n);let d=m[t].sections[e].rows[l].columns[o].fields[u].fieldtype;(d!=="Select"||d!=="radio"||d!=="multiselect")&&(m[t].sections[e].rows[l].columns[o].fields[u].options="")},As=["name","parent","creation","owner","modified","modified_by","parentfield","parenttype","file_list","flags","docstatus"].map(t=>t.toLowerCase().trim()),Us=["Approver","Approved on","Approved By"].map(t=>t.toLowerCase().trim());function Es(t){return As.includes(t==null?void 0:t.trim().toLowerCase())}function Ts(t){return/[^a-zA-Z0-9 _\/!@#$%^&*()?.:;|/\\[\]{}]/.test(t)||t.includes('"')||t.includes("'")}function Ls(t){return t.flatMap(e=>{var l;return[(l=e.label)==null?void 0:l.trim().toLowerCase(),...e.sections.flatMap(o=>{var u;return[(u=o.label)==null?void 0:u.trim().toLowerCase(),...o.rows.flatMap(n=>n.columns.flatMap(d=>{var p;return[(p=d.label)==null?void 0:p.trim().toLowerCase(),...d.fields.map(h=>{var r;return(r=h.label)==null?void 0:r.trim().toLowerCase()})]}))]})]}).filter(e=>e!==""&&!Us.includes(e))}function Je(t,e,l,o,u){const d=Ls(m).filter((r,c,w)=>w.indexOf(r)!==c),p=ht(m);m.splice(0,m.length,...p);function h(r,c){Es(r)?c.errorMsg="Entered label is restricted":Ts(r)?c.errorMsg=`Label should not contain special characters, double quotes (") or single quotes (')`:c.errorMsg=d.includes(r.trim().toLowerCase())?"Duplicate Label Name":""}u!==void 0&&h(m[t].sections[e].rows[l].columns[o].fields[u].label,m[t].sections[e].rows[l].columns[o].fields[u]),u===void 0&&o!==void 0&&h(m[t].sections[e].rows[l].columns[o].label,m[t].sections[e].rows[l].columns[o]),o===void 0&&u===void 0&&h(m[t].sections[e].label,m[t].sections[e])}const We=x(()=>{function t(e){return!e||typeof e!="object"?!1:"fieldtype"in e&&e.fieldtype===""||"error"in e&&e.error||"errorMsg"in e&&e.errorMsg||["Select","Table MultiSelect"].includes(e.fieldtype)&&(!e.options||e.options.trim()==="")?!0:Array.isArray(e)?e.some(t):Object.values(e).some(t)}return t(m)}),Le=x(()=>ne.value.length>0||G.value.length>0||!f.value.form_category||!f.value.owner_of_the_form||f.value.accessible_departments.length===0),qs=x(()=>m.some(t=>t.sections.some(e=>e.rows.some(l=>l.columns.some(o=>o.fields.some(u=>u.label&&u.fieldtype))))));function it(t,e){let l=t.target.value.trim();if(!l){e==="form_name"?ne.value="Input cannot be empty or only spaces":e==="form_short_name"&&(G.value="Input cannot be empty or only spaces");return}if(/^\d/.test(l)){e==="form_short_name"&&(G.value="First character must be a letter");return}else G.value="";if(e==="form_short_name"&&/[^a-zA-Z ]/.test(l)){G.value="Only alphabets and spaces are allowed";return}if(/[^a-zA-Z0-9& ]/.test(l)){e==="form_name"?ne.value="Special characters are not allowed":e==="form_short_name"&&(G.value="Special characters are not allowed");return}else e==="form_name"?ne.value="":e==="form_short_name"&&(G.value="");const o=[[e,"like",`%${l}%`],["business_unit","like",`%${f.value.business_unit}%`]],u={fields:JSON.stringify(["*"]),filters:JSON.stringify(o)};P.get(`${j.resource}${le.EzyFormDefinitions}`,{params:u}).then(n=>{Oe.value=n.data,e==="form_name"?ne.value=l&&Oe.value.some(d=>d.form_name&&d.form_name.replace(/\s+/g,"").toLowerCase()===l.replace(/\s+/g,"").toLowerCase())?"Name already exists":"":e==="form_short_name"&&(G.value=l&&Oe.value.some(d=>d.form_short_name&&d.form_short_name.replace(/\s+/g,"").toLowerCase()===l.replace(/\s+/g,"").toLowerCase())?"Short name already exists":"")}).catch(n=>{console.error("Error fetching ezyForms data:",n),e==="form_name"?ne.value="":e==="form_short_name"&&(G.value="")})}const Bs=t=>t===0?"1st row":t===1?"2nd row":t===2?"3rd row":`${t+1}th row`,qe=b([]),Ms=()=>{m.length&&(qe.value=m,new bootstrap.Modal(document.getElementById("formViewModal")).show())};function Os(){P.post(j.delete_form_items,{deleted_fields:R.flatMap(Ke),doctype:$}).then(t=>{var e;(e=t==null?void 0:t.message)!=null&&e.success&&nt()})}function rt(t){return Qe(this,null,function*(){if(We.value){W.error("Please fix the errors before proceeding.");return}at.value=!0;let e=R.flatMap(Ke);$!=null&&$!=null&&$!="new"&&e.length?Os():nt(t)})}return(t,e)=>(a(),i("div",null,[s("div",tl,[s("div",sl,[s("div",ll,[s("div",{class:"ps-1 my-2 d-flex align-items-center",onClick:e[0]||(e[0]=l=>ps())},e[31]||(e[31]=[s("h1",{class:"font-13 ms-3"},[s("i",{class:"bi bi-arrow-left"}),s("span",{class:"ms-2"},"Back")],-1)])),s("div",null,[S.value===2&&V(m).length&&!t.$route.query.id?(a(),i("button",{key:0,disabled:We.value||Le.value,style:Ys({cursor:We.value?"not-allowed":"pointer"}),type:"butoon",class:"btn font-13 btn-light",onClick:e[1]||(e[1]=l=>rt("Draft"))},e[32]||(e[32]=[s("i",{class:"bi bi-bookmark-check-fill"},null,-1),J(" Save As Draft ")]),12,ol)):v("",!0)])]),s("div",nl,[s("div",al,[s("div",il,[s("div",rl,[s("ul",ul,[(a(!0),i(U,null,E(xt.value,l=>(a(),i("li",{key:l.id,class:B({active:S.value===l.id,completed:S.value>l.id})},[s("div",{class:B(["d-flex gap-3 align-items-center",{"not-allowed":Le.value&&S.value+1===l.id}]),onClick:o=>fs(l.id)},[S.value>l.id?(a(),i("i",cl)):(a(),i("i",{key:1,class:B(l.icon)},null,2)),s("div",pl,[s("span",ml,g(l.stepno),1),e[33]||(e[33]=s("br",null,null,-1)),s("span",fl,g(l.label),1)])],10,dl)],2))),128))])])]),s("div",vl,[s("div",hl,[s("div",_l,[S.value===1?(a(),i("div",bl,[s("div",gl,[s("div",yl,[e[34]||(e[34]=s("div",null,null,-1)),e[35]||(e[35]=s("h1",{class:"font-14 fw-bold m-0"},"About Form",-1)),s("div",null,[t.$route.query.id?v("",!0):(a(),i("button",{key:0,class:"btn btn-light font-12 mx-2",type:"button",onClick:ms},"Clear Form")),S.value<3?(a(),Qs(ft,{key:1,class:"btn btn-dark bg-dark text-white fw-bold font-13",name:"Next",onClick:st})):v("",!0)])])]),s("div",kl,[s("div",wl,[e[42]||(e[42]=s("div",{class:"col-4"},null,-1)),s("div",Cl,[s("div",Sl,[s("div",Dl,[I(Ze,{disabled:Y.value.formId&&Y.value.formId.length>0,labeltext:"Form Name",class:"formHeight",type:"text",tag:"input",name:"Value",id:"formName",validationStar:"true",placeholder:"Untitled Form",onChange:e[2]||(e[2]=l=>it(l,"form_name")),modelValue:f.value.form_name,"onUpdate:modelValue":e[3]||(e[3]=l=>f.value.form_name=l)},null,8,["disabled","modelValue"]),ne.value?(a(),i("span",Fl,g(ne.value),1)):v("",!0)])]),s("div",$l,[s("div",Vl,[I(Ze,{disabled:Y.value.formId&&Y.value.formId.length>0,labeltext:"Form Short Code",class:"formHeight",type:"text",tag:"input",name:"Value",id:"formShortCode",validationStar:"true",placeholder:"Untitled Form",onChange:e[4]||(e[4]=l=>it(l,"form_short_name")),modelValue:f.value.form_short_name,"onUpdate:modelValue":e[5]||(e[5]=l=>f.value.form_short_name=l)},null,8,["disabled","modelValue"]),G.value?(a(),i("span",Al,g(G.value),1)):v("",!0)]),s("div",null,[I(Ze,{disabled:Y.value.formId&&Y.value.formId.length>0,labeltext:"Form Naming series",class:"formHeight mt-2",type:"text",tag:"input",name:"Value",id:"formNameSeries",placeholder:"Form Naming series",modelValue:f.value.series,"onUpdate:modelValue":e[6]||(e[6]=l=>f.value.series=l)},null,8,["disabled","modelValue"]),e[36]||(e[36]=Zs('<small class="text-muted" style="font-size:12px;" data-v-7f4be124> Note : Enter <code data-v-7f4be124>YY-YY</code>, <code data-v-7f4be124>YYYY</code>, or <code data-v-7f4be124>ABC</code>. The system will default to the format <code data-v-7f4be124> 24-25-0001</code>, <code data-v-7f4be124> 2025-0001</code>, or <code data-v-7f4be124> ABC-0001</code> respectively. </small>',1))])]),s("div",Ul,[s("div",El,[s("label",Tl,[e[37]||(e[37]=J("Owner Of The Form ")),f.value.owner_of_the_form?v("",!0):(a(),i("span",Ll,"*"))]),I(V(Me),{disabled:Y.value.formId&&Y.value.formId.length>0,options:De.value,onChange:je,modelValue:f.value.owner_of_the_form,"onUpdate:modelValue":e[7]||(e[7]=l=>f.value.owner_of_the_form=l),placeholder:"Select Department",multiple:!1,class:"font-11 multiselect",searchable:!0},null,8,["disabled","options","modelValue"])])]),s("div",ql,[s("div",Bl,[s("label",Ml,[e[38]||(e[38]=J("Form Cateogry ")),f.value.form_category?v("",!0):(a(),i("span",Ol,"*"))]),I(V(Me),{disabled:Y.value.formId&&Y.value.formId.length>0,options:he.value,modelValue:f.value.form_category,"onUpdate:modelValue":e[8]||(e[8]=l=>f.value.form_category=l),placeholder:"Select Cateogry",multiple:!1,searchable:!0,class:"font-11 multiselect"},null,8,["disabled","options","modelValue"])])]),s("div",Rl,[e[41]||(e[41]=s("div",{class:""},null,-1)),s("div",null,[s("label",Nl,[s("label",zl,[e[39]||(e[39]=J("Accessibility Departments ")),f.value.accessible_departments.length?v("",!0):(a(),i("span",Hl,"*"))])]),I(V(Me),{modelValue:f.value.accessible_departments,"onUpdate:modelValue":e[10]||(e[10]=l=>f.value.accessible_departments=l),options:es.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Department",class:"font-11",onSelect:os,onRemove:ns},{option:vt(({option:l})=>[s("div",Pl,[s("input",{type:"checkbox",checked:ss(l),class:"custom-checkbox",onChange:o=>ls(l,o),onClick:e[9]||(e[9]=oe(()=>{},["stop"]))},null,40,jl),s("span",null,g(l),1)])]),selection:vt(({values:l,isOpen:o})=>[l.length?k((a(),i("span",{key:0,class:"multiselect__single font-10"},g(ts.value),513)),[[Ge,!o]]):v("",!0)]),_:1},8,["modelValue","options"])]),s("div",Jl,[s("div",Wl,[e[40]||(e[40]=s("label",{for:""},"Has Workflow ",-1)),I(V(Me),{options:["No"],modelValue:f.value.has_workflow,"onUpdate:modelValue":e[11]||(e[11]=l=>f.value.has_workflow=l),placeholder:"Select",multiple:!1,class:"font-11 multiselect",searchable:!0},null,8,["modelValue"])])])])]),e[43]||(e[43]=s("div",{class:"col-4"},null,-1))])])])):v("",!0),S.value===2?(a(),i("div",Yl,[s("div",Ql,[s("div",Zl,[s("h1",{onClick:e[12]||(e[12]=l=>lt()),class:"font-11 m-0"},e[44]||(e[44]=[s("i",{class:"bi bi-chevron-left"},null,-1),s("span",{class:"ms-2"},"Back To About Form",-1)])),s("div",Gl,[s("div",null,[qs.value?(a(),i("button",{key:0,class:"btn btn-light previewBtn d-flex align-items-center font-13",type:"button",onClick:Ms},e[45]||(e[45]=[s("i",{class:"bi bi-eye me-1 ms-1 mb-0"},null,-1),J("Preview ")]))):v("",!0)]),V(m).length?(a(),i("button",{key:0,class:"btn btn-dark font-10 Withborder border",type:"button",onClick:e[13]||(e[13]=l=>rt("save"))},g(V($)!=="new"?"Update Form":"Create Form"),1)):v("",!0)])]),I(Gs,{blockArr:qe.value,formDescriptions:yt.value,childHeaders:z.value},null,8,["blockArr","formDescriptions","childHeaders"]),s("div",{class:"main-block",ref_key:"mainBlockRef",ref:Te},[(a(!0),i(U,null,E(V(m),(l,o)=>(a(),i("div",{class:"block-level",key:o},[s("div",Kl,[s("div",Xl,[s("div",null,[s("h6",xl,g(o===0?"Requestor Block":`Approver
                                  Block ${o}
                                  `),1)]),s("div",Il,[V($)&&V(N).length?(a(),i("div",eo,[X(o)?(a(),i("label",to,[s("span",so,g(X(o).roles.length>0?o===0?"Requestor: ":"Approver: ":""),1),s("span",lo,g(X(o).roles.slice(0,2).join(", ")),1),X(o).roles.length>2?(a(),i("span",{key:0,"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:u=>Pe(o),class:"more-count"}," +"+g(X(o).roles.length-2)+" more ",9,oo)):v("",!0)])):v("",!0)])):v("",!0),kt(o)&&V($)!=null&&V($)!=null&&V($)!="new"&&X(o).roles.length===0?(a(),i("button",{key:1,class:"btn btn-light designationBtn d-flex align-items-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:u=>Pe(o)},e[46]||(e[46]=[s("img",{src:el,alt:"Add",class:"me-1"},null,-1),J(" Add designations ")]),8,no)):v("",!0),V($)!=null&&V($)!=null&&V($)!="new"&&X(o).roles.length>0?(a(),i("button",{key:2,class:"btn btn-light designationBtn d-flex align-items-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",onClick:u=>Pe(o)},e[47]||(e[47]=[s("i",{class:"bi bi-pencil font-14"},null,-1)]),8,ao)):v("",!0),s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteBlock",onClick:u=>ys(o)},e[48]||(e[48]=[s("i",{class:"bi bi-trash me-1"},null,-1),J(" Delete Block ")]),8,io)])])]),s("div",ro,[(a(!0),i(U,null,E(l.sections,(u,n)=>(a(),i("div",{key:"section-"+n,class:"dynamicSection mt-0 section"},[s("section",uo,[s("div",co,[k(s("input",{"onUpdate:modelValue":d=>u.label=d,type:"text",class:B(["border-less-input","font-14",{"italic-style":!u.label},{"fw-medium":u.label}]),onChange:d=>Je(o,n),placeholder:"Untitled section"},null,42,po),[[q,u.label]]),u.errorMsg?(a(),i("small",mo,g(u.errorMsg),1)):v("",!0)]),s("div",fo,[s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteSection",onClick:d=>ws(o,n)},e[49]||(e[49]=[s("i",{class:"bi bi-trash me-1"},null,-1),J(" Delete Section ")]),8,vo)])]),s("div",ho,[(a(!0),i(U,null,E(u.rows,(d,p)=>(a(),i("section",{class:"row dynamicRow row-container",key:"row-"+p},[s("div",_o,[s("label",bo,g(Bs(p)),1),s("div",null,[d.columns.length<3?(a(),i("button",{key:0,class:"btn btn-light bg-transparent border-0 font-12",onClick:h=>Cs(o,n,p)},e[50]||(e[50]=[s("i",{class:"bi bi-plus font-14"},null,-1),J(" Add Column ")]),8,go)):v("",!0)])]),s("div",yo,[s("div",ko,[(a(!0),i(U,null,E(d.columns,(h,r)=>(a(),i("div",{key:"column-"+r,onMouseenter:c=>Ut(o,n,p,r),onMouseleave:Et,class:"col p-0 dynamicColumn position-relative column-container"},[s("div",Co,[s("div",So,[k(s("input",{"onUpdate:modelValue":c=>h.label=c,type:"text",class:B(["border-less-input","ps-1","font-14","inputHeight",{"italic-style":!h.label},{"fw-medium":h.label}]),onChange:c=>Je(o,n,p,r),placeholder:"Column Name"},null,42,Do),[[q,h.label]]),h.errorMsg?(a(),i("small",Fo,g(h.errorMsg),1)):v("",!0)]),k(s("div",$o,[s("button",{class:"btn btn-light bg-transparent me-1 btn-sm",onClick:c=>Ss(o,n,p,r)},e[51]||(e[51]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,Vo)],512),[[Ge,Tt(o,n,p,r)]])]),h.fields.length===0?(a(),i("div",{key:0,class:"empty-drop-zone",onDragover:e[14]||(e[14]=oe(()=>{},["prevent"])),onDrop:c=>ue(c,o,n,p,r,t.fieldIndex)},null,40,Ao)):v("",!0),(a(!0),i(U,null,E(h.fields,(c,w)=>(a(),i("div",{key:"field-"+w,onMouseenter:_=>$t(o,n,p,r,w),onMouseleave:Vt,class:"dynamicField m-1 draggable-item",draggable:"true",onDragstart:_=>Xe(_,o,n,p,r,w),onDragover:e[21]||(e[21]=oe(()=>{},["prevent"])),onDrop:_=>ue(_,o,n,p,r,w)},[s("div",{class:"drop-zone",onDragover:e[15]||(e[15]=oe(()=>{},["prevent"])),onDrop:_=>ue(_,o,n,p,r,w)},null,40,Eo),c.fieldtype!=="Table"?(a(),i("div",{key:0,class:"px-1 dynamic_fied field-border",draggable:"true",onDragstart:_=>Xe(_,o,n,p,r,w),onDragover:e[19]||(e[19]=oe(()=>{},["prevent"])),onDrop:_=>ue(_,o,n,p,r,w)},[s("div",Lo,[s("div",qo,[k(s("input",{"onUpdate:modelValue":_=>c.label=_,placeholder:"Name the field",class:B(["border-less-input","font-14","p-0","inputHeight",{"italic-style":!c.label},{"fw-medium":c.label}]),onChange:_=>Je(o,n,p,r,w)},null,42,Bo),[[q,c.label]]),c.errorMsg?(a(),i("small",Mo,g(c.errorMsg),1)):v("",!0)]),k(s("div",Oo,[s("button",{class:"btn btn-light btn-sm bg-transparent py-0",onClick:_=>$s(o,n,p,r,w)},e[52]||(e[52]=[s("i",{class:"ri-file-copy-line font-13 copyIcon"},null,-1)]),8,Ro),s("button",{class:"btn btn-light btn-sm bg-transparent trash-btn py-0",onClick:_=>Fs(o,n,p,r,w)},e[53]||(e[53]=[s("i",{class:"bi bi-x-lg font-13"},null,-1)]),8,No)],512),[[Ge,At(o,n,p,r,w)]])]),k(s("select",{"onUpdate:modelValue":_=>c.fieldtype=_,class:"form-select mb-2 mt-1 font-13 searchSelect",onChange:_=>Vs(o,n,p,r,w)},[e[54]||(e[54]=s("option",{value:""},"Select Type",-1)),(a(),i(U,null,E(It,_=>s("option",{key:_,value:_.type},g(_.label),9,Ho)),64))],40,zo),[[Se,c.fieldtype]]),["Select","Table MultiSelect","Small Text"].includes(c.fieldtype)?(a(),i("div",Po,[e[55]||(e[55]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),k(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":_=>c.options=_,class:"form-control shadow-none mb-1 font-12"},null,8,jo),[[q,c.options]]),!c.options||c.options.trim()===""?(a(),i("small",Jo," Options are required for this field type. ")):v("",!0)])):v("",!0),c.fieldtype==="Link"?(a(),i("div",Wo,[e[56]||(e[56]=s("label",{class:"font-12 fw-light",for:"link-search"},"Search Doctype:",-1)),k(s("input",{id:"link-search",type:"text","onUpdate:modelValue":e[16]||(e[16]=_=>t.linkSearchQuery=_),onInput:e[17]||(e[17]=_=>Ct(t.linkSearchQuery)),onFocus:e[18]||(e[18]=_=>t.dropdownVisible=!0),class:"form-control font-12 mb-1",placeholder:"Type to search..."},null,544),[[q,t.linkSearchQuery]]),Ee.value.length&&t.dropdownVisible?(a(),i("ul",Yo,[(a(!0),i(U,null,E(Ee.value,(_,C)=>(a(),i("li",{key:C,onClick:y=>St(o,n,p,r,w,_.name),class:"list-group-item list-group-item-action"},g(_.name),9,Qo))),128))])):v("",!0),k(s("input",{type:"text","onUpdate:modelValue":_=>V(m)[o].sections[n].rows[p].columns[r].fields[w].options=_,class:"form-control font-12 mb-1",placeholder:t.linkSearchQuery?"Select from list":"Selected doctype will appear here",readonly:""},null,8,Zo),[[q,V(m)[o].sections[n].rows[p].columns[r].fields[w].options]])])):v("",!0),s("div",Go,[s("div",Ko,[s("div",Xo,[k(s("input",{class:"font-12","onUpdate:modelValue":_=>c.reqd=_,"true-value":1,"false-value":0,placeholder:"Field Name",type:"checkbox"},null,8,xo),[[re,c.reqd]])]),e[57]||(e[57]=s("div",null,[s("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Mandatory")],-1))]),s("div",null,[s("button",{class:"btn btn-sm font-12",onClick:_=>c.showDescription=!c.showDescription},g(c.showDescription?"Hide Description":c.description?"Edit Description":"Add Description"),9,Io)])]),c.showDescription?k((a(),i("textarea",{key:2,"onUpdate:modelValue":_=>c.description=_,class:"form-control font-12 mt-2",placeholder:"Enter field description"},null,8,en)),[[q,c.description]]):v("",!0),c.error?(a(),i("small",tn,g(c.error),1)):v("",!0)],40,To)):v("",!0),s("div",{class:"drop-zone",onDragover:e[20]||(e[20]=oe(()=>{},["prevent"])),onDrop:_=>ue(_,o,n,p,r,w)},null,40,sn),s("div",ln,[s("div",null,[s("div",null,[s("div",on,[c.fieldtype==="Table"?(a(),i("div",nn,[(a(!0),i(U,null,E(z.value,(_,C)=>(a(),i("div",{key:C,class:"childTable"},[C===c.fieldname?(a(),i("h5",an,g(C.replace(/_/g," ")),1)):v("",!0),L[C]&&C===tt.value?(a(),i("div",rn,[s("div",un,[k(s("input",{class:"font-12","onUpdate:modelValue":y=>c.description=y,"true-value":"true","false-value":"fasle",placeholder:"Field Name",type:"checkbox"},null,8,dn),[[re,c.description]])]),e[58]||(e[58]=s("div",null,[s("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Show as Blocks")],-1))])):v("",!0),C===c.fieldname?(a(),i("table",cn,[e[62]||(e[62]=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Label"),s("th",null,"Field Type")])],-1)),s("tbody",{onDragover:oe(Gt,["prevent"]),onDrop:y=>Kt(y,_)},[(a(!0),i(U,null,E(_,(y,Q)=>{var ge,ye,ke,we;return a(),i("tr",{key:Q,draggable:L[C],onDragstart:O=>Qt(Q),onDragend:Zt,class:B({dragging:ce.value===Q})},[s("td",null,g(Q+1),1),L[C]?(a(),i("td",fn,[k(s("input",{"onUpdate:modelValue":O=>y.label=O,placeholder:"Field Label",class:B(["form-control",{"border-1 border-danger":(ge=M.value[C])==null?void 0:ge.includes(Q)}])},null,10,vn),[[q,y.label]]),(ye=M.value[C])!=null&&ye.includes(Q)?(a(),i("span",hn,"Label required**")):v("",!0)])):(a(),i("td",_n,g(y.label),1)),L[C]?(a(),i("td",bn,[s("div",gn,[k(s("select",{"onUpdate:modelValue":O=>y.fieldtype=O,class:B(["form-select form-select-sm",{"border-1 border-danger":(ke=M.value[C])==null?void 0:ke.includes(Q)}])},[e[59]||(e[59]=s("option",{value:""},"Select Type",-1)),(a(),i(U,null,E(ze,O=>s("option",{key:O.type,value:O.type},g(O.label),9,kn)),64))],10,yn),[[Se,y.fieldtype]]),s("div",wn,[s("div",Cn,[s("div",Sn,[k(s("input",{class:"font-12 form-control-sm","onUpdate:modelValue":O=>y.description=O,placeholder:"description",type:"text"},null,8,Dn),[[q,y.description]])])]),s("button",{class:"btn btn-light btn-sm",onClick:O=>Yt(C,Q)},e[60]||(e[60]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,Fn)])]),["Select"].includes(y.fieldtype)?(a(),i("div",$n,[e[61]||(e[61]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),k(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":O=>y.options=O,class:"form-control shadow-none mb-1 font-12"},null,8,Vn),[[q,y.options]]),!y.options||y.options.trim()===""?(a(),i("small",An," Options are required for this field type. ")):v("",!0)])):v("",!0),(we=M.value[C])!=null&&we.includes(Q)?(a(),i("span",Un,"Type required**")):v("",!0)])):(a(),i("td",En,g(y.fieldtype),1))],42,mn)}),128))],40,pn)])):v("",!0),c.fieldtype==="Table"&&(c.label===C||c.fieldname===C)?(a(),i("div",Tn,[s("button",{class:"btn btn-light btn-sm mx-2",onClick:y=>Xt(C,c.description)},g(L[C]?"Save":"Edit"),9,Ln),L[C]?(a(),i("button",{key:0,class:"btn btn-light btn-sm",onClick:y=>Wt(C)}," Add More Field ",8,qn)):v("",!0)])):v("",!0)]))),128))])):v("",!0)])])])])],40,Uo))),128)),s("div",{class:"drop-zone-bottom",onDragover:e[22]||(e[22]=oe(()=>{},["prevent"])),onDrop:c=>ue(c,o,n,p,r,h.fields.length),style:{"background-color":"#f0f0f0",border:"1px dashed #ccc",margin:"4px"}},null,40,Bn),s("div",{class:"drop-zone",onDragover:e[23]||(e[23]=oe(()=>{},["prevent"])),onDrop:c=>ue(c,o,n,p,r,t.fields.length),style:{height:"10px","background-color":"transparent"}},null,40,Mn),s("div",On,[s("button",{class:"btn btn-light btn-sm d-flex align-items-center addField m-2",onClick:c=>Ds(o,n,p,r)},e[63]||(e[63]=[s("i",{class:"bi bi-plus fs-5"},null,-1),s("span",null,"Add Field",-1)]),8,Rn)])],40,wo))),128))])])]))),128)),s("div",null,[(a(!0),i(U,null,E(u.afterCreated,(d,p)=>(a(),i("div",{key:p,class:"childTable dynamicColumn m-0 p-2"},[s("h5",Nn,g(d.tableName),1),L[d.tableName]?(a(),i("div",zn,[s("div",Hn,[k(s("input",{class:"font-12","onUpdate:modelValue":h=>d.description=h,"true-value":"true","false-value":"fasle",placeholder:"Field Name",type:"checkbox"},null,8,Pn),[[re,d.description]])]),e[64]||(e[64]=s("div",null,[s("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Show as Blocks")],-1))])):v("",!0),s("table",jn,[e[68]||(e[68]=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Label"),s("th",null,"Field Type")])],-1)),s("tbody",null,[(a(!0),i(U,null,E(d.columns,(h,r)=>{var c,w,_,C;return a(),i("tr",{key:r},[s("td",null,g(r+1),1),L[d.tableName]?(a(),i("td",Jn,[k(s("input",{"onUpdate:modelValue":y=>h.label=y,placeholder:"Field Label",class:B(["form-control",{"border-1 border-danger":(c=M.value[d.tableName])==null?void 0:c.includes(r)}]),onBlur:y=>Ne(h)},null,42,Wn),[[q,h.label]]),(w=M.value[p])!=null&&w.includes(r)?(a(),i("span",Yn,"Label required**")):v("",!0)])):(a(),i("td",Qn,g(h.label),1)),L[d.tableName]?(a(),i("td",Zn,[s("div",Gn,[k(s("select",{"onUpdate:modelValue":y=>h.fieldtype=y,class:B(["form-select form-select-sm",{"border-1 border-danger":(_=M.value[d.tableName])==null?void 0:_.includes(r)}])},[e[65]||(e[65]=s("option",{value:""},"Select Type",-1)),(a(),i(U,null,E(ze,y=>s("option",{key:y.type,value:y.type},g(y.label),9,Xn)),64))],10,Kn),[[Se,h.fieldtype]]),s("button",{class:"btn btn-light btn-sm",onClick:y=>Pt(o,n,d.tableName,r)},e[66]||(e[66]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,xn)]),["Select"].includes(h.fieldtype)?(a(),i("div",In,[e[67]||(e[67]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),k(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":y=>h.options=y,class:"form-control shadow-none mb-1 font-12"},null,8,ea),[[q,h.options]]),!h.options||h.options.trim()===""?(a(),i("small",ta," Options are required for this field type. ")):v("",!0)])):v("",!0),(C=M.value[d.tableName])!=null&&C.includes(r)?(a(),i("span",sa,"Type required**")):v("",!0)])):(a(),i("td",la,g(h.fieldtype),1))])}),128))])]),s("div",oa,[s("button",{class:"btn btn-light btn-sm mx-2",onClick:h=>Jt(o,n,d.tableName)},g(L[d.tableName]?"Save":"Edit"),9,na),L[d.tableName]?(a(),i("button",{key:0,class:"btn btn-light btn-sm",onClick:h=>jt(o,n,d.tableName)}," Add More Field ",8,aa)):v("",!0)])]))),128))])]),s("div",null,[s("div",null,[s("button",{class:"btn btn-light addRow mb-3 mt-4",onClick:d=>Bt(o,n)}," Add New Table ",8,ia),(a(!0),i(U,null,E(u.childTables,(d,p)=>{var h;return a(),i("div",{key:`table-${o}-${n}-${p}`,class:"child-table"},[d.newTable?(a(),i("div",ra,[s("div",ua,[s("div",null,[s("span",{class:B(d.tableName?"d-none":"text-danger")},"*",2),k(s("input",{"onUpdate:modelValue":r=>d.tableName=r,placeholder:"Table Name",onBlur:r=>Ne(d),class:B(["border-less-input font-14 p-0 inputHeight",{"italic-style":!d.tableName,"fw-medium":d.tableName}])},null,42,da),[[q,d.tableName]]),(h=te[`${o}-${n}-${p}`])!=null&&h.tableName?(a(),i("div",ca,g(te[`${o}-${n}-${p}`].tableName),1)):v("",!0),Ue.value?(a(),i("div",pa,g(Ue.value),1)):v("",!0),s("div",ma,[s("div",fa,[k(s("input",{class:"font-12","onUpdate:modelValue":r=>d.as_a_block=r,"true-value":1,"false-value":0,placeholder:"Field Name",type:"checkbox"},null,8,va),[[re,d.as_a_block]])]),e[69]||(e[69]=s("div",null,[s("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Show as Blocks")],-1))])]),s("button",{class:"btn btn-light bg-transparent border-0 font-13 deleteSection",onClick:r=>Ot(o,n,p)},e[70]||(e[70]=[s("i",{class:"bi bi-trash"},null,-1),J(" Remove Table ")]),8,ha)]),(a(!0),i(U,null,E(d.columns,(r,c)=>{var w,_,C,y,Q,ge,ye,ke,we,O,ut,dt;return a(),i("div",{key:c,class:"dynamicField"},[s("div",_a,[s("div",ba,[s("div",null,[s("span",{class:B(r.label?"d-none":"text-danger")},"*",2),k(s("input",{"onUpdate:modelValue":H=>r.label=H,placeholder:"Name the field",onBlur:H=>Ne(r),class:B(["border-less-input font-14 p-0 inputHeight",{"italic-style":!r.label,"fw-medium":r.label,"is-invalid":(C=(_=(w=te[`${o}-${n}-${p}`])==null?void 0:w.columns)==null?void 0:_[c])==null?void 0:C.label}])},null,42,ga),[[q,r.label]]),(ge=(Q=(y=te[`${o}-${n}-${p}`])==null?void 0:y.columns)==null?void 0:Q[c])!=null&&ge.label?(a(),i("div",ya,g(te[`${o}-${n}-${p}`].columns[c].label),1)):v("",!0)]),s("div",ka,[s("div",wa,[r.showDescription?k((a(),i("input",{key:0,"onUpdate:modelValue":H=>r.description=H,class:"form-control font-12",placeholder:"Enter field description"},null,8,Ca)),[[q,r.description]]):v("",!0),s("button",{class:"btn btn-sm text-nowrap font-12",onClick:H=>r.showDescription=!r.showDescription},g(r.showDescription?"Hide Description":r.description?"Edit Description":"Add Description"),9,Sa)]),s("button",{class:"btn btn-sm trash-btn py-0",onClick:H=>Rt(o,n,p,c)},e[71]||(e[71]=[s("i",{class:"bi bi-x-lg"},null,-1)]),8,Da)])]),k(s("select",{"onUpdate:modelValue":H=>r.fieldtype=H,class:B(["form-select font-13 mb-1",{"is-invalid":(we=(ke=(ye=te[`${o}-${n}-${p}`])==null?void 0:ye.columns)==null?void 0:ke[c])==null?void 0:we.fieldtype}])},[e[72]||(e[72]=s("option",{value:""},"Select Type",-1)),(a(),i(U,null,E(ze,H=>s("option",{key:H.type,value:H.type},g(H.label),9,$a)),64))],10,Fa),[[Se,r.fieldtype]]),["Select"].includes(r.fieldtype)?(a(),i("div",Va,[e[73]||(e[73]=s("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),k(s("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":H=>r.options=H,class:"form-control shadow-none mb-1 font-12"},null,8,Aa),[[q,r.options]]),!r.options||r.options.trim()===""?(a(),i("small",Ua," Options are required for this field type. ")):v("",!0)])):v("",!0),(dt=(ut=(O=te[`${o}-${n}-${p}`])==null?void 0:O.columns)==null?void 0:ut[c])!=null&&dt.fieldtype?(a(),i("div",Ea,g(te[`${o}-${n}-${p}`].columns[c].fieldtype),1)):v("",!0)])])}),128)),s("button",{class:"btn btn-light btn-sm addField mx-1",onClick:r=>Mt(o,n,p)},e[74]||(e[74]=[s("i",{class:"bi bi-plus"},null,-1),J(" Add Field ")]),8,Ta),s("button",{class:"btn btn-dark btn-sm font-12 mx-1",onClick:r=>Ht(o,n,p)}," Create Table ",8,La),e[75]||(e[75]=s("hr",null,null,-1))])):v("",!0)])}),128))])]),s("div",qa,[s("button",{class:"btn btn-light border font-12",onClick:d=>ks(o,n)},e[76]||(e[76]=[s("i",{class:"bi bi-plus-circle me-1 fs-6"},null,-1),J(" Add Section ")]),8,Ba)])]))),128)),o===0?(a(),i("div",Ma)):v("",!0)])]))),128)),s("div",{class:B(["d-flex justify-content-center align-items-center add-block-btn-div py-4  ",{"background-color-white":V(m).length}])},[s("button",{class:"btn btn-light border d-flex align-items-center font-12",onClick:gs},[e[77]||(e[77]=s("i",{class:"bi bi-plus-circle me-1 fs-6"},null,-1)),J(" "+g(V(m).length===0?"Add Requestor Block":"Add Approval Block"),1)])],2)],512)])])):v("",!0),S.value===3?(a(),i("div",Oa,[e[78]||(e[78]=s("div",{class:"stepperbackground d-flex align-items-center justify-content-end gap-2"},[s("div",null,[s("button",{class:"btn btn btn-light previewBtn font-13","data-bs-toggle":"modal","data-bs-target":"#customFormatModal"},"Print Format ")]),s("div")],-1)),I(Ks,{blockArr:qe.value},null,8,["blockArr"])])):v("",!0)])])])])])])]),s("div",Ra,[s("div",Na,[s("div",za,[e[81]||(e[81]=s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"customFormatModalLabel"},"Print Format"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),s("div",Ha,[k(s("input",{"onUpdate:modelValue":e[24]||(e[24]=l=>Ve.value=l),multiple:!1,placeholder:V(D).query.id,class:"font-11 form-control",searchable:!0},null,8,Pa),[[q,Ve.value]]),s("div",ja,[s("div",Ja,[k(s("input",{class:"font-12","onUpdate:modelValue":e[25]||(e[25]=l=>fe.value=l),"true-value":1,"false-value":0,placeholder:"Field Name",type:"checkbox"},null,512),[[re,fe.value]])]),e[79]||(e[79]=s("div",null,[s("label",{for:"mandatory",class:"font-12 fw-bold m-0 fw-light"},"Print Landscape Mode")],-1))])]),s("div",{class:"modal-footer"},[e[80]||(e[80]=s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),s("button",{type:"button",class:"btn btn-dark",onClick:hs},"Add Print Format")])])])]),s("div",Wa,[s("div",Ya,[s("span",Qa,g(T.value==0?"Add designation for Requestor":`Approval Settings For Level-${T.value}`),1),e[82]||(e[82]=s("button",{type:"button",class:"btn-close bg-light text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1))]),s("div",Za,[s("div",Ga,[s("div",Ka,[T.value!==0?(a(),i("div",Xa,[s("div",null,[s("div",xa,[s("span",Ia,"Approver Level "+g(T.value),1)])]),e[84]||(e[84]=s("div",null,[s("label",{for:"",class:"fw-bold font-12"},"On Rejection")],-1)),s("div",ei,[k(s("select",{"onUpdate:modelValue":e[26]||(e[26]=l=>me.value=l),class:"form-select font-12 mt-1 me-2"},[e[83]||(e[83]=s("option",{disabled:"",value:""},"Select Lower Level",-1)),(a(!0),i(U,null,E(Dt.value,l=>(a(),i("option",{key:l,value:l},g(l===0?"Requester":"Approver Level "+l),9,ti))),128))],512),[[Se,me.value,void 0,{number:!0}]])])])):v("",!0),T.value!==0?(a(),i("div",si,[T.value!==0?(a(),i("div",li,[s("div",null,[k(s("input",{type:"checkbox",id:"ViewOnlyReportee","onUpdate:modelValue":e[27]||(e[27]=l=>_e.value=l),class:"me-2 mt-0 form-check-input designationCheckBox"},null,512),[[re,_e.value]]),e[85]||(e[85]=s("label",{for:"ViewOnlyReportee ",class:"SelectallDesignation fw-bold mt-1 form-check-label"},"View Only Reportee",-1))])])):v("",!0)])):v("",!0)])]),s("div",oi,[k(s("input",{"onUpdate:modelValue":e[28]||(e[28]=l=>Fe.value=l),class:"SearchDesignation rounded-2 form-control shadow-none my-1",type:"text",placeholder:"Search Designation"},null,512),[[q,Fe.value]]),Z.value.length&&T.value==0?(a(),i("div",ni,[s("div",null,[k(s("input",{type:"checkbox",id:"selectAll","onUpdate:modelValue":e[29]||(e[29]=l=>He.value=l),class:"me-2 mt-0 designationCheckBox form-check-input"},null,512),[[re,He.value]]),e[86]||(e[86]=s("label",{for:"selectAll",class:"SelectallDesignation fw-bold mx-2 form-check-label"},"Select all",-1))])])):v("",!0),Z.value.length?(a(),i("ul",ai,[(a(!0),i(U,null,E(Ft.value,(l,o)=>(a(),i("li",{key:o,class:"designationList form-check"},[k(s("input",{type:"checkbox",id:`SelectedDisignation_${o}`,"onUpdate:modelValue":e[30]||(e[30]=u=>K.value=u),value:l,class:"designationCheckBox form-check-input mt-0",onChange:as},null,40,ii),[[re,K.value]]),s("label",{for:`SelectedDisignation_${o}`,class:"ps-2"},g(l),9,ri)]))),128))])):(a(),i("div",ui,e[87]||(e[87]=[s("div",{class:"d-flex justify-content-center"},[s("span",null,"No Designations Found")],-1)])))])]),s("div",di,[s("div",ci,[I(ft,{class:"btn btn-dark addingDesignations","data-bs-dismiss":"offcanvas",onClick:is,name:" Add Designations"})])])])]))}},vi=Hs(pi,[["__scopeId","data-v-7f4be124"]]);export{vi as default};
