import{_ as R,j as T,d as E,b as F,u as q,k as z,l as H,m as J,o,c as n,e,a as b,F as k,B as S,f as L,g as u,i as m,p as D,q as h,h as g,E as P,n as U,t as v,w as C,v as j,s as G,x as V,y as W}from"./index-oeIZeLsV.js";const K={class:"d-flex justify-content-between align-items-center formsticky"},Q={class:"d-flex gap-3 align-items-center"},X={class:"d-flex mt-2"},Y={class:"d-flex align-items-center mb-1"},Z={class:"mt-2"},x={key:0,class:""},I={class:""},ee={class:"d-flex justify-content-between align-items-center"},te={class:"form-container mt-1"},se={class:"row"},le={class:"col-2"},oe={class:"steps"},ne=["onClick"],ae={key:0,class:"ri-checkbox-circle-fill completedStepIcon"},ie={class:"step-text"},de={class:"font-10"},re={class:"col-10"},ue={class:""},me={class:"form-content stepsDiv"},ce={key:0},pe={class:""},be={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},ve={class:"row"},fe={class:"col-4"},ye={class:"mt-4"},_e={class:""},he={class:"mt-4"},ge={class:""},ke={class:"mt-4"},Ce={class:""},Ve={class:"mt-4"},we={class:""},Fe={class:"mt-4"},Se={class:""},Ue={key:1},$e={class:""},De={class:"stepperbackground ps-2 pe-2 m-0 d-flex justify-content-between align-items-center"},je={class:"font-11 m-0"},Me={class:""},Ne={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Be={class:"modal-dialog modal-xl"},Ae={class:"modal-content"},Oe={class:"modal-body"},Re={key:0},Te={class:"card p-1"},Ee={class:"mb-2"},qe={key:0},ze=["for"],He=["multiple","onUpdate:modelValue"],Je=["value"],Le={key:1,class:"row"},Pe={class:"d-flex gap-2 align-items-center"},Ge=["type","name","id"],We=["for"],Ke={class:"mt-4"},Qe={class:"d-flex justify-content-between"},Xe=["onUpdate:modelValue"],Ye=["onClick"],Ze={class:"container-fluid"},xe={class:"d-flex justify-content-between align-items-center"},Ie=["onClick"],et=["onClick"],tt={class:"col"},st={class:"row"},lt={class:"column_name d-flex align-items-center justify-content-between"},ot=["onUpdate:modelValue"],nt=["onClick"],at={class:"px-3 py-1 field-border"},it={class:"d-flex justify-content-between"},dt=["onUpdate:modelValue"],rt={class:"btn btn-light btn-sm"},ut=["onClick"],mt=["onClick"],ct=["onUpdate:modelValue","onChange"],pt=["value"],bt={key:0},vt=["onUpdate:modelValue"],ft={class:"d-flex gap-2 align-items-center"},yt=["onUpdate:modelValue"],_t={class:"d-flex justify-content-center align-items-center my-2"},ht=["onClick"],gt={class:"d-flex justify-content-center align-items-center my-2"},kt=["onClick"],Ct={class:"d-flex justify-content-center align-items-center my-4"},Vt={__name:"CreatedComp",setup(wt){const M=T(()=>P.value);E(()=>{O()});const r=F({form_name:"",form_short_name:"",accessible_departments:"[]",business_unit:`${M.value}`,form_category:"",owner_of_the_form:""}),N=F([{th:"Form name",td_key:"name"},{th:"Form category",td_key:"form_category"},{th:"Owner of form",td_key:"owner_of_the_form"},{th:"Accessible departments",td_key:"accessible_departments"},{th:"Status",td_key:"status"}]),$=F([]),B=q();function A(){B.push({path:"/new/formsteps"})}function O(){const s={fields:JSON.stringify(["*"])};z.get(`${H.resource}${J.EzyFormDefinitions}`,{params:s}).then(t=>{$.value=t.data}).catch(t=>{console.error("Error fetching ezyForms data:",t)})}return(s,t)=>(o(),n("div",null,[e("div",K,[t[13]||(t[13]=e("div",null,[e("h1",{class:"m-0 font-13"},"Forms Master"),e("p",{class:"m-0 font-11 pt-1"},"374 forms available")],-1)),e("div",Q,[e("div",X,[e("div",null,[b(k,{labeltext:"",class:"mb-3",tag:"input",type:"search",placeholder:"Search File Name",name:"Value",id:"Value",modelValue:r.value.search,"onUpdate:modelValue":t[0]||(t[0]=l=>r.value.search=l)},null,8,["modelValue"])]),e("div",null,[b(k,{tag:"select",placeholder:"Filter By",class:"mb-3",name:"roles",modelValue:r.value.selectoption,"onUpdate:modelValue":t[1]||(t[1]=l=>r.value.selectoption=l),id:"roles",Required:!1,options:["JW Marriott Golfshire Banglore","JW Marriott Golfshire Banglore"]},null,8,["modelValue"])])]),e("div",Y,[b(S,{class:"buttoncomp",onClick:t[2]||(t[2]=l=>A()),name:"Create form"})])])]),e("div",Z,[b(L,{tHeaders:N.value,tData:$.value,isAction:"true",actionType:"dropdown",isCheckbox:"true"},null,8,["tHeaders","tData"])]),s.creatForm?(o(),n("div",x,[e("div",I,[e("div",ee,[e("div",{class:"ps-1 m-0 d-flex align-items-center",onClick:t[3]||(t[3]=l=>s.cancelForm())},t[14]||(t[14]=[e("h1",{class:"font-13"},[e("i",{class:"bi bi-arrow-left"}),e("span",{class:"ms-2"},"Cancel Form")],-1)])),e("div",null,[b(S,{class:"font-10 rounded-2",name:"Save as Draft"})])]),e("div",te,[e("div",se,[e("div",le,[e("ul",oe,[(o(!0),n(u,null,m(s.steps,l=>(o(),n("li",{key:l.id,class:U({active:s.activeStep===l.id,completed:s.activeStep>l.id})},[e("div",{class:"d-flex gap-3 align-items-center",onClick:d=>s.handleStepClick(l.label)},[s.activeStep>l.id?(o(),n("i",ae)):(o(),n("i",{key:1,class:U(l.icon)},null,2)),e("div",ie,[e("span",de,v(l.stepno),1),t[15]||(t[15]=e("br",null,null,-1)),e("span",null,v(l.label),1)])],8,ne)],2))),128))])]),e("div",re,[e("div",ue,[e("div",me,[s.activeStep===1?(o(),n("div",ce,[e("div",pe,[e("div",be,[t[16]||(t[16]=e("h1",{class:"font-11 m-0"},[e("i",{class:"bi bi-chevron-left"}),e("span",{class:"ms-2"},"Cancel Form")],-1)),t[17]||(t[17]=e("h1",{class:"font-11 m-0"},"About Form",-1)),s.activeStep<3?(o(),D(S,{key:0,class:"buttoncomp",name:"Next",onClick:s.nextStep},null,8,["onClick"])):h("",!0)])]),e("div",ve,[t[18]||(t[18]=e("div",{class:"col-4"},null,-1)),e("div",fe,[e("div",ye,[e("div",_e,[b(k,{labeltext:"Form Name",class:"mb-3",type:"text",tag:"input",name:"Value",id:"Value",placeholder:"Untitle Form",orm:"",modelValue:r.value.form_name,"onUpdate:modelValue":t[4]||(t[4]=l=>r.value.form_name=l)},null,8,["modelValue"])])]),e("div",he,[e("div",ge,[b(k,{labeltext:"Form Short Code",class:"mb-3",type:"text",tag:"input",name:"Value",id:"Value",placeholder:"Untitle Form",modelValue:r.value.form_short_name,"onUpdate:modelValue":t[5]||(t[5]=l=>r.value.form_short_name=l)},null,8,["modelValue"])])]),e("div",ke,[e("div",Ce,[b(k,{labeltext:"Owner Of The Form",class:"mb-3 w-100",tag:"select",name:"dept",id:"dept",placeholder:"Select Department",options:s.formOptions,modelValue:r.value.owner_of_the_form,"onUpdate:modelValue":t[6]||(t[6]=l=>r.value.owner_of_the_form=l)},null,8,["options","modelValue"])])]),e("div",Ve,[e("div",we,[b(k,{labeltext:"Form Cateogry",class:"mb-3",tag:"select",name:"desgination",id:"desgination",placeholder:"Select Cateogry",options:s.departments,modelValue:r.value.form_category,"onUpdate:modelValue":t[7]||(t[7]=l=>r.value.form_category=l)},null,8,["options","modelValue"])])]),e("div",Fe,[e("div",Se,[b(k,{labeltext:"Accessbility Departments",class:"mb-3",tag:"select",name:"desgination",id:"Departments",placeholder:"Select Desigination",options:s.formOptions,modelValue:r.value.accessible_departments,"onUpdate:modelValue":t[8]||(t[8]=l=>r.value.accessible_departments=l)},null,8,["options","modelValue"])])])]),t[19]||(t[19]=e("div",{class:"col-4"},null,-1))])])):h("",!0),s.activeStep===2?(o(),n("div",Ue,[e("div",$e,[e("div",De,[e("h1",je,[e("i",{onClick:t[9]||(t[9]=(...l)=>s.prevStep&&s.prevStep(...l)),class:"bi bi-chevron-left"}),t[20]||(t[20]=e("span",{class:"ms-2"},"Back To About Form",-1))]),e("button",{class:"btn btn-light font-10",type:"button",onClick:t[10]||(t[10]=l=>s.formData())},t[21]||(t[21]=[e("i",{class:"bi bi-eye me-1"},null,-1),g("SaveData ")])),e("button",{class:"btn btn-light font-10",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:t[11]||(t[11]=(...l)=>s.createForm&&s.createForm(...l))},t[22]||(t[22]=[e("i",{class:"bi bi-eye me-1"},null,-1),g("Preview ")]))]),e("div",Me,[e("div",Ne,[e("div",Be,[e("div",Ae,[t[23]||(t[23]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title m-0 font-13",id:"exampleModalLabel"}," Preview Form "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Oe,[s.formCreated?(o(),n("div",Re,[e("div",Te,[(o(!0),n(u,null,m(s.sections,(l,d)=>(o(),n("div",{key:"preview-"+d,class:"preview-section mb-2"},[e("h5",null,v(l.label),1),(o(!0),n(u,null,m(l.rows,(f,c)=>(o(),n("div",{class:"row",key:c},[(o(!0),n(u,null,m(f.columns,(y,p)=>(o(),n("div",{key:"column-preview-"+p,class:"col"},[e("h6",null,v(y.label),1),e("div",Ee,[(o(!0),n(u,null,m(y.fields,(a,_)=>(o(),n("div",{key:"field-preview-"+_},[a.label?(o(),n("div",qe,[e("label",{for:"field-"+d+"-"+p+"-"+_},v(a.label),9,ze),a.fieldtype=="select"||a.fieldtype=="multiselect"?C((o(),n("select",{key:0,multiple:a.fieldtype=="multiselect","onUpdate:modelValue":i=>a.value=i,class:"form-select mb-2 font-13"},[(o(!0),n(u,null,m(a.options.split(`
`),(i,w)=>(o(),n("option",{key:w,value:i},v(i),9,Je))),128))],8,He)),[[j,a.value]]):a.fieldtype=="checkbox"||a.fieldtype=="radio"?(o(),n("div",Le,[(o(!0),n(u,null,m(a.options.split(`
`),(i,w)=>(o(),n("div",{class:"form-check col-4 mb-4",key:w},[e("div",Pe,[e("div",null,[e("input",{class:"",type:a.fieldtype,name:i,id:i},null,8,Ge)]),e("div",null,[e("label",{class:"form-check-label m-0",for:i},v(i),9,We)])])]))),128))])):(o(),D(G(s.getFieldComponent(a.fieldtype)),{key:2,modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,type:a.fieldtype,name:"field-"+d+"-"+p+"-"+_,class:U([s.form-s.control,"form-control previewInputHeight"])},null,8,["modelValue","onUpdate:modelValue","type","name","class"]))])):h("",!0)]))),128))])]))),128))]))),128))]))),128))])])):h("",!0)])])])]),e("div",Ke,[(o(!0),n(u,null,m(s.sections,(l,d)=>(o(),n("div",{key:d,class:"dynamicSection"},[e("section",Qe,[C(e("input",{"onUpdate:modelValue":f=>l.label=f,type:"text",class:"border-less-input font-14",placeholder:"Section Name"},null,8,Xe),[[V,l.label]]),e("button",{class:"btn btn-light bg-transparent border-0 font-13",onClick:f=>s.removeSection(d)},t[24]||(t[24]=[e("i",{class:"bi bi-trash me-2"},null,-1),g(" Delete Section ")]),8,Ye)]),e("div",Ze,[(o(!0),n(u,null,m(l.rows,(f,c)=>(o(),n("section",{class:"row",key:c},[e("div",xe,[e("label",null,v(s.getRowSuffix(c)),1),e("div",null,[e("button",{class:"btn btn-light bg-transparent border-0 font-13",onClick:y=>s.removeRow(d,c)},t[25]||(t[25]=[e("i",{class:"ri-subtract-line"},null,-1),g(" Remove Row ")]),8,Ie),f.columns.length<3?(o(),n("button",{key:0,class:"btn btn-light bg-transparent border-0 font-13",onClick:y=>s.addColumn(d,c)},t[26]||(t[26]=[e("i",{class:"bi bi-plus"},null,-1),g(" Add Column ")]),8,et)):h("",!0)])]),e("div",tt,[e("div",st,[(o(!0),n(u,null,m(f.columns,(y,p)=>(o(),n("div",{key:p,class:"col p-0 dynamicColumn"},[e("div",lt,[C(e("input",{"onUpdate:modelValue":a=>y.label=a,type:"text",class:"border-less-input columnFieldInput font-14",placeholder:"Column Name"},null,8,ot),[[V,y.label]]),e("button",{class:"btn btn-light btn-sm",onClick:a=>s.removeColumn(d,c,p)},t[27]||(t[27]=[e("i",{class:"bi bi-trash"},null,-1)]),8,nt)]),(o(!0),n(u,null,m(y.fields,(a,_)=>(o(),n("div",{key:_,class:"mt-2"},[e("div",at,[e("div",it,[C(e("input",{"onUpdate:modelValue":i=>a.label=i,placeholder:"Name the field",class:"border-less-input mb-1 columnFieldInput font-14 p-0"},null,8,dt),[[V,a.label]]),e("div",null,[e("button",rt,[e("i",{class:"ri-file-copy-line copyIcon",onClick:i=>s.copyField(d,c,p,_)},null,8,ut)]),e("button",{class:"btn btn-light btn-sm",onClick:i=>s.removeField(d,c,p,_)},t[28]||(t[28]=[e("i",{class:"bi bi-trash"},null,-1)]),8,mt)])]),C(e("select",{"onUpdate:modelValue":i=>a.fieldtype=i,class:"form-select mb-2 font-13 searchSelect",onChange:i=>s.onFieldTypeChange(d,c,p,_)},[t[29]||(t[29]=e("option",{value:""},"Select Type ",-1)),(o(!0),n(u,null,m(s.fieldTypes,i=>(o(),n("option",{key:i,value:i.type},v(i.label),9,pt))),128))],40,ct),[[j,a.fieldtype]]),a.fieldtype=="checkbox"||a.fieldtype=="radio"||a.fieldtype=="select"||a.fieldtype=="multiselect"?(o(),n("div",bt,[t[30]||(t[30]=e("label",{class:"font-12 fw-light",for:"options"},"Enter Options:",-1)),C(e("textarea",{id:"options",placeholder:"Enter your Options","onUpdate:modelValue":i=>a.options=i,class:"form-control shadow-none mb-1 font-12"},null,8,vt),[[V,a.options]])])):h("",!0),e("div",ft,[e("div",null,[C(e("input",{class:"font-12","onUpdate:modelValue":i=>a.reqd=i,placeholder:"Field Name",type:"checkbox"},null,8,yt),[[W,a.reqd]])]),t[31]||(t[31]=e("div",null,[e("label",{for:"mandatory",class:"font-12 m-0 fw-light"},"Mandatory")],-1))])])]))),128)),e("div",_t,[e("button",{class:"btn btn-light btn-sm addField m-2",onClick:a=>s.addField(d,c,p)},t[32]||(t[32]=[e("i",{class:"bi bi-plus"},null,-1),g(" Add Field ")]),8,ht)])]))),128))])])]))),128))]),e("div",gt,[e("button",{class:"btn btn-light btn-sm addRow m-2",onClick:f=>s.addRow(d,s.rowIndex)},t[33]||(t[33]=[e("i",{class:"bi bi-plus"},null,-1),g(" Add Row ")]),8,kt)])]))),128)),e("div",Ct,[e("button",{class:"btn btn-light border font-12",onClick:t[12]||(t[12]=(...l)=>s.addSection&&s.addSection(...l))},t[34]||(t[34]=[e("i",{class:"bi bi-plus-circle me-1 fs-6"},null,-1),g(" Add Section ")]))])])])])])):h("",!0)])])])]),t[35]||(t[35]=e("div",null,null,-1))])])])):h("",!0)]))}},St=R(Vt,[["__scopeId","data-v-acb16c80"]]);export{St as default};
