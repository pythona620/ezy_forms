import{_ as V,r as o,x as _,o as d,c as n,B as w,l as m,d as a,b as i,O as p,i as S,k as C,F as D,h as A,t as h,m as v,G as B,y as N,z as O,K as M}from"./index-C5QI0lcP.js";const $="/assets/ezy_forms/ezyformsfrontend/assets/box%20with%20files-BrDm62f3.svg",j={class:"mt-2"},I={key:0,class:"form_archived"},U={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},z={class:"modal-dialog modal-xl"},E={class:"modal-content"},G={class:"modal-body"},H={class:"row mt-3"},J={class:"col-6"},L={class:"col-6"},T={class:"col-6"},W={class:"col-6"},K=["value"],P={class:"modal-footer"},Y=["disabled"],Q={key:1},X={class:"mt-2"},Z={class:"d-flex justify-content-end me-3"},ee={"data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"filter-btn"},te={key:0,class:"badge bg-primary ms-2"},ae={__name:"ArchivedComp",setup(se){const r=o(!0),u=o(!1),f=o([]),t=o({doctype_name:"",requested_by:"",role:"",date:"",selectedRadio:"",dateRange:""}),g=o([{th:"Request ID",td_key:"name"},{th:"Form name",td_key:"doctype_name"},{th:"Owner of form",td_key:"role"},{th:"Requested on",td_key:"requested_on"},{th:"Requested By",td_key:"requested_by"},{th:"Approval Status",td_key:"status"}]),R=o(["All","Completed","Request Raised","In Progress","Request Cancelled"]),q=_(()=>!Object.values(t.value).some(s=>s)),c=o(0),x=_(()=>{var e,l,b,y;let s=0;return(e=t.value.doctype_name)!=null&&e.trim()&&s++,(l=t.value.requested_by)!=null&&l.trim()&&s++,(b=t.value.role)!=null&&b.trim()&&s++,((y=t.value.dateRange)==null?void 0:y.length)===2&&t.value.dateRange[0]&&t.value.dateRange[1]&&s++,t.value.selectedRadio&&s++,s}),k=()=>{t.value={doctype_name:"",requested_by:"",role:"",date:null,selectedRadio:"",dateRange:""},r.value=!0,u.value=!1},F=()=>{u.value=!0,r.value=!1,c.value=x.value;const s=[];t.value.requested_by&&s.push(["requested_by","like",`%${t.value.requested_by}%`]),t.value.doctype_name&&s.push(["doctype_name","like",`%${t.value.doctype_name}%`]),t.value.role&&s.push(["role","like",`%${t.value.role}%`]),t.value.date&&s.push(["requested_on",">=",formatDate(t.value.date)]),t.value.selectedRadio&&t.value.selectedRadio!=="All"&&s.push(["status","=",t.value.selectedRadio]),N.get(`${O.resource}${M.WFWorkflowRequests}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(s)}}).then(e=>{f.value=e.data}).catch(e=>{console.error("Error fetching records:",e)})};return(s,e)=>(d(),n("div",j,[r.value?(d(),n("div",I,e[4]||(e[4]=[w('<div data-v-efc6e4b5><img class="m-auto d-flex" src="'+$+'" data-v-efc6e4b5><h1 class="font-14 fw-bold m-0 text-center" data-v-efc6e4b5> Archived Forms </h1><p class="m-0 fw-normal font-12" data-v-efc6e4b5>You can access your archived forms by filtering.</p><div class="mt-3" data-v-efc6e4b5><button type="button" class="filterbtn d-flex m-auto align-items-center" data-bs-toggle="modal" data-bs-target="#exampleModal" data-v-efc6e4b5><h1 class="font-12 d-flex align-items-center p-0 m-0" data-v-efc6e4b5><span class="" data-v-efc6e4b5><i class="bi bi-funnel" data-v-efc6e4b5></i></span> Filters</h1></button></div></div>',1)]))):m("",!0),a("div",U,[a("div",z,[a("div",E,[a("div",G,[a("div",H,[a("div",J,[e[5]||(e[5]=a("label",{class:"font-13 ps-1",for:"Requested"},"Form name:",-1)),i(p,{class:"mb-3",tag:"input",type:"search",name:"Requested",id:"Requested",placeholder:"Search Form name",modelValue:t.value.doctype_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.doctype_name=l)},null,8,["modelValue"])]),a("div",L,[e[6]||(e[6]=a("label",{class:"font-13 ps-1",for:"Requested"},"Requested By:",-1)),i(p,{class:"mb-3",tag:"input",type:"search",name:"Requested",id:"Requested",placeholder:"Search",modelValue:t.value.requested_by,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.requested_by=l)},null,8,["modelValue"])]),a("div",T,[e[7]||(e[7]=a("label",{class:"font-13 ps-1 fw-medium",for:"dept"},"Requested Dept:",-1)),i(p,{type:"search",tag:"input",placeholder:"search Department",class:"mb-3",name:"dept",modelValue:t.value.role,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.role=l),id:"dept",Required:!1},null,8,["modelValue"])]),a("div",W,[e[9]||(e[9]=a("label",{class:"font-13 ps-1 fw-medium",for:"dept"},"Approval Status:",-1)),e[10]||(e[10]=a("br",null,null,-1)),S(a("select",{class:"status-select","onUpdate:modelValue":e[3]||(e[3]=l=>t.value.selectedRadio=l),name:"exampleRadio",id:"exampleRadio"},[e[8]||(e[8]=a("option",{value:"",disabled:"",selected:""},"Select an option",-1)),(d(!0),n(D,null,A(R.value,l=>(d(),n("option",{key:l,value:l},h(l),9,K))),128))],512),[[C,t.value.selectedRadio]])])])]),a("div",P,[a("button",{type:"button",onClick:k,class:"cancelfilter border-0 text-nowrap font-10","data-bs-dismiss":"modal"},e[11]||(e[11]=[a("span",{class:"font-14 me-1"},"x",-1),v("Cancel Filter")])),a("button",{type:"button",disabled:q.value,class:"applyfilter text-nowrap border-0 btn btn-dark text-white font-10 d-flex justify-content-center align-items-center","data-bs-dismiss":"modal",onClick:F},e[12]||(e[12]=[a("span",{class:"font-16 me-1"},[a("i",{class:"bi bi-check2"})],-1),v(" Apply Filter")]),8,Y)])])])]),u.value?(d(),n("div",Q,[a("div",X,[a("div",Z,[a("button",ee,[e[13]||(e[13]=a("i",{class:"bi bi-funnel me-2"},null,-1)),e[14]||(e[14]=v(" Filters ")),c.value?(d(),n("span",te,h(c.value),1)):m("",!0)])]),i(B,{class:"mt-2",tHeaders:g.value,tData:f.value},null,8,["tHeaders","tData"])])])):m("",!0)]))}},oe=V(ae,[["__scopeId","data-v-efc6e4b5"]]);export{oe as default};
