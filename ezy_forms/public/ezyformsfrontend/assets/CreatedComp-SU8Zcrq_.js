import{_ as x,b as m,j as k,w as q,o as b,c as g,e as t,g as F,i as M,k as P,n as $,t as y,l as S,h,d as B,u as U,a as l,F as i,B as I,f as D,E as L,m as N,p as E,q as J}from"./index-C7KoXGd-.js";const O={class:"pagination-controls"},G={class:"pagination"},W=["onClick"],j=["itemsPerPage"],A={class:"totalcount text-secondary"},z={class:"fw-bold"},T={__name:"PaginationComp",props:{currentRecords:{type:Number,required:!0},totalRecords:{type:Number,required:!0}},emits:["updateValue","limitStart"],setup(C,{emit:_}){const d=C,n=m(10),V=m([10,20,50]),f=_,o=m(0),R=k(()=>V.value.filter(r=>r<=d.totalRecords)),p=r=>{n.value=r,o.value=0,f("updateValue",n.value)},w=()=>{o.value+=n.value,f("limitStart",[n.value,o.value])};return q(()=>d.currentRecords,(r,u)=>{console.log(`Current records changed from ${u} to ${r}`)}),(r,u)=>(b(),g("div",O,[t("ul",G,[(b(!0),g(F,null,M(R.value,c=>(b(),g("li",{key:c,class:"p-0",onClick:P(v=>p(c),["prevent"])},[t("a",{href:"#",itemsPerPage:n.value,class:$({active:c===n.value})},y(c),11,j)],8,W))),128)),d.currentRecords<d.totalRecords?(b(),g("li",{key:0,class:"more",onClick:u[0]||(u[0]=c=>w())},"more..")):S("",!0)]),t("div",null,[t("span",A,[h(y(d.currentRecords)+" / ",1),t("span",z,y(d.totalRecords),1),u[1]||(u[1]=h(" records"))])])]))}},H=x(T,[["__scopeId","data-v-2f066ca7"]]),K={class:"d-flex justify-content-between align-items-center formsticky"},Q={class:"d-flex gap-2 align-items-center"},X={class:"d-flex align-items-center"},Y={class:"mt-2"},Z={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ee={class:"modal-dialog modal-xl"},te={class:"modal-content"},oe={class:"modal-body"},se={class:"row"},ae={class:"col-3"},le={class:"col-3"},ne={class:"col-3"},ie={class:"col-3"},de={class:"col-3"},re={class:"col-3"},ue={class:"col-3"},me={class:"col-3"},ce={class:"modal-footer"},pe={class:"modal fade",id:"formViewModal",tabindex:"-1","aria-labelledby":"formViewModalLabel","aria-hidden":"true"},fe={class:"modal-dialog modal-lg"},ve={class:"modal-content"},be={class:"modal-body"},ge={__name:"CreatedComp",setup(C){const _=k(()=>L.value);B(()=>{});function d(a,e){console.log(a,"oooooooooooooooooo"),console.log("actionEvent === ",e),e.name==="View form"&&(new bootstrap.Modal(document.getElementById("formViewModal"),{}).show(),f.value=a)}const n=()=>{bootstrap.Modal.getInstance(document.getElementById("formViewModal")).hide()},V=m([{name:"View form",icon:"fa-solid fa-eye"},{name:"Edit accessibility to dept.",icon:"fa-solid fa-users"},{name:"Share this form",icon:"fa-solid fa-share-alt"},{name:"Download Print format",icon:"fa-solid fa-download"},{name:"Edit Form",icon:"fa-solid fa-edit"},{name:"In-active this form",icon:"fa-solid fa-ban"}]),f=m(null),o=m({limitstart:0,limitPageLength:20,form_name:"",form_short_name:"",accessible_departments:"[]",business_unit:"",form_category:"",owner_of_the_form:"",search:""});q(_,a=>{o.value.business_unit=a,console.log(a,"new value of business unit"),a&&v()},{immediate:!0});const R=m([{th:"Form name",td_key:"name"},{th:"Form category",td_key:"form_category"},{th:"Owner of form",td_key:"owner_of_the_form"},{th:"Accessible departments",td_key:"accessible_departments"},{th:"Status",td_key:"active"}]),p=m([]),w=U();function r(){w.push({path:"/new/formsteps"})}const u=a=>{o.value.limitPageLength=a,o.value.limitstart=0,v()},c=([a,e])=>{o.value.limitPageLength=a,o.value.limitstart=e,v()};function v(){const a=[["business_unit","like",`%${o.value.business_unit}%`]];o.value.search.trim()&&a.push(["name","like",`%${o.value.search}%`]);const e={fields:JSON.stringify(["*"]),filters:JSON.stringify(a),limit_page_length:o.value.limitPageLength,limitstart:o.value.limitstart};N.get(`${E.resource}${J.EzyFormDefinitions}`,{params:e}).then(s=>{p.value=s.data}).catch(s=>{console.error("Error fetching ezyForms data:",s)})}return(a,e)=>(b(),g("div",null,[t("div",K,[e[13]||(e[13]=t("div",null,[t("h1",{class:"m-0 font-13"},"Forms Master"),t("p",{class:"m-0 font-11 pt-1"},"374 forms available")],-1)),t("div",Q,[t("div",null,[l(i,{labeltext:"",class:"",tag:"input",type:"search",placeholder:"Search File Name",name:"Value",id:"Value",modelValue:o.value.search,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.search=s),onInput:e[1]||(e[1]=s=>v())},null,8,["modelValue"])]),e[12]||(e[12]=t("div",null,[t("button",{type:"button",class:"filterbtn d-flex align-items-center justify-content-between","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},[t("span",null," Filters By"),h(),t("span",null,[t("i",{class:"bi bi-chevron-down"})])])],-1)),t("div",X,[l(I,{class:"buttoncomp",onClick:e[2]||(e[2]=s=>r()),name:"Create form"})])])]),t("div",Y,[l(D,{tHeaders:R.value,tData:p.value,isAction:"true",actionType:"dropdown",onActionClicked:d,actions:V.value,isCheckbox:"true"},null,8,["tHeaders","tData","actions"]),l(H,{currentRecords:p.value.length,totalRecords:p.value.length,onUpdateValue:u,onLimitStart:c},null,8,["currentRecords","totalRecords"])]),t("div",Z,[t("div",ee,[t("div",te,[t("div",oe,[t("div",se,[t("div",ae,[e[14]||(e[14]=t("label",{class:"font-13 ps-1",for:"Requested"},"Requested By:",-1)),l(i,{class:"mb-3",tag:"input",type:"search",name:"Requested",id:"Requested",placeholder:"Search",modelValue:o.value.search,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.search=s)},null,8,["modelValue"])]),t("div",le,[e[15]||(e[15]=t("label",{class:"font-13 ps-1 fw-medium",for:"dept"},"Requested Dept:",-1)),l(i,{tag:"select",placeholder:"Select Department",class:"mb-3",name:"dept",modelValue:o.value.selectoption,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.selectoption=s),id:"dept",Required:!1,options:["JW Marriott Golfshire Banglore","JW Marriott Golfshire Banglore"]},null,8,["modelValue"])]),t("div",ne,[e[16]||(e[16]=t("label",{class:"font-13 ps-1",for:"dept"},"Owner OF Form:",-1)),l(i,{tag:"select",placeholder:"Select Department",class:"mb-3",name:"dept",modelValue:o.value.selectoption,"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.selectoption=s),id:"dept",Required:!1,options:["JW Marriott Golfshire Banglore","JW Marriott Golfshire Banglore"]},null,8,["modelValue"])]),t("div",ie,[e[17]||(e[17]=t("label",{class:"font-13 ps-1",for:"dept"},"Form Category:",-1)),l(i,{tag:"select",placeholder:"Select Department",class:"mb-3",name:"dept",modelValue:o.value.selectoption,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.selectoption=s),id:"dept",Required:!1,options:["JW Marriott Golfshire Banglore","JW Marriott Golfshire Banglore"]},null,8,["modelValue"])]),t("div",de,[e[18]||(e[18]=t("label",{class:"font-13 ps-1",for:"Requested"},"Form Name:",-1)),l(i,{class:"mb-3",tag:"input",type:"search",name:"Requested",id:"Requested",placeholder:"Search",modelValue:o.value.search,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.search=s)},null,8,["modelValue"])]),t("div",re,[e[19]||(e[19]=t("label",{class:"font-13 ps-1",for:"Requested"},"Requested Period:",-1)),l(i,{class:"mb-3",tag:"input",type:"date",name:"Requested",id:"Requested",placeholder:"Jan-2024-Dec-2024",modelValue:o.value.search,"onUpdate:modelValue":e[8]||(e[8]=s=>o.value.search=s)},null,8,["modelValue"])]),t("div",ue,[l(i,{tag:"radio",options:a.radioOptions,name:"exampleRadio",id:"exampleRadio",modelValue:o.value.selectedRadio,"onUpdate:modelValue":e[9]||(e[9]=s=>o.value.selectedRadio=s),labeltext:"Approval Status"},null,8,["options","modelValue"])]),t("div",me,[e[20]||(e[20]=t("label",{class:"font-13 ps-1",for:"Requested"},"Requested Id:",-1)),l(i,{class:"mb-3",tag:"input",type:"search",name:"Requested",id:"Requested",placeholder:"Search",modelValue:o.value.search,"onUpdate:modelValue":e[10]||(e[10]=s=>o.value.search=s)},null,8,["modelValue"])])])]),t("div",ce,[e[22]||(e[22]=t("button",{type:"button",class:"cancelfilter border-0 text-nowrap font-10","data-bs-dismiss":"modal"},[t("span",{class:"font-14 me-1"},"x"),h("Cancel Filter")],-1)),t("button",{type:"button",class:"applyfilter text-nowrap border-0 bg-primary text-white font-10 d-flex justify-content-center align-items-center","data-bs-dismiss":"modal",onClick:e[11]||(e[11]=s=>a.applyFilter())},e[21]||(e[21]=[t("span",{class:"font-16 me-1"},[t("i",{class:"bi bi-check2"})],-1),h(" Apply Filter")]))])])])]),t("div",pe,[t("div",fe,[t("div",ve,[t("div",{class:"modal-header"},[e[23]||(e[23]=t("h5",{class:"modal-title",id:"formViewModalLabel"},"View Form",-1)),t("button",{type:"button",class:"btn-close",onClick:n,"aria-label":"Close"})]),t("div",be,[t("pre",null,y(f.value),1)]),t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary",onClick:n},"Close")])])])])]))}},ye=x(ge,[["__scopeId","data-v-97b5fe0e"]]);export{ye as default};
